{"remainingRequest":"/Users/apple/Desktop/om3-extend/om3-client/node_modules/babel-loader/lib/index.js!/Users/apple/Desktop/om3-extend/om3-client/node_modules/ts-loader/index.js??ref--15-2!/Users/apple/Desktop/om3-extend/om3-client/node_modules/eslint-loader/index.js??ref--14-0!/Users/apple/Desktop/om3-extend/om3-client/src/helper/haar-tree.ts","dependencies":[{"path":"/Users/apple/Desktop/om3-extend/om3-client/src/helper/haar-tree.ts","mtime":1732546288000},{"path":"/Users/apple/Desktop/om3-extend/om3-client/babel.config.js","mtime":1732546288000},{"path":"/Users/apple/Desktop/om3-extend/om3-client/node_modules/cache-loader/dist/cjs.js","mtime":1732627998000},{"path":"/Users/apple/Desktop/om3-extend/om3-client/node_modules/babel-loader/lib/index.js","mtime":1732627998000},{"path":"/Users/apple/Desktop/om3-extend/om3-client/node_modules/ts-loader/index.js","mtime":1732627997000},{"path":"/Users/apple/Desktop/om3-extend/om3-client/node_modules/eslint-loader/index.js","mtime":1732627997000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZXhwb3J0IGRlZmF1bHQgY2xhc3MgSGFhclRyZWUgewogIC8vZmV0Y2hlcjogVHJlZU5vZGVGZXRjaGVyCiAgY29uc3RydWN0b3IocGFyZW50LCBsZWZ0Q2hpbGQgPSB0cnVlLCBpbmRleCA9IDAsIHZhbHVlLCBkaWYpIHsKICAgIHRoaXMucGFyZW50ID0gcGFyZW50OwogICAgdGhpcy5fbGVmdENoaWxkID0gbnVsbDsKICAgIHRoaXMuX3JpZ2h0Q2hpbGQgPSBudWxsOwogICAgdGhpcy52YWx1ZSA9IHZhbHVlOyAvL1RpbWUtbWluLFZhbC1taW4sVmFsLW1heCxULW1heAogICAgdGhpcy5kaWZmZXJlbmNlID0gbnVsbDsKICAgIHRoaXMubGV2ZWwgPSAwOwogICAgdGhpcy5wcmV2aW91c1NpYmxpbmcgPSBudWxsOwogICAgdGhpcy5uZXh0U2libGluZyA9IG51bGw7CiAgICB0aGlzLnRyZW5kUmFuZ2UgPSBbMCwgMF07CiAgICBpZiAoZGlmICE9PSB1bmRlZmluZWQpIHsKICAgICAgdGhpcy5kaWZmZXJlbmNlID0gZGlmOwogICAgfQogICAgaWYgKHBhcmVudCkgewogICAgICB0aGlzLmxldmVsID0gcGFyZW50LmxldmVsICsgMTsKICAgICAgLy90aGlzLmZldGNoZXIgPSBwYXJlbnQuZmV0Y2hlcjsKICAgICAgaWYgKGxlZnRDaGlsZCkgewogICAgICAgIHRoaXMuaW5kZXggPSAyICogaW5kZXg7CiAgICAgICAgLy9AdHMtaWdub3JlCiAgICAgICAgdGhpcy5wYXJlbnQuX2xlZnRDaGlsZCA9IHRoaXM7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5pbmRleCA9IDIgKiBpbmRleCArIDE7CiAgICAgICAgLy9AdHMtaWdub3JlCiAgICAgICAgdGhpcy5wYXJlbnQuX3JpZ2h0Q2hpbGQgPSB0aGlzOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICB0aGlzLmluZGV4ID0gMDsKICAgICAgLy90aGlzLmZldGNoZXIgPSBuZXcgVHJlZU5vZGVGZXRjaGVyKCkKICAgIH0KICAgIHRoaXMudGltZVJhbmdlID0gW107CiAgfQogIGdldCBsZXZlbE51bXMoKSB7CiAgICByZXR1cm4gTWF0aC5wb3coMiwgdGhpcy5sZXZlbCk7CiAgfQogIGdldFRpbWVSYW5nZShnbG9iYWxEYXRhTGVuKSB7CiAgICBpZiAodGhpcy50aW1lUmFuZ2UubGVuZ3RoID4gMCkgewogICAgICByZXR1cm4gW3RoaXMudGltZVJhbmdlWzBdLCB0aGlzLnRpbWVSYW5nZVsxXV07CiAgICB9CiAgICBjb25zdCBub2RlRGF0YVJhbmdlID0gZ2xvYmFsRGF0YUxlbiAvIDIgKiogdGhpcy5sZXZlbDsKICAgIHRoaXMudGltZVJhbmdlWzBdID0gdGhpcy5pbmRleCAqIG5vZGVEYXRhUmFuZ2U7CiAgICB0aGlzLnRpbWVSYW5nZVsxXSA9IHRoaXMudGltZVJhbmdlWzBdICsgbm9kZURhdGFSYW5nZSAtIDE7CiAgICByZXR1cm4gW3RoaXMudGltZVJhbmdlWzBdLCB0aGlzLnRpbWVSYW5nZVsxXV07CiAgfQp9"},{"version":3,"names":["HaarTree","constructor","parent","leftChild","index","value","dif","_leftChild","_rightChild","difference","level","previousSibling","nextSibling","trendRange","undefined","timeRange","levelNums","Math","pow","getTimeRange","globalDataLen","length","nodeDataRange"],"sources":["/Users/apple/Desktop/om3-extend/om3-client/node_modules/eslint-loader/index.js??ref--14-0!/Users/apple/Desktop/om3-extend/om3-client/src/helper/haar-tree.ts"],"sourcesContent":["export default class HaarTree {\n    parent: HaarTree | null;\n    _leftChild: HaarTree | null;\n    _rightChild: HaarTree | null;\n    value: number;\n    difference: number | null;\n    level: number;\n    index: number;\n    previousSibling: HaarTree | null;\n    nextSibling: HaarTree | null;\n    trendRange: Array<number>\n    timeRange:Array<number>\n    //fetcher: TreeNodeFetcher\n    constructor(parent: HaarTree | null, leftChild = true, index = 0, value:number, dif?:number) {\n       \n        this.parent = parent;\n        this._leftChild = null;\n        this._rightChild = null;\n        this.value = value;//Time-min,Val-min,Val-max,T-max\n        this.difference = null;\n\n        this.level = 0;\n        this.previousSibling = null;\n        this.nextSibling = null\n        this.trendRange = [0, 0];\n        \n        if (dif!==undefined) {\n            this.difference = dif;\n        }\n        if (parent) {\n            this.level = parent.level + 1;\n            //this.fetcher = parent.fetcher;\n            if (leftChild) {\n                this.index = 2 * index;\n                //@ts-ignore\n                this.parent._leftChild = this;\n            } else {\n                this.index = 2 * index + 1;\n                //@ts-ignore\n                this.parent._rightChild = this;\n            }\n        } else {\n            this.index = 0;\n            //this.fetcher = new TreeNodeFetcher()\n        }\n        this.timeRange=[];\n    }\n    get levelNums() {\n        return Math.pow(2, this.level);\n    }\n\n    getTimeRange(globalDataLen:number){\n        if(this.timeRange.length>0){\n            return [this.timeRange[0],this.timeRange[1]];\n        }\n        const nodeDataRange=globalDataLen/(2**this.level);\n        this.timeRange[0]=this.index*nodeDataRange;\n        this.timeRange[1]=this.timeRange[0]+nodeDataRange-1;\n        return [this.timeRange[0],this.timeRange[1]];\n    }\n}"],"mappings":"AAAA,eAAc,MAAOA,QAAQ;EAYzB;EACAC,YAAYC,MAAuB,EAAEC,SAAS,GAAG,IAAI,EAAEC,KAAK,GAAG,CAAC,EAAEC,KAAY,EAAEC,GAAW;IAEvF,IAAI,CAACJ,MAAM,GAAGA,MAAM;IACpB,IAAI,CAACK,UAAU,GAAG,IAAI;IACtB,IAAI,CAACC,WAAW,GAAG,IAAI;IACvB,IAAI,CAACH,KAAK,GAAGA,KAAK,CAAC;IACnB,IAAI,CAACI,UAAU,GAAG,IAAI;IAEtB,IAAI,CAACC,KAAK,GAAG,CAAC;IACd,IAAI,CAACC,eAAe,GAAG,IAAI;IAC3B,IAAI,CAACC,WAAW,GAAG,IAAI;IACvB,IAAI,CAACC,UAAU,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;IAExB,IAAIP,GAAG,KAAGQ,SAAS,EAAE;MACjB,IAAI,CAACL,UAAU,GAAGH,GAAG;;IAEzB,IAAIJ,MAAM,EAAE;MACR,IAAI,CAACQ,KAAK,GAAGR,MAAM,CAACQ,KAAK,GAAG,CAAC;MAC7B;MACA,IAAIP,SAAS,EAAE;QACX,IAAI,CAACC,KAAK,GAAG,CAAC,GAAGA,KAAK;QACtB;QACA,IAAI,CAACF,MAAM,CAACK,UAAU,GAAG,IAAI;OAChC,MAAM;QACH,IAAI,CAACH,KAAK,GAAG,CAAC,GAAGA,KAAK,GAAG,CAAC;QAC1B;QACA,IAAI,CAACF,MAAM,CAACM,WAAW,GAAG,IAAI;;KAErC,MAAM;MACH,IAAI,CAACJ,KAAK,GAAG,CAAC;MACd;;IAEJ,IAAI,CAACW,SAAS,GAAC,EAAE;EACrB;EACA,IAAIC,SAASA,CAAA;IACT,OAAOC,IAAI,CAACC,GAAG,CAAC,CAAC,EAAE,IAAI,CAACR,KAAK,CAAC;EAClC;EAEAS,YAAYA,CAACC,aAAoB;IAC7B,IAAG,IAAI,CAACL,SAAS,CAACM,MAAM,GAAC,CAAC,EAAC;MACvB,OAAO,CAAC,IAAI,CAACN,SAAS,CAAC,CAAC,CAAC,EAAC,IAAI,CAACA,SAAS,CAAC,CAAC,CAAC,CAAC;;IAEhD,MAAMO,aAAa,GAACF,aAAa,GAAE,CAAC,IAAE,IAAI,CAACV,KAAM;IACjD,IAAI,CAACK,SAAS,CAAC,CAAC,CAAC,GAAC,IAAI,CAACX,KAAK,GAACkB,aAAa;IAC1C,IAAI,CAACP,SAAS,CAAC,CAAC,CAAC,GAAC,IAAI,CAACA,SAAS,CAAC,CAAC,CAAC,GAACO,aAAa,GAAC,CAAC;IACnD,OAAO,CAAC,IAAI,CAACP,SAAS,CAAC,CAAC,CAAC,EAAC,IAAI,CAACA,SAAS,CAAC,CAAC,CAAC,CAAC;EAChD","ignoreList":[]}]}