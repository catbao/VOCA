{"remainingRequest":"/Users/apple/Desktop/om3-extend/om3-client/node_modules/babel-loader/lib/index.js!/Users/apple/Desktop/om3-extend/om3-client/node_modules/ts-loader/index.js??ref--15-2!/Users/apple/Desktop/om3-extend/om3-client/node_modules/eslint-loader/index.js??ref--14-0!/Users/apple/Desktop/om3-extend/om3-client/src/application/multi-interaction.ts","dependencies":[{"path":"/Users/apple/Desktop/om3-extend/om3-client/src/application/multi-interaction.ts","mtime":1732637698000},{"path":"/Users/apple/Desktop/om3-extend/om3-client/babel.config.js","mtime":1732546288000},{"path":"/Users/apple/Desktop/om3-extend/om3-client/node_modules/cache-loader/dist/cjs.js","mtime":1732627998000},{"path":"/Users/apple/Desktop/om3-extend/om3-client/node_modules/babel-loader/lib/index.js","mtime":1732627998000},{"path":"/Users/apple/Desktop/om3-extend/om3-client/node_modules/ts-loader/index.js","mtime":1732627997000},{"path":"/Users/apple/Desktop/om3-extend/om3-client/node_modules/eslint-loader/index.js","mtime":1732627997000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCBzdG9yZSBmcm9tICJAL3N0b3JlIjsKaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwovLyBpbXBvcnQgeyBiYXRjaFZpZXdDaGFuZ2UsIGJhdGNoR2V0RGF0YSB9IGZyb20gIi4uL2JhdGNoL201YmF0Y2giOwpsZXQgbmFtZU1hcCA9IFsKLy9ncmVlbgp7CiAgIm1hcnV0aXNrdHIiOiAi5rG96L2mLSMwZTc3MzUiCn0sIHsKICAidGF0YW1vdG9yc3NrdHIiOiAi5rG96L2mLSMzMjlhNTEiCn0sIHsKICAiZWljaGVybW90c2t0ciI6ICLmsb3ovaYtIzYwYmE2YyIKfSwgewogICJoZXJvbW90b2Nvc2t0ciI6ICLmkanmiZgtIzk0ZDM5MSIKfSwgewogICJtbXNrdHIiOiAi5rG96L2mLSNjMGU2YmEiCn0sCi8vb3JhbmdlcwovLyB7Ci8vICAgICAiYmFqZmluYW5jZXNrdHIiOiAi6YeR6J6NLSNiOTNkMDIiCi8vIH0sCnsKICAiYXhpc2Jhbmtza3RyIjogIumHkeiejS0jZDE0OTA0Igp9LCB7CiAgImluZHVzaW5kYmtza3RyIjogIumHkeiejS0jZTQ1ODBiIgp9LAovLyB7Ci8vICAgICAiYmFqYWpmaW5zdnNrdHIiOiAi6YeR6J6NLSNmODdmMmMiCi8vIH0sCnsKICAia290YWtiYW5rc2t0ciI6ICLph5Hono0tI2ZkYTU1ZSIKfSwKLy9jb2xvcgp7CiAgInNiaW5za3RyIjogIumTtuihjC0jMzUzNTM1Igp9LCB7CiAgImljaWNpYmFua3NrdHIiOiAi6ZO26KGMLSM0ZDRkNGQiCn0sIHsKICAiaGRmY3NrdHIiOiAi6ZO26KGMLSM2MjYyNjIiCn0sIHsKICAiaGRmY2Jhbmtza3RyIjogIumTtuihjC0jNzU3NTc1Igp9LAovL2JsdWUKewogICJpbmZ5c2t0ciI6ICLkv6Hmga8tIzEyNWNhNCIKfSwgewogICJ0ZWNobXNrdHIiOiAi5L+h5oGvLSMzMTgxYmQiCn0sIHsKICAiaGNsdGVjaHNrdHIiOiAi5L+h5oGvLSM1YmEzY2YiCn0sIHsKICAidGNzc2t0ciI6ICLkv6Hmga8tIzhmYzFkZSIKfSwKLy9wdXJwbGVzCnsKICAiY29hbGluZGlhc2t0ciI6ICLnhaTngq0tIzVjMzY5NiIKfSwgewogICJvbmdjc2t0ciI6ICLnn7PmsrnmsJQtIzY4NGVhMiIKfSwgewogICJpb2Nza3RyIjogIuefs+ayueawlC0jNzU2NmFlIgp9LCB7CiAgImJwY2xza3RyIjogIuefs+ayuS0jODI3Y2I5Igp9LCB7CiAgInBvd2VyZ3JpZHNrdHIiOiAi55S1572RLSM5MjhlYzMiCn0sIHsKICAibnRwY3NrdHIiOiAi5YWJ5LyPLSNhM2EwY2MiCn0sCi8vcmVkCnsKICAiYnJpdGFubmlhc2t0ciI6ICLpo5/lk4EtI2IyMTIxOCIKfSwgewogICJuZXN0bGVpbmRza3RyIjogIumbgOW3oi0jZGMyYTI1Igp9LCB7CiAgInRhdGFjb25zdW1za3RyIjogIumlruaWmS0jZjY1NzNmIgp9LAovL3RlYWxzIAp7CiAgImRycmVkZHlza3RyIjogIuWItuiNry0jMTI3MjczIgp9LCB7CiAgInN1bnBoYXJtYXNrdHIiOiAi5Yi26I2vLSMyYjhiOGMiCn0sIHsKICAiZGl2aXNsYWJza3RyIjogIuWItuiNry0jNGRhNWE0Igp9LAovL2dyZXlzCnsKICAianN3c3RlZWxza3RyIjogIumSoumTgS0jMzUzNTM1Igp9LCB7CiAgInRhdGFzdGVlbHNrdHIiOiAi6ZKi6ZOBLSM0ZDRkNGQiCn0sIHsKICAibHRza3RyIjogIuW3peeoi+W7uuetkS0jNjI2MjYyIgp9LCB7CiAgInVwbHNrdHIiOiAi5Yac6I2vLSM3NTc1NzUiCn0sIHsKICAicmVsaWFuY2Vza3RyIjogIuS/oeWunuW3peS4mi0jODg4ODg4Igp9LCB7CiAgImdyYXNpbXNrdHIiOiAi57q657uHLSM5ZDlkOWQiCn0sCi8vd2FybWdyZXlzCnsKICAidWx0cmFjZW1jb3NrdHIiOiAi5rC05rOlLSM2NjVjNWEiCn0sIHsKICAic2hyZWVjZW1za3RyIjogIuawtOazpS0jN2U3NjczIgp9LCB7CiAgImFzaWFucGFpbnRza3RyIjogIua2guaWmS0jOTg5MDhjIgp9LCB7CiAgImhpbmRhbGNvc2t0ciI6ICLpk53pk5wtI2IzYWFhNyIKfSwgewogICJpdGNza3RyIjogIui0uOaYky0jZDhiNWE1Igp9LCB7CiAgImFkYW5pcG9ydHNza3RyIjogIua4r+WPo+i/kOiQpS0jZmNiZmQyIgp9LCB7CiAgInRpdGFuc2t0ciI6ICLnj6Dlrp0tI2ZmYmY3OSIKfSwgewogICJoaW5kdW5pbHZyc2t0ciI6ICLogZTlkIjliKnljY4tI2Q5ZDlkOSIKfV07CmxldCBuYW1lZE1hcCA9IG5ldyBNYXAoKTsKZm9yIChsZXQgaSA9IDA7IGkgPCBuYW1lTWFwLmxlbmd0aDsgaSsrKSB7CiAgY29uc3Qga2V5ID0gT2JqZWN0LmtleXMobmFtZU1hcFtpXSlbMF07CiAgbmFtZWRNYXAuc2V0KGtleSwgbmFtZU1hcFtpXVtrZXldKTsKfQphc3luYyBmdW5jdGlvbiBnZXQodXJsKSB7CiAgdXJsID0gJ3Bvc3RncmVzJyArIHVybDsKICAvL2NvbnN0IGxvYWRpbmcgPSBvcGVuTG9hZGluZygpOwogIGNvbnN0IHsKICAgIGRhdGEKICB9ID0gYXdhaXQgYXhpb3MuZ2V0KHVybCk7CiAgLy9sb2FkaW5nLmNsb3NlKCk7CiAgcmV0dXJuIGRhdGE7Cn0KY2xhc3MgSW50ZXJhY3Rpb25JbmZvIHsKICBjb25zdHJ1Y3Rvcih0eXBlKSB7CiAgICB0aGlzLnR5cGUgPSB0eXBlOwogICAgdGhpcy5zaG93SW5mbyA9IFtdOwogICAgdGhpcy50aW1lUmFuZ2UgPSBbXTsKICAgIHRoaXMud2lkdGggPSAwOwogICAgdGhpcy5sZXZlbCA9IDA7CiAgfQogIHNldFNob3dJbmZvKHNob3dJbmZvKSB7CiAgICB0aGlzLnNob3dJbmZvID0gc2hvd0luZm87CiAgfQogIHNldFJhbmdlVyh0aW1lUmFuZ2UsIHdpZHRoLCBsZXZlbCkgewogICAgdGhpcy50aW1lUmFuZ2UgPSBbdGltZVJhbmdlWzBdLCB0aW1lUmFuZ2VbMV1dOwogICAgdGhpcy53aWR0aCA9IHdpZHRoOwogICAgdGhpcy5sZXZlbCA9IGxldmVsOwogIH0KfQpsZXQgaW50ZXJhY3Rpb25TdGFjayA9IFtdOwpleHBvcnQgZnVuY3Rpb24gZHJhd011bHRpVGltZVNlcmllcyhtdWx0aVRpbWVTZXJpZXNPYmopIHsKICB2YXIgX2RvY3VtZW50JGdldEVsZW1lbnRCOwogIGxldCByZWFsVGltZVN0YW1wUmFuZ2UgPSBbbXVsdGlUaW1lU2VyaWVzT2JqLnN0YXJ0VGltZVN0YW1wLCBtdWx0aVRpbWVTZXJpZXNPYmouZW5kVGltZVN0YW1wXTsKICBsZXQgbm9kZUluZGV4UmFuZ2UgPSBbbXVsdGlUaW1lU2VyaWVzT2JqLnRpbWVSYW5nZVswXSwgbXVsdGlUaW1lU2VyaWVzT2JqLnRpbWVSYW5nZVsxXV07CiAgbGV0IHJvd051bWJlciA9IDY1NTM2OyAvLy8vLy8vLy8vLy8v5L+u5pS55YmNMTMxMDcyCiAgbGV0IGlzSW5pdCA9IGZhbHNlOwogIGxldCBpc1Jlc2l6aW5nID0gZmFsc2U7CiAgbGV0IGlzUmViYWNraW5nID0gZmFsc2U7CiAgbGV0IGludGVyYWN0aXZlSW5mbyA9IHsKICAgIHN0YXJ0WDogMCwKICAgIHN0YXJ0WTogMCwKICAgIG9mZnNldFg6IDAsCiAgICBvZmZzZXRZOiAwLAogICAgaXNNb3VzZURvd246IGZhbHNlLAogICAgaXNNb3ZlOiBmYWxzZQogIH07CiAgLy9jb25zdCBwYWRpbmcgPSB7IHRvcDogMjAsIGJvdHRvbTogODAsIGxlZnQ6IDQ1LCByaWdodDogMjUwIH07CiAgY29uc3QgcGFkaW5nID0gewogICAgdG9wOiAyMCwKICAgIGJvdHRvbTogODAsCiAgICBsZWZ0OiA0NSwKICAgIHJpZ2h0OiAyMAogIH07CiAgY29uc3Qgc3ZnID0gZDMuc2VsZWN0KCIjY29udGVudC1jb250YWluZXIiKS5hcHBlbmQoInN2ZyIpOwogIHN2Zy5hdHRyKCJ3aWR0aCIsIG11bHRpVGltZVNlcmllc09iai53aWR0aCArIHBhZGluZy5sZWZ0ICsgcGFkaW5nLnJpZ2h0KS5hdHRyKCJoZWlnaHQiLCBtdWx0aVRpbWVTZXJpZXNPYmouaGVpZ2h0ICsgcGFkaW5nLnRvcCArIHBhZGluZy5ib3R0b20pLmF0dHIoInRyYW5zZm9ybSIsIGB0cmFuc2xhdGUoJHttdWx0aVRpbWVTZXJpZXNPYmoueH0sJHttdWx0aVRpbWVTZXJpZXNPYmoueX0pYCkuc3R5bGUoImJhY2tncm91bmQtY29sb3IiLCAiI2ZmZiIpOwogIGNvbnN0IGZvcmVpZ25JZCA9IGBmb3JlaWduJHttdWx0aVRpbWVTZXJpZXNPYmoud2lkdGggKyBNYXRoLnJhbmRvbSgpfWA7CiAgY29uc3QgZm9yZWlnRyA9IHN2Zy5hcHBlbmQoImciKS5hdHRyKCJ0cmFuc2Zyb20iLCBgdHJhbnNsYXRlKCR7cGFkaW5nLmxlZnR9LCR7cGFkaW5nLnRvcH0pYCk7CiAgbGV0IGZvcmVpZ25PYmogPSBmb3JlaWdHLmFwcGVuZCgiZm9yZWlnbk9iamVjdCIpLmF0dHIoImlkIiwgZm9yZWlnbklkKS5hdHRyKCJ4IiwgcGFkaW5nLmxlZnQpLmF0dHIoInkiLCBwYWRpbmcudG9wKS5hdHRyKCd3aWR0aCcsIG11bHRpVGltZVNlcmllc09iai53aWR0aCkuYXR0cignaGVpZ2h0JywgbXVsdGlUaW1lU2VyaWVzT2JqLmhlaWdodCk7CiAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIik7CiAgY2FudmFzLl9fZGF0YV9fID0ge307CiAgKF9kb2N1bWVudCRnZXRFbGVtZW50QiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGZvcmVpZ25JZCkpID09PSBudWxsIHx8IF9kb2N1bWVudCRnZXRFbGVtZW50QiA9PT0gdm9pZCAwIHx8IF9kb2N1bWVudCRnZXRFbGVtZW50Qi5hcHBlbmRDaGlsZChjYW52YXMpOwogIGNhbnZhcy53aWR0aCA9IG11bHRpVGltZVNlcmllc09iai53aWR0aDsKICBjYW52YXMuaGVpZ2h0ID0gbXVsdGlUaW1lU2VyaWVzT2JqLmhlaWdodDsKICBsZXQgY3R4ID0gY2FudmFzLmdldENvbnRleHQoIjJkIik7CiAgLy9jb25zdCB0aW1lUmFuZ2VTY2FsZSA9IGQzLnNjYWxlTGluZWFyKCkuZG9tYWluKFsxNDkzNzMzODg0NDA5LCAxNDkzODI5MjQ4Mjk0XSkucmFuZ2UoWzAsIDIgKiogMjAgLSAxXSk7CiAgY29uc3QgaW5kZXhUb1RpbWVTdGFtcFNjYWxlID0gZDMuc2NhbGVMaW5lYXIoKS5kb21haW4oW25vZGVJbmRleFJhbmdlWzBdLCBub2RlSW5kZXhSYW5nZVsxXV0pLnJhbmdlKFtyZWFsVGltZVN0YW1wUmFuZ2VbMF0sIHJlYWxUaW1lU3RhbXBSYW5nZVsxXV0pOwogIGNvbnN0IHhTY2FsZSA9IGQzLnNjYWxlTGluZWFyKCkuZG9tYWluKFswLCBtdWx0aVRpbWVTZXJpZXNPYmoud2lkdGhdKS5yYW5nZShbMCwgbXVsdGlUaW1lU2VyaWVzT2JqLndpZHRoXSk7CiAgLy8gbGV0IHNob3dUaW1lWFNjYWxlOiBhbnkgPSBkMy5zY2FsZVRpbWUoKS5kb21haW4oW25ldyBEYXRlKHJlYWxUaW1lU3RhbXBSYW5nZVswXSksIG5ldyBEYXRlKHJlYWxUaW1lU3RhbXBSYW5nZVsxXSldKS5yYW5nZShbMCwgbXVsdGlUaW1lU2VyaWVzT2JqLndpZHRoXSk7CiAgbGV0IHNob3dUaW1lWFNjYWxlID0gZDMuc2NhbGVMaW5lYXIoKS5kb21haW4oWzAsIHJvd051bWJlcl0pLnJhbmdlKFswLCBtdWx0aVRpbWVTZXJpZXNPYmoud2lkdGhdKTsKICBsZXQgeVNjYWxlID0gZDMuc2NhbGVMaW5lYXIoKS5kb21haW4oW211bHRpVGltZVNlcmllc09iai5taW52LCBtdWx0aVRpbWVTZXJpZXNPYmoubWF4dl0pLnJhbmdlKFttdWx0aVRpbWVTZXJpZXNPYmouaGVpZ2h0LCAwXSk7CiAgLy8gbGV0IHhSZVNjYWxlID0gZDMuc2NhbGVMaW5lYXIoKS5kb21haW4oWzAsIG11bHRpVGltZVNlcmllc09iai53aWR0aF0pLnJhbmdlKFswLCBtdWx0aVRpbWVTZXJpZXNPYmouZGF0YU1hbmFnZXJzWzBdLnJlYWxEYXRhUm93TnVtIC0gMV0pOwogIGxldCB4UmVTY2FsZSA9IGQzLnNjYWxlTGluZWFyKCkuZG9tYWluKFswLCBtdWx0aVRpbWVTZXJpZXNPYmoud2lkdGhdKS5yYW5nZShbMCwgNjU1MzZdKTsKICAvLyBsZXQgc2hvd1hUaW1lU2NhbGU6IGFueSA9IGQzLnNjYWxlVGltZSgpLmRvbWFpbihbbmV3IERhdGUocmVhbFRpbWVTdGFtcFJhbmdlWzBdKSwgbmV3IERhdGUocmVhbFRpbWVTdGFtcFJhbmdlWzFdKV0pLnJhbmdlKFswLCBtdWx0aVRpbWVTZXJpZXNPYmoud2lkdGhdKTsKICBsZXQgc2hvd1hUaW1lU2NhbGUgPSBkMy5zY2FsZUxpbmVhcigpLmRvbWFpbihbMCwgcm93TnVtYmVyXSkucmFuZ2UoWzAsIG11bHRpVGltZVNlcmllc09iai53aWR0aF0pOwogIGxldCB6b29tQXhpcyA9IGQzLmF4aXNCb3R0b20oc2hvd1RpbWVYU2NhbGUpOwogIGxldCB5QXhpcyA9IGQzLmF4aXNMZWZ0KHlTY2FsZSk7CiAgaWYgKHN0b3JlLnN0YXRlLmNvbnRyb2xQYXJhbXMuY3VycmVudE1vZGUgPT09ICdEZWZhdWx0JykgewogICAgeUF4aXMgPSBkMy5heGlzTGVmdCh5U2NhbGUpLnRpY2tGb3JtYXQodmFsID0+IHsKICAgICAgLy9AdHMtaWdub3JlCiAgICAgIHJldHVybiAxMDAgKiB2YWwgKyAiJSI7CiAgICB9KTsKICB9CiAgbGV0IHhBeGlzID0gZDMuYXhpc0JvdHRvbShzaG93WFRpbWVTY2FsZSk7CiAgY29uc3QgeVJlU2NhbGUgPSBkMy5zY2FsZUxpbmVhcigpLmRvbWFpbihbbXVsdGlUaW1lU2VyaWVzT2JqLm1pbnYsIG11bHRpVGltZVNlcmllc09iai5tYXh2XSkucmFuZ2UoW211bHRpVGltZVNlcmllc09iai5oZWlnaHQsIDBdKTsKICBjb25zdCB0aW1lQnJ1c2hPYmogPSBkMy5icnVzaFgoKS5leHRlbnQoW1swLCAxMF0sIFttdWx0aVRpbWVTZXJpZXNPYmoud2lkdGgsIDQwXV0pOwogIGNvbnN0IHRpbWVCb3hCcnVzaE9iaiA9IGQzLmJydXNoKCkuZXh0ZW50KFtbcGFkaW5nLmxlZnQsIHBhZGluZy50b3BdLCBbbXVsdGlUaW1lU2VyaWVzT2JqLndpZHRoICsgcGFkaW5nLmxlZnQsIG11bHRpVGltZVNlcmllc09iai5oZWlnaHQgKyBwYWRpbmcudG9wXV0pOwogIHRpbWVCb3hCcnVzaE9iai5vbigiZW5kIiwgdGltZUJveEJydXNoZWQpOwogIHRpbWVCcnVzaE9iai5vbigiZW5kIiwgYnJ1c2hlZCk7CiAgdGltZUJydXNoT2JqLm9uKCJzdGFydCIsICgpID0+IHsKICAgIGNvbnNvbGUubG9nKCJzdGFydCIpOwogIH0pOwogIGNvbnN0IHRpbWVCb3hHID0gc3ZnLmFwcGVuZCgiZyIpLmF0dHIoInRyYW5zZm9ybSIsIGB0cmFuc2xhdGUoJHtwYWRpbmcubGVmdH0sJHtwYWRpbmcudG9wICsgNTAgKyBtdWx0aVRpbWVTZXJpZXNPYmouaGVpZ2h0IC0gMjB9KWApLmNhbGwodGltZUJydXNoT2JqKS5jYWxsKHRpbWVCcnVzaE9iai5tb3ZlLCBbMCwgbXVsdGlUaW1lU2VyaWVzT2JqLndpZHRoXSk7CiAgZm9yZWlnRy5jYWxsKHRpbWVCb3hCcnVzaE9iaik7CiAgbGV0IHpvb21BeGlzRyA9IHN2Zy5hcHBlbmQoImciKS5hdHRyKCdzdHlsZScsICd1c2VyLXNlbGVjdDpub25lJykuYXR0cigidHJhbnNmb3JtIiwgYHRyYW5zbGF0ZSgke3BhZGluZy5sZWZ0fSwke211bHRpVGltZVNlcmllc09iai5oZWlnaHQgKyBwYWRpbmcudG9wICsgNTB9KWApLmF0dHIoImNsYXNzIiwgJ3ggYXhpcycpLmNhbGwoem9vbUF4aXMpOwogIGxldCB4QXhpc0cgPSBzdmcuYXBwZW5kKCJnIikuYXR0cignc3R5bGUnLCAndXNlci1zZWxlY3Q6bm9uZScpLmF0dHIoInRyYW5zZm9ybSIsIGB0cmFuc2xhdGUoJHtwYWRpbmcubGVmdH0sJHttdWx0aVRpbWVTZXJpZXNPYmouaGVpZ2h0ICsgcGFkaW5nLnRvcH0pYCkuYXR0cigiY2xhc3MiLCAneCBheGlzJykuY2FsbCh4QXhpcyk7CiAgbGV0IHlBeGlzRyA9IHN2Zy5hcHBlbmQoImciKS5hdHRyKCdzdHlsZScsICd1c2VyLXNlbGVjdDpub25lJykuYXR0cigidHJhbnNmb3JtIiwgYHRyYW5zbGF0ZSgke3BhZGluZy5sZWZ0fSwke3BhZGluZy50b3B9KWApLmF0dHIoImNsYXNzIiwgJ3kgYXhpcycpLmNhbGwoeUF4aXMpOwogIC8vQHRzLWlnbm9yZQogIGZ1bmN0aW9uIHVwZGF0ZUNhbnZhc1dpZHRoKCkgewogICAgLy9AdHMtaWdub3JlCiAgICBjYW52YXMuc3R5bGUud2lkdGggPSBtdWx0aVRpbWVTZXJpZXNPYmoud2lkdGg7CiAgICBzdmcuYXR0cigid2lkdGgiLCBtdWx0aVRpbWVTZXJpZXNPYmoud2lkdGggKyBwYWRpbmcubGVmdCArIHBhZGluZy5yaWdodCkuYXR0cigiaGVpZ2h0IiwgbXVsdGlUaW1lU2VyaWVzT2JqLmhlaWdodCArIHBhZGluZy50b3AgKyBwYWRpbmcuYm90dG9tKTsKICAgIGZvcmVpZ25PYmouYXR0cigid2lkdGgiLCBtdWx0aVRpbWVTZXJpZXNPYmoud2lkdGgpOwogICAgeFNjYWxlLmRvbWFpbihbMCwgbXVsdGlUaW1lU2VyaWVzT2JqLndpZHRoXSkucmFuZ2UoWzAsIG11bHRpVGltZVNlcmllc09iai53aWR0aF0pOwogICAgLy8gc2hvd1RpbWVYU2NhbGUuZG9tYWluKFtuZXcgRGF0ZShyZWFsVGltZVN0YW1wUmFuZ2VbMF0pLCBuZXcgRGF0ZShyZWFsVGltZVN0YW1wUmFuZ2VbMV0pXSkucmFuZ2UoWzAsIG11bHRpVGltZVNlcmllc09iai53aWR0aF0pOwogICAgc2hvd1RpbWVYU2NhbGUuZG9tYWluKFswLCByb3dOdW1iZXJdKS5yYW5nZShbMCwgbXVsdGlUaW1lU2VyaWVzT2JqLndpZHRoXSk7CiAgICBpZiAoem9vbUF4aXNHICE9IG51bGwpIHsKICAgICAgem9vbUF4aXNHLnJlbW92ZSgpOwogICAgICB6b29tQXhpc0cgPSBzdmcuYXBwZW5kKCJnIikuYXR0cignc3R5bGUnLCAndXNlci1zZWxlY3Q6bm9uZScpLmF0dHIoInRyYW5zZm9ybSIsIGB0cmFuc2xhdGUoJHtwYWRpbmcubGVmdH0sJHttdWx0aVRpbWVTZXJpZXNPYmouaGVpZ2h0ICsgcGFkaW5nLnRvcCArIDUwfSlgKS5hdHRyKCJjbGFzcyIsICd4IGF4aXMnKS5jYWxsKHpvb21BeGlzKTsKICAgIH0KICAgIHRpbWVCcnVzaE9iai5leHRlbnQoW1swLCAxMF0sIFttdWx0aVRpbWVTZXJpZXNPYmoud2lkdGgsIDQwXV0pOwogICAgdGltZUJydXNoT2JqLm9uKCJlbmQiLCBicnVzaGVkKTsKICAgIHRpbWVCcnVzaE9iai5vbigic3RhcnQiLCAoKSA9PiB7CiAgICAgIGNvbnNvbGUubG9nKCJzdGFydCIpOwogICAgfSk7CiAgICBjb25zdCB0ZW1wUmVTY2FsZSA9IGQzLnNjYWxlTGluZWFyKCkuZG9tYWluKFswLCBub2RlSW5kZXhSYW5nZVsxXV0pLnJhbmdlKFswLCBtdWx0aVRpbWVTZXJpZXNPYmoud2lkdGhdKTsKICAgIHRpbWVCb3hHLmNhbGwodGltZUJydXNoT2JqKS5jYWxsKHRpbWVCcnVzaE9iai5tb3ZlLCBbdGVtcFJlU2NhbGUobXVsdGlUaW1lU2VyaWVzT2JqLnRpbWVSYW5nZVswXSksIHRlbXBSZVNjYWxlKG11bHRpVGltZVNlcmllc09iai50aW1lUmFuZ2VbMV0pXSk7CiAgICBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgiMmQiKTsKICB9CiAgbGV0IGxlbmdlbmRHID0gbnVsbDsKICAvLyBmdW5jdGlvbiBkcmF3TGVuZ2VuZChsZWZ0T2Zmc2V0OiBudW1iZXIsIG11bHRpVGltZVNlcmllc09iajogTXVsdGlUaW1lU2VyaWVzT2JqLCBjb2xvckFycmF5OiBBcnJheTxzdHJpbmc+KSB7CiAgLy8gICAgIGlmIChsZW5nZW5kRyAhPT0gbnVsbCkgewogIC8vICAgICAgICAgbGVuZ2VuZEcucmVtb3ZlKCkKICAvLyAgICAgfQogIC8vICAgICAvL2xlbmdlbmRHID0gc3ZnLmFwcGVuZCgnZycpLmF0dHIoIndpZHRoIiwgMTAwKS5hdHRyKCJoZWlnaHQiLCA3MDApLmF0dHIoInRyYW5zZm9ybSIsIGB0cmFuc2xhdGUoJHtsZWZ0T2Zmc2V0fSwke3BhZGluZy50b3AgLSAxNX0pYCk7CiAgLy8gICAgIGxldCBzaG93TnVtID0gMDsKICAvLyAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtdWx0aVRpbWVTZXJpZXNPYmouY29sdW1uSW5mb3MubGVuZ3RoOyBpKyspIHsKICAvLyAgICAgICAgIGNvbnN0IGRhdGFNYW5hZ2VyID0gbXVsdGlUaW1lU2VyaWVzT2JqLmNvbHVtbkluZm9zW2ldOwogIC8vICAgICAgICAgaWYgKGRhdGFNYW5hZ2VyLmlzU2hvdykgewogIC8vICAgICAgICAgICAgIGlmIChzdG9yZS5zdGF0ZS5jb250cm9sUGFyYW1zLmN1cnJlbnRNb2RlID09PSAnRGVmYXVsdCcpIHsKICAvLyAgICAgICAgICAgICAgICAgbGV0IG5hbWVTdHJzID0gZGF0YU1hbmFnZXIuZGF0YU5hbWUuc3BsaXQoIi4iKVsxXS5zcGxpdCgiXyIpCiAgLy8gICAgICAgICAgICAgICAgIGlmIChuYW1lU3Ryc1sxXVtuYW1lU3Ryc1sxXS5sZW5ndGggLSAxXSAhPT0gJ3InKSB7CiAgLy8gICAgICAgICAgICAgICAgICAgICBuYW1lU3Ryc1sxXSA9IG5hbWVTdHJzWzFdICsgJ3InOwogIC8vICAgICAgICAgICAgICAgICB9CiAgLy8gICAgICAgICAgICAgICAgIGlmICghbmFtZWRNYXAuaGFzKG5hbWVTdHJzWzFdKSkgewogIC8vICAgICAgICAgICAgICAgICAgICAgZGF0YU1hbmFnZXIuaXNTaG93ID0gZmFsc2U7CiAgLy8gICAgICAgICAgICAgICAgICAgICBjb250aW51ZQogIC8vICAgICAgICAgICAgICAgICB9CiAgLy8gICAgICAgICAgICAgICAgIHNob3dOdW0rKzsKICAvLyAgICAgICAgICAgICB9IGVsc2UgewogIC8vICAgICAgICAgICAgICAgICBsZXQgbmFtZVN0cnMgPSBkYXRhTWFuYWdlci5kYXRhTmFtZS5zcGxpdCgiLiIpWzFdLnNwbGl0KCJfIik7CiAgLy8gICAgICAgICAgICAgICAgIGxldCBzaG93TmFtZSA9IG5hbWVTdHJzWzFdCiAgLy8gICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAyOyBpIDwgbmFtZVN0cnMubGVuZ3RoIC0gMjsgaSsrKSB7CiAgLy8gICAgICAgICAgICAgICAgICAgICBzaG93TmFtZSA9IHNob3dOYW1lICsgIl8iICsgbmFtZVN0cnNbaV07CiAgLy8gICAgICAgICAgICAgICAgIH0KICAvLyAgICAgICAgICAgICAgICAgY29uc3Qgc2hvd0NvbG9yID0gY29sb3JBcnJheVtkYXRhTWFuYWdlci5tZDVOdW0hICUgNDZdOwogIC8vICAgICAgICAgICAgICAgICBzaG93TnVtKys7CiAgLy8gICAgICAgICAgICAgfQogIC8vICAgICAgICAgfQogIC8vICAgICB9CiAgLy8gfQogIGZ1bmN0aW9uIGRyYXcoY29sdW1uSW5mb3MpIHsKICAgIHZhciBfY3R4OwogICAgY29uc3QgY29sb3JBcnJheTEgPSBbIiNiM2RlNjkiLCAiI2ZkYjQ2MiIsICIjODBiMWQzIiwgIiNmYjgwNzIiLCAiI2JlYmFkYSIsICIjZmZmZmIzIiwgIiM4ZGQzYzciLCAiIzFmNzdiNCIsICIjYWVjN2U4IiwgIiNmZjdmMGUiLCAiI2ZmYmI3OCIsICIjMmNhMDJjIiwgIiM5OGRmOGEiLCAiI2Q2MjcyOCIsICIjZmY5ODk2IiwgIiM5NDY3YmQiLCAiI2M1YjBkNSIsICIjOGM1NjRiIiwgIiNjNDljOTQiLCAiI2UzNzdjMiIsICIjZjdiNmQyIiwgIiM3ZjdmN2YiLCAiI2M3YzdjNyIsICIjYmNiZDIyIiwgIiNkYmRiOGQiLCAiIzE3YmVjZiIsICIjOWVkYWU1IiwgIiMzOTNiNzkiLCAiIzUyNTRhMyIsICIjNmI2ZWNmIiwgIiM5YzllZGUiLCAiIzYzNzkzOSIsICIjOGNhMjUyIiwgIiNiNWNmNmIiLCAiI2NlZGI5YyIsICIjOGM2ZDMxIiwgIiNiZDllMzkiLCAiI2U3YmE1MiIsICIjODQzYzM5IiwgIiNhZDQ5NGEiLCAiI2Q2NjE2YiIsICIjZTc5NjljIiwgIiM3YjQxNzMiLCAiI2E1NTE5NCIsICIjY2U2ZGJkIiwgIiNkZTllZDYiXTsKICAgIC8vIGRyYXdMZW5nZW5kKG11bHRpVGltZVNlcmllc09iai53aWR0aCArIHBhZGluZy5sZWZ0ICsgMTAsIG11bHRpVGltZVNlcmllc09iaiwgY29sb3JBcnJheTEpCiAgICBjYW52YXMud2lkdGggPSBtdWx0aVRpbWVTZXJpZXNPYmoud2lkdGg7CiAgICBjb25zdCBjdXJNaW5NYXggPSBjb21wdXRlTWluTWF4KG11bHRpVGltZVNlcmllc09iaik7CiAgICAvLyB5U2NhbGUgPSBkMy5zY2FsZUxpbmVhcigpLmRvbWFpbihbY3VyTWluTWF4Lm1pbiwgY3VyTWluTWF4Lm1heF0pLnJhbmdlKFttdWx0aVRpbWVTZXJpZXNPYmouaGVpZ2h0LCAwXSk7CiAgICB5U2NhbGUgPSBkMy5zY2FsZUxpbmVhcigpLmRvbWFpbihbLTEwMDAsIDEwMDBdKS5yYW5nZShbbXVsdGlUaW1lU2VyaWVzT2JqLmhlaWdodCwgMF0pOyAvLy8vLy8vLy8vL+S/ruaUueWJjeS4ulstMTAwMDAsMTAwMDBdCiAgICB5QXhpcyA9IGQzLmF4aXNMZWZ0KHlTY2FsZSk7CiAgICBpZiAoc3RvcmUuc3RhdGUuY29udHJvbFBhcmFtcy5jdXJyZW50TW9kZSA9PT0gJ0RlZmF1bHQnKSB7CiAgICAgIHlBeGlzID0gZDMuYXhpc0xlZnQoeVNjYWxlKS50aWNrRm9ybWF0KHZhbCA9PiB7CiAgICAgICAgLy9AdHMtaWdub3JlCiAgICAgICAgcmV0dXJuIDEwMCAqIHZhbCArICIlIjsKICAgICAgfSk7CiAgICB9CiAgICBpZiAoeUF4aXNHICE9PSBudWxsICYmIHlBeGlzRyAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIHlBeGlzRy5yZW1vdmUoKTsKICAgIH0KICAgIHlBeGlzRyA9IHN2Zy5hcHBlbmQoImciKS5hdHRyKCdzdHlsZScsICd1c2VyLXNlbGVjdDpub25lJykuYXR0cigidHJhbnNmb3JtIiwgYHRyYW5zbGF0ZSgke3BhZGluZy5sZWZ0fSwke3BhZGluZy50b3B9KWApLmF0dHIoImNsYXNzIiwgJ3kgYXhpcycpLmNhbGwoeUF4aXMpOwogICAgLy8gc2hvd1hUaW1lU2NhbGUgPSBkMy5zY2FsZVRpbWUoKS5kb21haW4oW25ldyBEYXRlKE1hdGguZmxvb3IoaW5kZXhUb1RpbWVTdGFtcFNjYWxlKG11bHRpVGltZVNlcmllc09iai50aW1lUmFuZ2VbMF0pKSksIG5ldyBEYXRlKE1hdGguZmxvb3IoaW5kZXhUb1RpbWVTdGFtcFNjYWxlKG11bHRpVGltZVNlcmllc09iai50aW1lUmFuZ2VbMV0pKSldKS5yYW5nZShbMCwgbXVsdGlUaW1lU2VyaWVzT2JqLndpZHRoXSk7CiAgICBzaG93WFRpbWVTY2FsZSA9IGQzLnNjYWxlTGluZWFyKCkuZG9tYWluKFswLCByb3dOdW1iZXJdKS5yYW5nZShbMCwgbXVsdGlUaW1lU2VyaWVzT2JqLndpZHRoXSk7CiAgICB4QXhpcyA9IGQzLmF4aXNCb3R0b20oc2hvd1hUaW1lU2NhbGUpOwogICAgaWYgKHhBeGlzRyAhPT0gbnVsbCAmJiB4QXhpc0cgIT09IHVuZGVmaW5lZCkgewogICAgICB4QXhpc0cucmVtb3ZlKCk7CiAgICB9CiAgICB4QXhpc0cgPSBzdmcuYXBwZW5kKCJnIikuYXR0cignc3R5bGUnLCAndXNlci1zZWxlY3Q6bm9uZScpLmF0dHIoInRyYW5zZm9ybSIsIGB0cmFuc2xhdGUoJHtwYWRpbmcubGVmdH0sJHttdWx0aVRpbWVTZXJpZXNPYmouaGVpZ2h0ICsgcGFkaW5nLnRvcH0pYCkuYXR0cigiY2xhc3MiLCAneCBheGlzJykuY2FsbCh4QXhpcyk7CiAgICBjb2x1bW5JbmZvcyA9IG11bHRpVGltZVNlcmllc09iai5jb2x1bW5JbmZvczsKICAgIChfY3R4ID0gY3R4KSA9PT0gbnVsbCB8fCBfY3R4ID09PSB2b2lkIDAgfHwgX2N0eC5jbGVhclJlY3QoMCwgMCwgbXVsdGlUaW1lU2VyaWVzT2JqLndpZHRoLCBtdWx0aVRpbWVTZXJpZXNPYmouaGVpZ2h0KTsKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29sdW1uSW5mb3MubGVuZ3RoOyBpKyspIHsKICAgICAgaWYgKG11bHRpVGltZVNlcmllc09iai5pc1Nob3dbaV0pIHsKICAgICAgICBpZiAobXVsdGlUaW1lU2VyaWVzT2JqLmNvbHVtbkluZm9zW2ldKSB7CiAgICAgICAgICB2YXIgX2N0eDIsIF9jdHgxMTsKICAgICAgICAgIChfY3R4MiA9IGN0eCkgPT09IG51bGwgfHwgX2N0eDIgPT09IHZvaWQgMCB8fCBfY3R4Mi5iZWdpblBhdGgoKTsKICAgICAgICAgIGlmIChzdG9yZS5zdGF0ZS5jb250cm9sUGFyYW1zLmN1cnJlbnRNb2RlID09PSAnRGVmYXVsdCcpIHsKICAgICAgICAgICAgLy9jdHguc3Ryb2tlU3R5bGUgPSBjb2xvckFycmF5MVtpXTsKICAgICAgICAgICAgY29uc3Qgbm9uVW5pZm9ybUNvbE9ianMgPSBtdWx0aVRpbWVTZXJpZXNPYmouY29sdW1uSW5mb3NbaV07CiAgICAgICAgICAgIGxldCBuYW1lU3RycyA9IG11bHRpVGltZVNlcmllc09iai5kYXRhTmFtZVtpXS5zcGxpdCgiLiIpWzFdLnNwbGl0KCJfIik7CiAgICAgICAgICAgIGlmIChuYW1lU3Ryc1sxXVtuYW1lU3Ryc1sxXS5sZW5ndGggLSAxXSAhPT0gJ3InKSB7CiAgICAgICAgICAgICAgbmFtZVN0cnNbMV0gPSBuYW1lU3Ryc1sxXSArICdyJzsKICAgICAgICAgICAgfQogICAgICAgICAgICAvL0B0cy1pZ25vcmUKICAgICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gbmFtZWRNYXAuZ2V0KG5hbWVTdHJzWzFdKS5zcGxpdCgiLSIpWzFdOyAvL2NvbG9yQXJyYXkxW2ldOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy9AdHMtaWdub3JlCiAgICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IGNvbG9yQXJyYXkxW211bHRpVGltZVNlcmllc09iai5jb2x1bW5JbmZvc1tpXS5tZDVOdW0gJSA0Nl07CiAgICAgICAgICB9CiAgICAgICAgICAvL0B0cy1pZ25vcmUKICAgICAgICAgIGN0eC5zdHJva2VXaWR0aCA9IDE7CiAgICAgICAgICBjb25zdCBub25Vbmlmb3JtQ29sT2JqcyA9IGNvbHVtbkluZm9zW2ldOwogICAgICAgICAgbGV0IGludGVydmFsID0gKG5vblVuaWZvcm1Db2xPYmpzWzBdLmVuZF90aW1lIC0gbm9uVW5pZm9ybUNvbE9ianNbMF0uc3RhcnRfdGltZSkgLyAzOwogICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBub25Vbmlmb3JtQ29sT2Jqcy5sZW5ndGg7IGorKykgewogICAgICAgICAgICB2YXIgX2N0eDMsIF9jdHg0LCBfY3R4NSwgX2N0eDYsIF9jdHg3LCBfY3R4ODsKICAgICAgICAgICAgKF9jdHgzID0gY3R4KSA9PT0gbnVsbCB8fCBfY3R4MyA9PT0gdm9pZCAwIHx8IF9jdHgzLm1vdmVUbyhzaG93WFRpbWVTY2FsZShub25Vbmlmb3JtQ29sT2Jqc1tqXS5zdGFydF90aW1lKSwgeVNjYWxlKG5vblVuaWZvcm1Db2xPYmpzW2pdLnN0X3YpKTsKICAgICAgICAgICAgKF9jdHg0ID0gY3R4KSA9PT0gbnVsbCB8fCBfY3R4NCA9PT0gdm9pZCAwIHx8IF9jdHg0LmxpbmVUbyhzaG93WFRpbWVTY2FsZShub25Vbmlmb3JtQ29sT2Jqc1tqXS5zdGFydF90aW1lICsgaW50ZXJ2YWwgKiAyKSwgeVNjYWxlKG5vblVuaWZvcm1Db2xPYmpzW2pdLm1pbikpOwogICAgICAgICAgICAoX2N0eDUgPSBjdHgpID09PSBudWxsIHx8IF9jdHg1ID09PSB2b2lkIDAgfHwgX2N0eDUubW92ZVRvKHNob3dYVGltZVNjYWxlKG5vblVuaWZvcm1Db2xPYmpzW2pdLnN0YXJ0X3RpbWUgKyBpbnRlcnZhbCAqIDIpLCB5U2NhbGUobm9uVW5pZm9ybUNvbE9ianNbal0ubWluKSk7CiAgICAgICAgICAgIChfY3R4NiA9IGN0eCkgPT09IG51bGwgfHwgX2N0eDYgPT09IHZvaWQgMCB8fCBfY3R4Ni5saW5lVG8oc2hvd1hUaW1lU2NhbGUobm9uVW5pZm9ybUNvbE9ianNbal0uc3RhcnRfdGltZSArIGludGVydmFsICogMyksIHlTY2FsZShub25Vbmlmb3JtQ29sT2Jqc1tqXS5tYXgpKTsKICAgICAgICAgICAgKF9jdHg3ID0gY3R4KSA9PT0gbnVsbCB8fCBfY3R4NyA9PT0gdm9pZCAwIHx8IF9jdHg3Lm1vdmVUbyhzaG93WFRpbWVTY2FsZShub25Vbmlmb3JtQ29sT2Jqc1tqXS5zdGFydF90aW1lICsgaW50ZXJ2YWwgKiAzKSwgeVNjYWxlKG5vblVuaWZvcm1Db2xPYmpzW2pdLm1heCkpOwogICAgICAgICAgICAoX2N0eDggPSBjdHgpID09PSBudWxsIHx8IF9jdHg4ID09PSB2b2lkIDAgfHwgX2N0eDgubGluZVRvKHNob3dYVGltZVNjYWxlKG5vblVuaWZvcm1Db2xPYmpzW2pdLmVuZF90aW1lKSwgeVNjYWxlKG5vblVuaWZvcm1Db2xPYmpzW2pdLmV0X3YpKTsKICAgICAgICAgICAgaWYgKGogPD0gbm9uVW5pZm9ybUNvbE9ianMubGVuZ3RoIC0gMikgewogICAgICAgICAgICAgIHZhciBfY3R4OSwgX2N0eDEwOwogICAgICAgICAgICAgIChfY3R4OSA9IGN0eCkgPT09IG51bGwgfHwgX2N0eDkgPT09IHZvaWQgMCB8fCBfY3R4OS5tb3ZlVG8oc2hvd1hUaW1lU2NhbGUobm9uVW5pZm9ybUNvbE9ianNbal0uZW5kX3RpbWUpLCB5U2NhbGUobm9uVW5pZm9ybUNvbE9ianNbal0uZXRfdikpOwogICAgICAgICAgICAgIChfY3R4MTAgPSBjdHgpID09PSBudWxsIHx8IF9jdHgxMCA9PT0gdm9pZCAwIHx8IF9jdHgxMC5saW5lVG8oc2hvd1hUaW1lU2NhbGUobm9uVW5pZm9ybUNvbE9ianNbaiArIDFdLnN0YXJ0X3RpbWUpLCB5U2NhbGUobm9uVW5pZm9ybUNvbE9ianNbaiArIDFdLnN0X3YpKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgKF9jdHgxMSA9IGN0eCkgPT09IG51bGwgfHwgX2N0eDExID09PSB2b2lkIDAgfHwgX2N0eDExLnN0cm9rZSgpOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgLy8gc2F2ZVBORyhjYW52YXMpOwogIH0KICBhc3luYyBmdW5jdGlvbiByZXNpemVXKHdpZHRoKSB7CiAgICBpc1Jlc2l6aW5nID0gdHJ1ZTsKICAgIC8vdGltZWJveFN0YWNrID0gW107CiAgICBjb25zdCBjdXJyZW50TGV2ZWwgPSBtdWx0aVRpbWVTZXJpZXNPYmouY3VycmVudExldmVsOwogICAgLy8gbXVsdGlUaW1lU2VyaWVzT2JqLmN1cnJlbnRMZXZlbCA9IDEwOy8vY3VycmVudExldmVsICsgMQogICAgbXVsdGlUaW1lU2VyaWVzT2JqLndpZHRoID0gd2lkdGg7CiAgICB1cGRhdGVDYW52YXNXaWR0aCgpOwogICAgaWYgKGN1cnJlbnRMZXZlbCArIDEgPj0gbXVsdGlUaW1lU2VyaWVzT2JqLm1heExldmVsIC0gMSkgewogICAgICByZXR1cm47CiAgICB9CiAgICAvL0B0cy1pZ25vcmUKICAgIGNhbnZhcy5zdHlsZS53aWR0aCA9IG11bHRpVGltZVNlcmllc09iai53aWR0aDsKICAgIGNvbnNvbGUubG9nKCJyZXNpemUuLi4uIik7CiAgICAvLyBsZXQgbW9kZSA9ICJzaG93IjsKICAgIC8vIGxldCB0eXBlID0gIiIKICAgIC8vIGxldCBwYXJhbGxlbCA9IDA7CiAgICAvLyBsZXQgZXJyb3JCb3VuZCA9IDA7CiAgICAvLyBsZXQgbGluZTEgPSBtdWx0aVRpbWVTZXJpZXNPYmoubGluZTE7CiAgICAvLyBjb25zdCBjb21iaW5lZFVybCA9IGAvbGluZV9jaGFydC9jYXNlMT90YWJsZV9uYW1lPSR7bGluZTFbMF19JnRhYmxlX25hbWVfb3RoZXJzPSR7bGluZTFbMV19JnN5bWJvbD0ke2xpbmUxWzJdfSZtb2RlPSR7bW9kZX0md2lkdGg9JHttdWx0aVRpbWVTZXJpZXNPYmoud2lkdGh9JmhlaWdodD0ke211bHRpVGltZVNlcmllc09iai5oZWlnaHR9JnN0YXJ0VGltZT0ke211bHRpVGltZVNlcmllc09iai50aW1lUmFuZ2VbMF19JmVuZFRpbWU9JHttdWx0aVRpbWVTZXJpZXNPYmoudGltZVJhbmdlWzFdfSZpbnRlcmFjdF90eXBlPSR7dHlwZX0mZXhwZXJpbWVudD0ke2xpbmUxWzNdfSZwYXJhbGxlbD0ke3BhcmFsbGVsfSZlcnJvckJvdW5kPSR7ZXJyb3JCb3VuZH1gOwogICAgLy8gY29uc3Qgc2hvd0NvbHVtbnMgPSBhd2FpdCBnZXQoY29tYmluZWRVcmwpOwogICAgLy8gbXVsdGlUaW1lU2VyaWVzT2JqLmNvbHVtbkluZm9zID0gc2hvd0NvbHVtbnM7CiAgICAvLyBkcmF3KCk7CiAgfQogIGFzeW5jIGZ1bmN0aW9uIHpvb21Jbih0aW1lUmFuZ2UpIHsKICAgIC8vdGltZWJveFN0YWNrID0gW107CiAgICBjb25zdCBjdXJyZW50TGV2ZWwgPSBtdWx0aVRpbWVTZXJpZXNPYmouY3VycmVudExldmVsOwogICAgbXVsdGlUaW1lU2VyaWVzT2JqLmN1cnJlbnRMZXZlbCA9IDEwOyAvL2N1cnJlbnRMZXZlbCArIDEKICAgIGNvbnN0IHdpZHRoID0gbXVsdGlUaW1lU2VyaWVzT2JqLndpZHRoOwogICAgbXVsdGlUaW1lU2VyaWVzT2JqLnRpbWVSYW5nZVsxXSA9IHRpbWVSYW5nZVsxXTsgLy9NYXRoLmZsb29yKG11bHRpVGltZVNlcmllc09iai50aW1lUmFuZ2VbMV0gLyAyKTsKICAgIG11bHRpVGltZVNlcmllc09iai50aW1lUmFuZ2VbMF0gPSB0aW1lUmFuZ2VbMF07CiAgICBpZiAoY3VycmVudExldmVsICsgMSA+PSBtdWx0aVRpbWVTZXJpZXNPYmoubWF4TGV2ZWwgLSAxKSB7CiAgICAgIHJldHVybjsKICAgIH0KICAgIGNvbnN0IG5lZWRMb2FkTGV2ZWwgPSAyICoqIE1hdGguY2VpbChNYXRoLmxvZzIod2lkdGgpKTsKICAgIGNvbnNvbGUubG9nKCJ6b29tSW4uLi4uIik7CiAgICBsZXQgbW9kZSA9ICJzaG93IjsKICAgIGxldCB0eXBlID0gIiI7CiAgICBsZXQgcGFyYWxsZWwgPSAwOwogICAgbGV0IGVycm9yQm91bmQgPSAwOwogICAgbGV0IGxpbmUxID0gbXVsdGlUaW1lU2VyaWVzT2JqLmxpbmUxOwogICAgY29uc3QgY29tYmluZWRVcmwgPSBgL2xpbmVfY2hhcnQvY2FzZTE/dGFibGVfbmFtZT0ke2xpbmUxWzBdfSZ0YWJsZV9uYW1lX290aGVycz0ke2xpbmUxWzFdfSZzeW1ib2w9JHtsaW5lMVsyXX0mbW9kZT0ke21vZGV9JndpZHRoPSR7bXVsdGlUaW1lU2VyaWVzT2JqLndpZHRofSZoZWlnaHQ9JHttdWx0aVRpbWVTZXJpZXNPYmouaGVpZ2h0fSZzdGFydFRpbWU9JHttdWx0aVRpbWVTZXJpZXNPYmoudGltZVJhbmdlWzBdfSZlbmRUaW1lPSR7bXVsdGlUaW1lU2VyaWVzT2JqLnRpbWVSYW5nZVsxXX0maW50ZXJhY3RfdHlwZT0ke3R5cGV9JmV4cGVyaW1lbnQ9JHtsaW5lMVszXX0mcGFyYWxsZWw9JHtwYXJhbGxlbH0mZXJyb3JCb3VuZD0ke2Vycm9yQm91bmR9YDsKICAgIGNvbnN0IHNob3dDb2x1bW5zID0gYXdhaXQgZ2V0KGNvbWJpbmVkVXJsKTsKICAgIG11bHRpVGltZVNlcmllc09iai5jb2x1bW5JbmZvcyA9IHNob3dDb2x1bW5zOwogICAgZHJhdygpOwogIH0KICAvL0B0cy1pZ25vcmUKICBhc3luYyBmdW5jdGlvbiBicnVzaGVkKHsKICAgIHNlbGVjdGlvbgogIH0pIHsKICAgIGlmICghaXNJbml0KSB7CiAgICAgIGlzSW5pdCA9IHRydWU7CiAgICAgIHJldHVybjsKICAgIH0KICAgIGlmIChpc1Jlc2l6aW5nKSB7CiAgICAgIGlzUmViYWNraW5nID0gZmFsc2U7CiAgICAgIHJldHVybjsKICAgIH0KICAgIGlmIChpc1JlYmFja2luZykgewogICAgICBpc1JlYmFja2luZyA9IGZhbHNlOwogICAgICByZXR1cm47CiAgICB9CiAgICBjb25zdCB0aW1lUmFuZ2UgPSBbTWF0aC5mbG9vcih4UmVTY2FsZShzZWxlY3Rpb25bMF0pKSwgTWF0aC5mbG9vcih4UmVTY2FsZShzZWxlY3Rpb25bMV0pKV07CiAgICBpZiAodGltZVJhbmdlWzBdIDwgMCkgewogICAgICB0aW1lUmFuZ2VbMF0gPSAwOwogICAgfQogICAgaWYgKHRpbWVSYW5nZVsxXSA+IG5vZGVJbmRleFJhbmdlWzFdKSB7CiAgICAgIHRpbWVSYW5nZVsxXSA9IG5vZGVJbmRleFJhbmdlWzFdOwogICAgfQogICAgY29uc3QgaW50ZXJJbmZvID0gbmV3IEludGVyYWN0aW9uSW5mbygiem9vbSIpOwogICAgaW50ZXJJbmZvLnNldFJhbmdlVyhtdWx0aVRpbWVTZXJpZXNPYmoudGltZVJhbmdlLCBtdWx0aVRpbWVTZXJpZXNPYmoud2lkdGgsIG11bHRpVGltZVNlcmllc09iai5jdXJyZW50TGV2ZWwpOwogICAgaW50ZXJhY3Rpb25TdGFjay5wdXNoKGludGVySW5mbyk7CiAgICB6b29tSW4oW3RpbWVSYW5nZVswXSwgdGltZVJhbmdlWzFdXSk7CiAgfQogIGxldCB0aW1lYm94U3RhY2sgPSBbXTsKICAvL0B0cy1pZ25vcmUKICBmdW5jdGlvbiB0aW1lQm94QnJ1c2hlZCh7CiAgICBzZWxlY3Rpb24KICB9KSB7CiAgICBpZiAoc2VsZWN0aW9uID09PSBudWxsKSB7CiAgICAgIHJldHVybjsKICAgIH0KICAgIGNvbnN0IGxhc3RSZXMgPSBbXTsKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbXVsdGlUaW1lU2VyaWVzT2JqLmNvbHVtbkluZm9zLmxlbmd0aDsgaSsrKSB7CiAgICAgIGxhc3RSZXMucHVzaChtdWx0aVRpbWVTZXJpZXNPYmouaXNTaG93W2ldKTsKICAgIH0KICAgIC8vaWYoaW50ZXJhY3Rpb25TdGFja1tpbnRlcmFjdGlvblN0YWNrLmxlbmd0aC0xXS50eXBlPT09J3RpbWVib3gnKQogICAgY29uc3QgdGltZUJveFN0YXJ0VGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpOwogICAgY29uc3QgaW50ZXJJbmZvID0gbmV3IEludGVyYWN0aW9uSW5mbygidGltZWJveCIpOwogICAgaW50ZXJJbmZvLnNldFNob3dJbmZvKGxhc3RSZXMpOwogICAgaW50ZXJhY3Rpb25TdGFjay5wdXNoKGludGVySW5mbyk7CiAgICAvLyBjb25zb2xlLmxvZyhzZWxlY3Rpb24pOwogICAgY29uc3Qgc3RhcnRYID0gc2VsZWN0aW9uWzBdWzBdIC0gNDA7CiAgICBjb25zdCBlbmRYID0gc2VsZWN0aW9uWzFdWzBdIC0gNDA7CiAgICAvLyBjb25zb2xlLmxvZyhzaG93VGltZVhTY2FsZS5pbnZlcnQoc3RhcnRYKSk7CiAgICAvLyBjb25zb2xlLmxvZyhzaG93VGltZVhTY2FsZS5pbnZlcnQoZW5kWCkpOwogICAgY29uc3Qgdk1pblkgPSBzZWxlY3Rpb25bMV1bMV0gLSAyMDsKICAgIGNvbnN0IHZNYXhZID0gc2VsZWN0aW9uWzBdWzFdIC0gMjA7CiAgICBjb25zdCB2TWluID0geVNjYWxlLmludmVydCh2TWluWSk7CiAgICBjb25zdCB2TWF4ID0geVNjYWxlLmludmVydCh2TWF4WSk7CiAgICBjb25zdCBhbGxDb2x1bW5JbmZvcyA9IG11bHRpVGltZVNlcmllc09iai5jb2x1bW5JbmZvczsKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWxsQ29sdW1uSW5mb3MubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IGlzQ2hvb3NlID0gbXVsdGlUaW1lU2VyaWVzT2JqLmlzU2hvd1tpXTsKICAgICAgZm9yIChsZXQgaiA9IE1hdGguZmxvb3Ioc3RhcnRYKTsgaiA8PSBNYXRoLmZsb29yKGVuZFgpOyBqKyspIHsKICAgICAgICBpc0Nob29zZSA9IGlzQ2hvb3NlICYmIGFsbENvbHVtbkluZm9zW2ldW2pdLm1pbiA+PSB2TWluICYmIGFsbENvbHVtbkluZm9zW2ldW2pdLm1heCA8PSB2TWF4OwogICAgICB9CiAgICAgIG11bHRpVGltZVNlcmllc09iai5pc1Nob3dbaV0gPSBmYWxzZTsKICAgICAgaWYgKGlzQ2hvb3NlKSB7CiAgICAgICAgbXVsdGlUaW1lU2VyaWVzT2JqLmlzU2hvd1tpXSA9IHRydWU7CiAgICAgICAgLy9jb25zb2xlLmxvZyhtdWx0aVRpbWVTZXJpZXNPYmouZGF0YU1hbmFnZXJzW2ldLmRhdGFOYW1lKTsKICAgICAgfQogICAgICAvLyBtdWx0aVRpbWVTZXJpZXNPYmouaXNTaG93W2ldID0gZmFsc2U7CiAgICB9CiAgICBsZXQgbWluViA9IEluZmluaXR5OwogICAgbGV0IG1heFYgPSAtSW5maW5pdHk7CiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFsbENvbHVtbkluZm9zLmxlbmd0aDsgaSsrKSB7CiAgICAgIGlmIChtdWx0aVRpbWVTZXJpZXNPYmouaXNTaG93W2ldKSB7CiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPD0gYWxsQ29sdW1uSW5mb3NbaV0ubGVuZ3RoOyBqKyspIHsKICAgICAgICAgIG1pblYgPSBNYXRoLm1pbihtaW5WLCBhbGxDb2x1bW5JbmZvc1tpXVtqXSA/IGFsbENvbHVtbkluZm9zW2ldW2pdLnZSYW5nZVswXSA6IG1pblYpOwogICAgICAgICAgbWF4ViA9IE1hdGgubWF4KG1heFYsIGFsbENvbHVtbkluZm9zW2ldW2pdID8gYWxsQ29sdW1uSW5mb3NbaV1bal0udlJhbmdlWzFdIDogbWF4Vik7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICAvLyBtdWx0aVRpbWVTZXJpZXNPYmoubWF4diA9IC0xMDsKICAgIC8vIG11bHRpVGltZVNlcmllc09iai5taW52ID0gMTAKICAgIGRyYXcoKTsKICAgIC8vem9vbUluKFt0aW1lUmFuZ2VTY2FsZSgxNDkzNzQwODQ1MDAwKSx0aW1lUmFuZ2VTY2FsZSgxNDkzODA1MzE0MDAwKV0pCiAgfQogIGxldCBpc01vdXNlb3ZlciA9IGZhbHNlOwogIGxldCBzdGFydE9mZnNldFggPSAwOwogIGNvbnN0IGRyYWdSZWN0ID0gc3ZnLmFwcGVuZCgicmVjdCIpLmF0dHIoIngiLCAwKS5hdHRyKCJ5IiwgMCkuYXR0cigiaGVpZ2h0IiwgbXVsdGlUaW1lU2VyaWVzT2JqLmhlaWdodCArIHBhZGluZy50b3AgKyBwYWRpbmcuYm90dG9tKS5hdHRyKCJ3aWR0aCIsIG11bHRpVGltZVNlcmllc09iai53aWR0aCArIHBhZGluZy5sZWZ0ICsgcGFkaW5nLnJpZ2h0KS5hdHRyKCJzdHJva2UiLCAiYmxhY2siKS5hdHRyKCJzdHJva2Utd2lkdGgiLCA0KS5hdHRyKCJmaWxsIiwgIm5vbmUiKS5vbigibW91c2VvdmVyIiwgKCkgPT4gewogICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3IgPSAnZXctcmVzaXplJzsKICAgIGlzTW91c2VvdmVyID0gdHJ1ZTsKICB9KS5vbigibW91c2Vkb3duIiwgZSA9PiB7CiAgICBpZiAoaXNNb3VzZW92ZXIpIHsKICAgICAgc3RhcnRPZmZzZXRYID0gZS5vZmZzZXRYOwogICAgICBpbnRlcmFjdGl2ZUluZm8uaXNNb3VzZURvd24gPSB0cnVlOwogICAgfQogIH0pLm9uKCJtb3VzZXVwIiwgKCkgPT4gewogICAgY29uc29sZS5sb2coKTsKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzA7IGkrKykgewogICAgICBtdWx0aVRpbWVTZXJpZXNPYmouaXNTaG93W2ldID0gdHJ1ZTsKICAgIH0KICB9KS5vbigibW91c2Vtb3ZlIiwgZSA9PiB7CiAgICBpZiAoaW50ZXJhY3RpdmVJbmZvLmlzTW91c2VEb3duKSB7CiAgICAgIHN2Zy5hdHRyKCJ3aWR0aCIsIG11bHRpVGltZVNlcmllc09iai53aWR0aCArIHBhZGluZy5yaWdodCArIHBhZGluZy5sZWZ0ICsgKGUub2Zmc2V0WCAtIHN0YXJ0T2Zmc2V0WCkpOwogICAgICBkcmFnUmVjdC5hdHRyKCJ3aWR0aCIsIG11bHRpVGltZVNlcmllc09iai53aWR0aCArIHBhZGluZy5yaWdodCArIHBhZGluZy5sZWZ0ICsgKGUub2Zmc2V0WCAtIHN0YXJ0T2Zmc2V0WCkpOwogICAgfQogIH0pLm9uKCJtb3VzZWxlYXZlIiwgKCkgPT4gewogICAgaWYgKCFpbnRlcmFjdGl2ZUluZm8uaXNNb3VzZURvd24pIHsKICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3IgPSAnZGVmYXVsdCc7CiAgICB9CiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDMwOyBpKyspIHsKICAgICAgbXVsdGlUaW1lU2VyaWVzT2JqLmlzU2hvd1tpXSA9IHRydWU7CiAgICB9CiAgfSk7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNvbnRlbnQtY29udGFpbmVyIikuYWRkRXZlbnRMaXN0ZW5lcigibW91c2Vtb3ZlIiwgZSA9PiB7CiAgICBpZiAoaW50ZXJhY3RpdmVJbmZvLmlzTW91c2VEb3duKSB7CiAgICAgIHN2Zy5hdHRyKCJ3aWR0aCIsIG11bHRpVGltZVNlcmllc09iai53aWR0aCArIHBhZGluZy5yaWdodCArIHBhZGluZy5sZWZ0ICsgKGUub2Zmc2V0WCAtIHN0YXJ0T2Zmc2V0WCkpOwogICAgICBkcmFnUmVjdC5hdHRyKCJ3aWR0aCIsIG11bHRpVGltZVNlcmllc09iai53aWR0aCArIHBhZGluZy5yaWdodCArIHBhZGluZy5sZWZ0ICsgKGUub2Zmc2V0WCAtIHN0YXJ0T2Zmc2V0WCkpOwogICAgfQogIH0pOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjb250ZW50LWNvbnRhaW5lciIpLmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNldXAiLCBlID0+IHsKICAgIGlmIChpbnRlcmFjdGl2ZUluZm8uaXNNb3VzZURvd24pIHsKICAgICAgaW50ZXJhY3RpdmVJbmZvLmlzTW91c2VEb3duID0gZmFsc2U7CiAgICAgIGlzTW91c2VvdmVyID0gZmFsc2U7CiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuY3Vyc29yID0gJ2RlZmF1bHQnOwogICAgICBsZXQgcHJlV2lkdGggPSBtdWx0aVRpbWVTZXJpZXNPYmoud2lkdGg7CiAgICAgIG11bHRpVGltZVNlcmllc09iai53aWR0aCA9IG11bHRpVGltZVNlcmllc09iai53aWR0aCArIChlLm9mZnNldFggLSBzdGFydE9mZnNldFgpOwogICAgICBpZiAobXVsdGlUaW1lU2VyaWVzT2JqLndpZHRoID09PSBwcmVXaWR0aCkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBjb25zdCBpbnRlckluZm8gPSBuZXcgSW50ZXJhY3Rpb25JbmZvKCJyZXNpemUiKTsKICAgICAgaW50ZXJJbmZvLnNldFJhbmdlVyhtdWx0aVRpbWVTZXJpZXNPYmoudGltZVJhbmdlLCBtdWx0aVRpbWVTZXJpZXNPYmoud2lkdGgsIG11bHRpVGltZVNlcmllc09iai5jdXJyZW50TGV2ZWwpOwogICAgICBpbnRlcmFjdGlvblN0YWNrLnB1c2goaW50ZXJJbmZvKTsKICAgICAgcmVzaXplVyhtdWx0aVRpbWVTZXJpZXNPYmoud2lkdGgpOwogICAgfQogICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzMDsgaSsrKSB7CiAgICAgIG11bHRpVGltZVNlcmllc09iai5pc1Nob3dbaV0gPSB0cnVlOwogICAgfQogIH0pOwogIHN2Zy5vbigiY29udGV4dG1lbnUiLCBlID0+IHsKICAgIGlmIChpbnRlcmFjdGlvblN0YWNrLmxlbmd0aCA+IDApIHsKICAgICAgY29uc3QgaW50ZXJJbmZvID0gaW50ZXJhY3Rpb25TdGFjay5wb3AoKTsKICAgICAgaWYgKChpbnRlckluZm8gPT09IG51bGwgfHwgaW50ZXJJbmZvID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbnRlckluZm8udHlwZSkgPT09ICd0aW1lYm94JykgewogICAgICAgIGNvbnN0IGN1clN0YXRzID0gaW50ZXJJbmZvLnNob3dJbmZvOwogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbXVsdGlUaW1lU2VyaWVzT2JqLmNvbHVtbkluZm9zLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBtdWx0aVRpbWVTZXJpZXNPYmouaXNTaG93W2ldID0gY3VyU3RhdHNbaV07CiAgICAgICAgfQogICAgICAgIGRyYXcoKTsKICAgICAgfSBlbHNlIGlmICgoaW50ZXJJbmZvID09PSBudWxsIHx8IGludGVySW5mbyA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW50ZXJJbmZvLnR5cGUpID09PSAncmVzaXplJykgewogICAgICAgIHJlc2l6ZVcoaW50ZXJJbmZvLndpZHRoKTsKICAgICAgfSBlbHNlIGlmICgoaW50ZXJJbmZvID09PSBudWxsIHx8IGludGVySW5mbyA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW50ZXJJbmZvLnR5cGUpID09PSAnem9vbScpIHsKICAgICAgICBpc1JlYmFja2luZyA9IHRydWU7CiAgICAgICAgem9vbUluKGludGVySW5mby50aW1lUmFuZ2UpOwogICAgICB9CiAgICB9CiAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwogIH0pOwogIGxldCBpID0gMDsKICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBlID0+IHsKICAgIGNvbnNvbGUubG9nKDEpOwogIH0pOwogIGRyYXcoKTsKfQpmdW5jdGlvbiBjb21wdXRlTWluTWF4KG11bHRpVGltZVNlcmllc09iaikgewogIGxldCBtaW4gPSBJbmZpbml0eTsKICBsZXQgbWF4ID0gLUluZmluaXR5OwogIC8vIGZvciAobGV0IGkgPSAwOyBpIDwgbXVsdGlUaW1lU2VyaWVzT2JqLmNvbHVtbkluZm9zLmxlbmd0aDsgaSsrKSB7CiAgLy8gICAgIGlmIChtdWx0aVRpbWVTZXJpZXNPYmouaXNTaG93W2ldKSB7CiAgLy8gICAgICAgICBjb25zdCBjb2x1bUluZm8gPSBtdWx0aVRpbWVTZXJpZXNPYmouY29sdW1uSW5mb3NbaV07CiAgLy8gICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGNvbHVtSW5mby5sZW5ndGg7IGorKykgewogIC8vICAgICAgICAgICAgIGlmIChjb2x1bUluZm9bal0udlJhbmdlWzBdIDwgbWluKSB7CiAgLy8gICAgICAgICAgICAgICAgIG1pbiA9IGNvbHVtSW5mb1tqXS52UmFuZ2VbMF07CiAgLy8gICAgICAgICAgICAgfQogIC8vICAgICAgICAgICAgIGlmIChjb2x1bUluZm9bal0udlJhbmdlWzFdID4gbWF4KSB7CiAgLy8gICAgICAgICAgICAgICAgIG1heCA9IGNvbHVtSW5mb1tqXS52UmFuZ2VbMV07CiAgLy8gICAgICAgICAgICAgfQogIC8vICAgICAgICAgfQogIC8vICAgICB9IGVsc2UgewogIC8vICAgICAgICAgLy8gY29uc29sZS5sb2cobXVsdGlUaW1lU2VyaWVzT2JqLmRhdGFNYW5hZ2Vyc1tpXS5kYXRhTmFtZSkKICAvLyAgICAgfQogIC8vIH0KICBtaW4gPSAtMjAwMCwgbWF4ID0gMjAwMDsKICByZXR1cm4gewogICAgbWluLAogICAgbWF4CiAgfTsKfQpmdW5jdGlvbiBzYXZlUE5HKGNhbnZhcykgewogIGNvbnN0IGltZ1VSTCA9IGNhbnZhcy50b0RhdGFVUkwoIi4vaW1hZ2UvcG5nIik7CiAgY29uc3QgZGxMaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpOwogIGRsTGluay5kb3dubG9hZCA9IGAxYl96b29tX2luaXRgOwogIGRsTGluay5ocmVmID0gaW1nVVJMOwogIGRsTGluay5kYXRhc2V0LmRvd25sb2FkdXJsID0gWyIuL2ltYWdlL3BuZyIsIGRsTGluay5kb3dubG9hZCwgZGxMaW5rLmhyZWZdLmpvaW4oIjoiKTsKICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRsTGluayk7CiAgZGxMaW5rLmNsaWNrKCk7CiAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChkbExpbmspOwp9"},{"version":3,"names":["store","d3","axios","nameMap","namedMap","Map","i","length","key","Object","keys","set","get","url","data","InteractionInfo","constructor","type","showInfo","timeRange","width","level","setShowInfo","setRangeW","interactionStack","drawMultiTimeSeries","multiTimeSeriesObj","_document$getElementB","realTimeStampRange","startTimeStamp","endTimeStamp","nodeIndexRange","rowNumber","isInit","isResizing","isRebacking","interactiveInfo","startX","startY","offsetX","offsetY","isMouseDown","isMove","pading","top","bottom","left","right","svg","select","append","attr","height","x","y","style","foreignId","Math","random","foreigG","foreignObj","canvas","document","createElement","__data__","getElementById","appendChild","ctx","getContext","indexToTimeStampScale","scaleLinear","domain","range","xScale","showTimeXScale","yScale","minv","maxv","xReScale","showXTimeScale","zoomAxis","axisBottom","yAxis","axisLeft","state","controlParams","currentMode","tickFormat","val","xAxis","yReScale","timeBrushObj","brushX","extent","timeBoxBrushObj","brush","on","timeBoxBrushed","brushed","console","log","timeBoxG","call","move","zoomAxisG","xAxisG","yAxisG","updateCanvasWidth","remove","tempReScale","lengendG","draw","columnInfos","_ctx","colorArray1","curMinMax","computeMinMax","undefined","clearRect","isShow","_ctx2","_ctx11","beginPath","nonUniformColObjs","nameStrs","dataName","split","strokeStyle","md5Num","strokeWidth","interval","end_time","start_time","j","_ctx3","_ctx4","_ctx5","_ctx6","_ctx7","_ctx8","moveTo","st_v","lineTo","min","max","et_v","_ctx9","_ctx10","stroke","resizeW","currentLevel","maxLevel","zoomIn","needLoadLevel","ceil","log2","mode","parallel","errorBound","line1","combinedUrl","showColumns","selection","floor","interInfo","push","timeboxStack","lastRes","timeBoxStartTime","Date","getTime","endX","vMinY","vMaxY","vMin","invert","vMax","allColumnInfos","isChoose","minV","Infinity","maxV","vRange","isMouseover","startOffsetX","dragRect","body","cursor","e","addEventListener","preWidth","pop","curStats","preventDefault","stopPropagation","savePNG","imgURL","toDataURL","dlLink","download","href","dataset","downloadurl","join","click","removeChild"],"sources":["/Users/apple/Desktop/om3-extend/om3-client/node_modules/eslint-loader/index.js??ref--14-0!/Users/apple/Desktop/om3-extend/om3-client/src/application/multi-interaction.ts"],"sourcesContent":["import { formatNonPowDataForViewChange } from \"@/helper/format-data\";\nimport  NoUniformColObj  from \"@/model/non-uniform-col-obj\";\nimport store, { MultiTimeSeriesObj } from \"@/store\";\nimport * as d3 from 'd3';\nimport axios from \"axios\";\n// import { batchViewChange, batchGetData } from \"../batch/m5batch\";\n\nlet nameMap: any = [\n    //green\n    {\n        \"marutisktr\": \"汽车-#0e7735\"\n    },\n    {\n        \"tatamotorssktr\": \"汽车-#329a51\"\n    },\n    {\n        \"eichermotsktr\": \"汽车-#60ba6c\"\n    },\n    {\n        \"heromotocosktr\": \"摩托-#94d391\"\n    },\n    {\n        \"mmsktr\": \"汽车-#c0e6ba\"\n    },\n    //oranges\n    // {\n    //     \"bajfinancesktr\": \"金融-#b93d02\"\n    // },\n    {\n        \"axisbanksktr\": \"金融-#d14904\"\n    },\n    {\n        \"indusindbksktr\": \"金融-#e4580b\"\n    },\n    // {\n    //     \"bajajfinsvsktr\": \"金融-#f87f2c\"\n    // },\n    {\n        \"kotakbanksktr\": \"金融-#fda55e\"\n    },\n\n\n    //color\n    {\n        \"sbinsktr\": \"银行-#353535\"\n    },\n    {\n        \"icicibanksktr\": \"银行-#4d4d4d\"\n    },\n    {\n        \"hdfcsktr\": \"银行-#626262\"\n    },\n    {\n        \"hdfcbanksktr\": \"银行-#757575\"\n    },\n    //blue\n    {\n        \"infysktr\": \"信息-#125ca4\"\n    },\n    {\n        \"techmsktr\": \"信息-#3181bd\"\n    },\n    {\n        \"hcltechsktr\": \"信息-#5ba3cf\"\n    },\n    {\n        \"tcssktr\": \"信息-#8fc1de\"\n    },\n    //purples\n    {\n        \"coalindiasktr\": \"煤炭-#5c3696\"\n    },\n    {\n        \"ongcsktr\": \"石油气-#684ea2\"\n    },\n    {\n        \"iocsktr\": \"石油气-#7566ae\"\n    },\n    {\n        \"bpclsktr\": \"石油-#827cb9\"\n    },\n    {\n        \"powergridsktr\": \"电网-#928ec3\"\n    },\n    {\n        \"ntpcsktr\": \"光伏-#a3a0cc\"\n    },\n\n    //red\n    {\n        \"britanniasktr\": \"食品-#b21218\"\n    },\n    {\n        \"nestleindsktr\": \"雀巢-#dc2a25\"\n    },\n    {\n        \"tataconsumsktr\": \"饮料-#f6573f\"\n    },\n    //teals \n    {\n        \"drreddysktr\": \"制药-#127273\"\n    },\n    {\n        \"sunpharmasktr\": \"制药-#2b8b8c\"\n    },\n    {\n        \"divislabsktr\": \"制药-#4da5a4\"\n    },\n    //greys\n    {\n        \"jswsteelsktr\": \"钢铁-#353535\"\n    },\n    {\n        \"tatasteelsktr\": \"钢铁-#4d4d4d\"\n    },\n    {\n        \"ltsktr\": \"工程建筑-#626262\"\n    },\n    {\n        \"uplsktr\": \"农药-#757575\"\n    },\n    {\n        \"reliancesktr\": \"信实工业-#888888\"\n    },\n    {\n        \"grasimsktr\": \"纺织-#9d9d9d\"\n    },\n    //warmgreys\n    {\n        \"ultracemcosktr\": \"水泥-#665c5a\"\n    },\n    {\n        \"shreecemsktr\": \"水泥-#7e7673\"\n    },\n    {\n        \"asianpaintsktr\": \"涂料-#98908c\"\n    },\n    {\n        \"hindalcosktr\": \"铝铜-#b3aaa7\"\n    },\n\n\n    {\n        \"itcsktr\": \"贸易-#d8b5a5\"\n    },\n    {\n        \"adaniportssktr\": \"港口运营-#fcbfd2\"\n    },\n    {\n        \"titansktr\": \"珠宝-#ffbf79\"\n    },\n    {\n        \"hindunilvrsktr\": \"联合利华-#d9d9d9\"\n    },\n\n\n\n]\nlet namedMap = new Map<any, any>()\nfor (let i = 0; i < nameMap.length; i++) {\n    const key = Object.keys(nameMap[i])[0];\n    namedMap.set(key, nameMap[i][key])\n}\n\nasync function get(url: string) {\n    url = 'postgres' + url;\n    //const loading = openLoading();\n    const { data } = await axios.get(url);\n    //loading.close();\n    return data;\n}\n\nclass InteractionInfo {\n    type: string\n    showInfo: Array<boolean>\n    timeRange: Array<number>\n    width: number\n    level: number\n    constructor(type: string) {\n        this.type = type;\n        this.showInfo = [];\n        this.timeRange = [];\n        this.width = 0;\n        this.level = 0;\n    }\n    setShowInfo(showInfo: Array<boolean>) {\n        this.showInfo = showInfo;\n    }\n    setRangeW(timeRange: Array<number>, width: number, level: number) {\n        this.timeRange = [timeRange[0], timeRange[1]];\n        this.width = width;\n        this.level = level;\n    }\n\n}\n\nlet interactionStack: Array<InteractionInfo> = [];\n\nexport function drawMultiTimeSeries(multiTimeSeriesObj: MultiTimeSeriesObj) {\n    let realTimeStampRange: Array<number> = [multiTimeSeriesObj.startTimeStamp, multiTimeSeriesObj.endTimeStamp];\n    let nodeIndexRange: Array<number> = [multiTimeSeriesObj.timeRange[0], multiTimeSeriesObj.timeRange[1]]\n    let rowNumber = 65536;/////////////修改前131072\n    let isInit = false;\n    let isResizing = false;\n    let isRebacking = false;\n    let interactiveInfo = {\n        startX: 0,\n        startY: 0,\n        offsetX: 0,\n        offsetY: 0,\n        isMouseDown: false,\n        isMove: false,\n    };\n    //const pading = { top: 20, bottom: 80, left: 45, right: 250 };\n    const pading = { top: 20, bottom: 80, left: 45, right: 20 };\n    const svg = d3.select(\"#content-container\").append(\"svg\");\n    svg\n        .attr(\"width\", multiTimeSeriesObj.width + pading.left + pading.right)\n        .attr(\"height\", multiTimeSeriesObj.height + pading.top + pading.bottom)\n        .attr(\"transform\", `translate(${multiTimeSeriesObj.x},${multiTimeSeriesObj.y})`)\n        .style(\"background-color\", \"#fff\");\n\n    const foreignId = `foreign${multiTimeSeriesObj.width + Math.random()}`;\n    const foreigG = svg.append(\"g\").attr(\"transfrom\", `translate(${pading.left},${pading.top})`)\n    let foreignObj: any = foreigG.append(\"foreignObject\").attr(\"id\", foreignId).attr(\"x\", pading.left).attr(\"y\", pading.top).attr('width', multiTimeSeriesObj.width).attr('height', multiTimeSeriesObj.height);\n    const canvas = document.createElement(\"canvas\");\n    (canvas as any).__data__ = {}\n    document.getElementById(foreignId)?.appendChild(canvas);\n    canvas.width = multiTimeSeriesObj.width;\n    canvas.height = multiTimeSeriesObj.height;\n    let ctx = canvas.getContext(\"2d\");\n\n    //const timeRangeScale = d3.scaleLinear().domain([1493733884409, 1493829248294]).range([0, 2 ** 20 - 1]);\n    const indexToTimeStampScale = d3.scaleLinear().domain([nodeIndexRange[0], nodeIndexRange[1]]).range([realTimeStampRange[0], realTimeStampRange[1]]);\n    const xScale: any = d3.scaleLinear().domain([0, multiTimeSeriesObj.width]).range([0, multiTimeSeriesObj.width]);\n    // let showTimeXScale: any = d3.scaleTime().domain([new Date(realTimeStampRange[0]), new Date(realTimeStampRange[1])]).range([0, multiTimeSeriesObj.width]);\n    let showTimeXScale: any = d3.scaleLinear().domain([0, rowNumber]).range([0, multiTimeSeriesObj.width]);\n    let yScale: any = d3.scaleLinear().domain([multiTimeSeriesObj.minv, multiTimeSeriesObj.maxv]).range([multiTimeSeriesObj.height, 0]);\n\n    // let xReScale = d3.scaleLinear().domain([0, multiTimeSeriesObj.width]).range([0, multiTimeSeriesObj.dataManagers[0].realDataRowNum - 1]);\n    let xReScale = d3.scaleLinear().domain([0, multiTimeSeriesObj.width]).range([0, 65536]);\n    // let showXTimeScale: any = d3.scaleTime().domain([new Date(realTimeStampRange[0]), new Date(realTimeStampRange[1])]).range([0, multiTimeSeriesObj.width]);\n    let showXTimeScale: any = d3.scaleLinear().domain([0, rowNumber]).range([0, multiTimeSeriesObj.width]);\n\n    let zoomAxis = d3.axisBottom(showTimeXScale);\n    let yAxis = d3.axisLeft(yScale);\n    if (store.state.controlParams.currentMode === 'Default') {\n        yAxis = d3.axisLeft(yScale).tickFormat((val) => {\n            //@ts-ignore\n            return 100 * val + \"%\"\n        })\n    }\n\n    let xAxis = d3.axisBottom(showXTimeScale)\n    const yReScale = d3.scaleLinear().domain([multiTimeSeriesObj.minv, multiTimeSeriesObj.maxv]).range([multiTimeSeriesObj.height, 0]);\n    const timeBrushObj = d3.brushX().extent([[0, 10], [multiTimeSeriesObj.width, 40]]);\n    const timeBoxBrushObj = d3.brush().extent([[pading.left, pading.top], [multiTimeSeriesObj.width + pading.left, multiTimeSeriesObj.height + pading.top]]);\n\n    timeBoxBrushObj.on(\"end\", timeBoxBrushed);\n\n    timeBrushObj.on(\"end\", brushed);\n    timeBrushObj.on(\"start\", () => {\n        console.log(\"start\")\n    })\n    const timeBoxG = svg.append(\"g\").attr(\"transform\", `translate(${pading.left},${pading.top + 50 + multiTimeSeriesObj.height - 20})`).call(timeBrushObj).call(timeBrushObj.move, [0, multiTimeSeriesObj.width]);\n    foreigG.call(timeBoxBrushObj)\n\n    let zoomAxisG = svg.append(\"g\").attr('style', 'user-select:none').attr(\"transform\", `translate(${pading.left},${multiTimeSeriesObj.height + pading.top + 50})`).attr(\"class\", 'x axis').call(zoomAxis)\n    let xAxisG = svg.append(\"g\").attr('style', 'user-select:none').attr(\"transform\", `translate(${pading.left},${multiTimeSeriesObj.height + pading.top})`).attr(\"class\", 'x axis').call(xAxis)\n    let yAxisG = svg.append(\"g\").attr('style', 'user-select:none').attr(\"transform\", `translate(${pading.left},${pading.top})`).attr(\"class\", 'y axis').call(yAxis);\n\n\n    //@ts-ignore\n    function updateCanvasWidth() {\n        //@ts-ignore\n        canvas.style.width = multiTimeSeriesObj.width;\n        svg\n            .attr(\"width\", multiTimeSeriesObj.width + pading.left + pading.right)\n            .attr(\"height\", multiTimeSeriesObj.height + pading.top + pading.bottom)\n        foreignObj.attr(\"width\", multiTimeSeriesObj.width);\n        xScale.domain([0, multiTimeSeriesObj.width]).range([0, multiTimeSeriesObj.width]);\n        // showTimeXScale.domain([new Date(realTimeStampRange[0]), new Date(realTimeStampRange[1])]).range([0, multiTimeSeriesObj.width]);\n        showTimeXScale.domain([0, rowNumber]).range([0, multiTimeSeriesObj.width]);\n        if (zoomAxisG != null) {\n            zoomAxisG.remove();\n            zoomAxisG = svg.append(\"g\").attr('style', 'user-select:none').attr(\"transform\", `translate(${pading.left},${multiTimeSeriesObj.height + pading.top + 50})`).attr(\"class\", 'x axis').call(zoomAxis)\n        }\n        timeBrushObj.extent([[0, 10], [multiTimeSeriesObj.width, 40]]);\n        timeBrushObj.on(\"end\", brushed);\n        timeBrushObj.on(\"start\", () => {\n            console.log(\"start\")\n        })\n        const tempReScale = d3.scaleLinear().domain([0, nodeIndexRange[1]]).range([0, multiTimeSeriesObj.width]);\n        timeBoxG.call(timeBrushObj).call(timeBrushObj.move, [tempReScale(multiTimeSeriesObj.timeRange[0]), tempReScale(multiTimeSeriesObj.timeRange[1])]);\n        ctx = canvas.getContext(\"2d\");\n    }\n\n    let lengendG: any = null;\n    \n    // function drawLengend(leftOffset: number, multiTimeSeriesObj: MultiTimeSeriesObj, colorArray: Array<string>) {\n    //     if (lengendG !== null) {\n    //         lengendG.remove()\n    //     }\n    //     //lengendG = svg.append('g').attr(\"width\", 100).attr(\"height\", 700).attr(\"transform\", `translate(${leftOffset},${pading.top - 15})`);\n    //     let showNum = 0;\n    //     for (let i = 0; i < multiTimeSeriesObj.columnInfos.length; i++) {\n    //         const dataManager = multiTimeSeriesObj.columnInfos[i];\n    //         if (dataManager.isShow) {\n    //             if (store.state.controlParams.currentMode === 'Default') {\n    //                 let nameStrs = dataManager.dataName.split(\".\")[1].split(\"_\")\n    //                 if (nameStrs[1][nameStrs[1].length - 1] !== 'r') {\n    //                     nameStrs[1] = nameStrs[1] + 'r';\n    //                 }\n    //                 if (!namedMap.has(nameStrs[1])) {\n    //                     dataManager.isShow = false;\n    //                     continue\n    //                 }\n    //                 showNum++;\n    //             } else {\n    //                 let nameStrs = dataManager.dataName.split(\".\")[1].split(\"_\");\n    //                 let showName = nameStrs[1]\n    //                 for (let i = 2; i < nameStrs.length - 2; i++) {\n    //                     showName = showName + \"_\" + nameStrs[i];\n    //                 }\n    //                 const showColor = colorArray[dataManager.md5Num! % 46];\n    //                 showNum++;\n    //             }\n    //         }\n    //     }\n    // }\n\n    function draw(columnInfos?: any) {\n        const colorArray1 = [\"#b3de69\", \"#fdb462\", \"#80b1d3\", \"#fb8072\", \"#bebada\", \"#ffffb3\", \"#8dd3c7\", \"#1f77b4\", \"#aec7e8\", \"#ff7f0e\", \"#ffbb78\", \"#2ca02c\", \"#98df8a\", \"#d62728\", \"#ff9896\", \"#9467bd\", \"#c5b0d5\", \"#8c564b\", \"#c49c94\", \"#e377c2\", \"#f7b6d2\", \"#7f7f7f\", \"#c7c7c7\", \"#bcbd22\", \"#dbdb8d\", \"#17becf\", \"#9edae5\", \"#393b79\", \"#5254a3\", \"#6b6ecf\", \"#9c9ede\", \"#637939\", \"#8ca252\", \"#b5cf6b\", \"#cedb9c\", \"#8c6d31\", \"#bd9e39\", \"#e7ba52\", \"#843c39\", \"#ad494a\", \"#d6616b\", \"#e7969c\", \"#7b4173\", \"#a55194\", \"#ce6dbd\", \"#de9ed6\"];\n        // drawLengend(multiTimeSeriesObj.width + pading.left + 10, multiTimeSeriesObj, colorArray1)\n        canvas.width = multiTimeSeriesObj.width;\n        const curMinMax = computeMinMax(multiTimeSeriesObj);\n        // yScale = d3.scaleLinear().domain([curMinMax.min, curMinMax.max]).range([multiTimeSeriesObj.height, 0]);\n        yScale = d3.scaleLinear().domain([-1000,1000]).range([multiTimeSeriesObj.height, 0]);    ///////////修改前为[-10000,10000]\n        yAxis = d3.axisLeft(yScale);\n        if (store.state.controlParams.currentMode === 'Default') {\n            yAxis = d3.axisLeft(yScale).tickFormat((val) => {\n                //@ts-ignore\n                return 100 * val + \"%\"\n            })\n        }\n        if (yAxisG !== null && yAxisG !== undefined) {\n            yAxisG.remove();\n        }\n        yAxisG = svg.append(\"g\").attr('style', 'user-select:none').attr(\"transform\", `translate(${pading.left},${pading.top})`).attr(\"class\", 'y axis').call(yAxis);\n\n        // showXTimeScale = d3.scaleTime().domain([new Date(Math.floor(indexToTimeStampScale(multiTimeSeriesObj.timeRange[0]))), new Date(Math.floor(indexToTimeStampScale(multiTimeSeriesObj.timeRange[1])))]).range([0, multiTimeSeriesObj.width]);\n        showXTimeScale = d3.scaleLinear().domain([0, rowNumber]).range([0, multiTimeSeriesObj.width]);\n        xAxis = d3.axisBottom(showXTimeScale);\n        if (xAxisG !== null && xAxisG !== undefined) {\n            xAxisG.remove();\n        }\n        xAxisG = svg.append(\"g\").attr('style', 'user-select:none').attr(\"transform\", `translate(${pading.left},${multiTimeSeriesObj.height + pading.top})`).attr(\"class\", 'x axis').call(xAxis)\n        \n        columnInfos = multiTimeSeriesObj.columnInfos;\n        ctx?.clearRect(0, 0, multiTimeSeriesObj.width, multiTimeSeriesObj.height);\n        for (let i = 0; i < columnInfos.length; i++) {\n            if (multiTimeSeriesObj.isShow[i]) {\n                if (multiTimeSeriesObj.columnInfos[i]) {\n                    ctx?.beginPath();\n                    if (store.state.controlParams.currentMode === 'Default') {\n                        //ctx.strokeStyle = colorArray1[i];\n                        const nonUniformColObjs = multiTimeSeriesObj.columnInfos[i];\n                        let nameStrs = multiTimeSeriesObj.dataName[i].split(\".\")[1].split(\"_\")\n                        if (nameStrs[1][nameStrs[1].length - 1] !== 'r') {\n                            nameStrs[1] = nameStrs[1] + 'r';\n                        }\n                        //@ts-ignore\n                        ctx.strokeStyle = namedMap.get(nameStrs[1]).split(\"-\")[1]//colorArray1[i];\n                    } else {\n                        //@ts-ignore\n                        ctx.strokeStyle = colorArray1[multiTimeSeriesObj.columnInfos[i].md5Num! % 46];\n                    }\n\n                    //@ts-ignore\n                    ctx.strokeWidth = 1;\n                    const nonUniformColObjs = columnInfos[i];\n                    let interval = (nonUniformColObjs[0].end_time - nonUniformColObjs[0].start_time)/3;\n                    for (let j = 0; j < nonUniformColObjs.length; j++) {\n                        ctx?.moveTo(showXTimeScale(nonUniformColObjs[j].start_time), yScale(nonUniformColObjs[j].st_v));\n                        ctx?.lineTo(showXTimeScale(nonUniformColObjs[j].start_time + interval*2), yScale(nonUniformColObjs[j].min));\n                        ctx?.moveTo(showXTimeScale(nonUniformColObjs[j].start_time + interval*2), yScale(nonUniformColObjs[j].min));\n                        ctx?.lineTo(showXTimeScale(nonUniformColObjs[j].start_time + interval*3), yScale(nonUniformColObjs[j].max));\n                        ctx?.moveTo(showXTimeScale(nonUniformColObjs[j].start_time + interval*3), yScale(nonUniformColObjs[j].max));\n                        ctx?.lineTo(showXTimeScale(nonUniformColObjs[j].end_time), yScale(nonUniformColObjs[j].et_v));\n                        if (j <= nonUniformColObjs.length - 2) {\n                            ctx?.moveTo(showXTimeScale(nonUniformColObjs[j].end_time), yScale(nonUniformColObjs[j].et_v));\n                            ctx?.lineTo(showXTimeScale(nonUniformColObjs[j + 1].start_time), yScale(nonUniformColObjs[j + 1].st_v));\n                        }\n                    }\n                    ctx?.stroke();\n                }\n            }\n        }\n        // savePNG(canvas);\n    }\n\n    async function resizeW(width: number) {\n        isResizing = true;\n        //timeboxStack = [];\n        const currentLevel = multiTimeSeriesObj.currentLevel;\n        // multiTimeSeriesObj.currentLevel = 10;//currentLevel + 1\n        multiTimeSeriesObj.width = width;\n        updateCanvasWidth();\n\n        if (currentLevel + 1 >= multiTimeSeriesObj.maxLevel - 1) {\n            return\n        }\n\n        //@ts-ignore\n        canvas.style.width = multiTimeSeriesObj.width\n\n        console.log(\"resize....\");\n        // let mode = \"show\";\n        // let type = \"\"\n        // let parallel = 0;\n        // let errorBound = 0;\n        // let line1 = multiTimeSeriesObj.line1;\n        // const combinedUrl = `/line_chart/case1?table_name=${line1[0]}&table_name_others=${line1[1]}&symbol=${line1[2]}&mode=${mode}&width=${multiTimeSeriesObj.width}&height=${multiTimeSeriesObj.height}&startTime=${multiTimeSeriesObj.timeRange[0]}&endTime=${multiTimeSeriesObj.timeRange[1]}&interact_type=${type}&experiment=${line1[3]}&parallel=${parallel}&errorBound=${errorBound}`;\n        // const showColumns = await get(combinedUrl);\n        // multiTimeSeriesObj.columnInfos = showColumns;\n        // draw();\n    }\n\n    async function zoomIn(timeRange: Array<number>) {\n        //timeboxStack = [];\n        const currentLevel = multiTimeSeriesObj.currentLevel;\n        multiTimeSeriesObj.currentLevel = 10;//currentLevel + 1\n        const width = multiTimeSeriesObj.width;\n        multiTimeSeriesObj.timeRange[1] = timeRange[1]//Math.floor(multiTimeSeriesObj.timeRange[1] / 2);\n        multiTimeSeriesObj.timeRange[0] = timeRange[0]\n        if (currentLevel + 1 >= multiTimeSeriesObj.maxLevel - 1) {\n            return\n        }\n\n        const needLoadLevel = 2 ** Math.ceil(Math.log2(width))\n        console.log(\"zoomIn....\");\n        let mode = \"show\";\n        let type = \"\"\n        let parallel = 0;\n        let errorBound = 0;\n        let line1 = multiTimeSeriesObj.line1;\n        const combinedUrl = `/line_chart/case1?table_name=${line1[0]}&table_name_others=${line1[1]}&symbol=${line1[2]}&mode=${mode}&width=${multiTimeSeriesObj.width}&height=${multiTimeSeriesObj.height}&startTime=${multiTimeSeriesObj.timeRange[0]}&endTime=${multiTimeSeriesObj.timeRange[1]}&interact_type=${type}&experiment=${line1[3]}&parallel=${parallel}&errorBound=${errorBound}`;\n        const showColumns = await get(combinedUrl);\n        multiTimeSeriesObj.columnInfos = showColumns;\n        draw();\n    }\n\n\n    //@ts-ignore\n    async function brushed({ selection }) {\n        if (!isInit) {\n            isInit = true\n            return;\n        }\n        if (isResizing) {\n            isRebacking = false;\n            return;\n        }\n        if (isRebacking) {\n            isRebacking = false;\n            return\n        }\n        const timeRange = [Math.floor(xReScale(selection[0])), Math.floor(xReScale(selection[1]))];\n        if (timeRange[0] < 0) {\n            timeRange[0] = 0;\n        }\n        if (timeRange[1] > nodeIndexRange[1]) {\n            timeRange[1] = nodeIndexRange[1]\n        }\n        const interInfo = new InteractionInfo(\"zoom\")\n        interInfo.setRangeW(multiTimeSeriesObj.timeRange, multiTimeSeriesObj.width, multiTimeSeriesObj.currentLevel);\n        interactionStack.push(interInfo);\n        zoomIn([timeRange[0], timeRange[1]])\n    }\n\n    let timeboxStack: Array<Array<boolean>> = [];\n\n    //@ts-ignore\n    function timeBoxBrushed({ selection }) {\n        if (selection === null) {\n            return;\n        }\n        const lastRes = [];\n        for (let i = 0; i < multiTimeSeriesObj.columnInfos.length; i++) {\n            lastRes.push(multiTimeSeriesObj.isShow[i]);\n        }\n        //if(interactionStack[interactionStack.length-1].type==='timebox')\n        const timeBoxStartTime = new Date().getTime();\n        const interInfo = new InteractionInfo(\"timebox\");\n        interInfo.setShowInfo(lastRes);\n        interactionStack.push(interInfo);\n        // console.log(selection);\n        const startX = selection[0][0] - 40;\n        const endX = selection[1][0] - 40;\n        // console.log(showTimeXScale.invert(startX));\n        // console.log(showTimeXScale.invert(endX));\n        const vMinY = selection[1][1] - 20;\n        const vMaxY = selection[0][1] - 20;\n        const vMin = yScale.invert(vMinY);\n        const vMax = yScale.invert(vMaxY);\n        const allColumnInfos = multiTimeSeriesObj.columnInfos;\n\n        for (let i = 0; i < allColumnInfos.length; i++) {\n            let isChoose = multiTimeSeriesObj.isShow[i];\n            for (let j = Math.floor(startX); j <= Math.floor(endX); j++) {\n                isChoose = isChoose && (allColumnInfos[i][j].min >= vMin && allColumnInfos[i][j].max <= vMax)\n            }\n            multiTimeSeriesObj.isShow[i] = false;\n            if (isChoose) {\n                multiTimeSeriesObj.isShow[i] = true\n                //console.log(multiTimeSeriesObj.dataManagers[i].dataName);\n            }\n            // multiTimeSeriesObj.isShow[i] = false;\n        }\n        let minV = Infinity;\n        let maxV = -Infinity;\n        for (let i = 0; i < allColumnInfos.length; i++) {\n            if (multiTimeSeriesObj.isShow[i]) {\n                for (let j = 0; j <= allColumnInfos[i].length; j++) {\n                    minV = Math.min(minV, allColumnInfos[i][j] ? allColumnInfos[i][j].vRange[0] : minV);\n\n                    maxV = Math.max(maxV, allColumnInfos[i][j] ? allColumnInfos[i][j].vRange[1] : maxV);\n                }\n            }\n        }\n        // multiTimeSeriesObj.maxv = -10;\n        // multiTimeSeriesObj.minv = 10\n        draw();\n        //zoomIn([timeRangeScale(1493740845000),timeRangeScale(1493805314000)])\n    }\n    let isMouseover = false;\n    let startOffsetX = 0;\n    const dragRect = svg\n        .append(\"rect\")\n        .attr(\"x\", 0)\n        .attr(\"y\", 0)\n        .attr(\"height\", multiTimeSeriesObj.height + pading.top + pading.bottom)\n        .attr(\"width\", multiTimeSeriesObj.width + pading.left + pading.right)\n        .attr(\"stroke\", \"black\")\n        .attr(\"stroke-width\", 4)\n        .attr(\"fill\", \"none\")\n        .on(\"mouseover\", () => {\n            document.body.style.cursor = 'ew-resize';\n            isMouseover = true;\n        })\n        .on(\"mousedown\", (e) => {\n            if (isMouseover) {\n                startOffsetX = e.offsetX;\n                interactiveInfo.isMouseDown = true;\n            }\n        })\n        .on(\"mouseup\", () => {\n            console.log();\n            for (let i = 0; i < 30; i++) {\n                multiTimeSeriesObj.isShow[i] = true;\n            }\n        })\n        .on(\"mousemove\", (e) => {\n            if (interactiveInfo.isMouseDown) {\n                svg.attr(\"width\", multiTimeSeriesObj.width + pading.right + pading.left + (e.offsetX - startOffsetX));\n                dragRect.attr(\"width\", multiTimeSeriesObj.width + pading.right + pading.left + (e.offsetX - startOffsetX));\n            }\n        })\n        .on(\"mouseleave\", () => {\n            if (!interactiveInfo.isMouseDown) {\n                document.body.style.cursor = 'default';\n            }\n            for (let i = 0; i < 30; i++) {\n                multiTimeSeriesObj.isShow[i] = true;\n            }\n        })\n\n    document\n        .getElementById(\"content-container\")!\n        .addEventListener(\"mousemove\", (e) => {\n            if (interactiveInfo.isMouseDown) {\n                svg.attr(\"width\", multiTimeSeriesObj.width + pading.right + pading.left + (e.offsetX - startOffsetX));\n                dragRect.attr(\"width\", multiTimeSeriesObj.width + pading.right + pading.left + (e.offsetX - startOffsetX));\n            }\n        });\n\n    document\n        .getElementById(\"content-container\")!\n        .addEventListener(\"mouseup\", (e) => {\n            if (interactiveInfo.isMouseDown) {\n                interactiveInfo.isMouseDown = false;\n                isMouseover = false;\n                document.body.style.cursor = 'default';\n                let preWidth = multiTimeSeriesObj.width;\n                multiTimeSeriesObj.width = multiTimeSeriesObj.width + (e.offsetX - startOffsetX);\n                if (multiTimeSeriesObj.width === preWidth) {\n                    return\n                }\n                const interInfo = new InteractionInfo(\"resize\")\n                interInfo.setRangeW(multiTimeSeriesObj.timeRange, multiTimeSeriesObj.width, multiTimeSeriesObj.currentLevel);\n                interactionStack.push(interInfo);\n                resizeW(multiTimeSeriesObj.width)\n            }\n            for (let i = 0; i < 30; i++) {\n                multiTimeSeriesObj.isShow[i] = true;\n            }\n        });\n    svg.on(\"contextmenu\", (e) => {\n\n        if (interactionStack.length > 0) {\n            const interInfo = interactionStack.pop();\n\n            if (interInfo?.type === 'timebox') {\n                const curStats = interInfo.showInfo;\n                for (let i = 0; i < multiTimeSeriesObj.columnInfos.length; i++) {\n                    multiTimeSeriesObj.isShow[i] = curStats![i];\n                }\n                draw();\n            } else if (interInfo?.type === 'resize') {\n\n                resizeW(interInfo.width);\n            } else if (interInfo?.type === 'zoom') {\n                isRebacking = true;\n                zoomIn(interInfo.timeRange)\n            }\n        }\n        e.preventDefault();\n        e.stopPropagation();\n    });\n\n\n    let i = 0;\n    canvas.addEventListener(\"click\", (e) => {\n        console.log(1);\n    });\n    draw();\n}\n\nfunction computeMinMax(multiTimeSeriesObj: MultiTimeSeriesObj) {\n    let min = Infinity;\n    let max = -Infinity;\n    // for (let i = 0; i < multiTimeSeriesObj.columnInfos.length; i++) {\n    //     if (multiTimeSeriesObj.isShow[i]) {\n    //         const columInfo = multiTimeSeriesObj.columnInfos[i];\n    //         for (let j = 0; j < columInfo.length; j++) {\n    //             if (columInfo[j].vRange[0] < min) {\n    //                 min = columInfo[j].vRange[0];\n    //             }\n\n    //             if (columInfo[j].vRange[1] > max) {\n    //                 max = columInfo[j].vRange[1];\n    //             }\n    //         }\n    //     } else {\n    //         // console.log(multiTimeSeriesObj.dataManagers[i].dataName)\n    //     }\n    // }\n    min = -2000, max = 2000;\n    return {\n        min,\n        max\n    }\n}\n\nfunction savePNG(canvas: any) {\n    const imgURL = canvas.toDataURL(\"./image/png\");\n    const dlLink = document.createElement(\"a\")\n    dlLink.download = `1b_zoom_init`\n    dlLink.href = imgURL\n    dlLink.dataset.downloadurl = [\"./image/png\", dlLink.download, dlLink.href].join(\":\")\n    document.body.appendChild(dlLink)\n    dlLink.click()\n    document.body.removeChild(dlLink)\n}\n"],"mappings":";AAEA,OAAOA,KAA6B,MAAM,SAAS;AACnD,OAAO,KAAKC,EAAE,MAAM,IAAI;AACxB,OAAOC,KAAK,MAAM,OAAO;AACzB;AAEA,IAAIC,OAAO,GAAQ;AACf;AACA;EACI,YAAY,EAAE;CACjB,EACD;EACI,gBAAgB,EAAE;CACrB,EACD;EACI,eAAe,EAAE;CACpB,EACD;EACI,gBAAgB,EAAE;CACrB,EACD;EACI,QAAQ,EAAE;CACb;AACD;AACA;AACA;AACA;AACA;EACI,cAAc,EAAE;CACnB,EACD;EACI,gBAAgB,EAAE;CACrB;AACD;AACA;AACA;AACA;EACI,eAAe,EAAE;CACpB;AAGD;AACA;EACI,UAAU,EAAE;CACf,EACD;EACI,eAAe,EAAE;CACpB,EACD;EACI,UAAU,EAAE;CACf,EACD;EACI,cAAc,EAAE;CACnB;AACD;AACA;EACI,UAAU,EAAE;CACf,EACD;EACI,WAAW,EAAE;CAChB,EACD;EACI,aAAa,EAAE;CAClB,EACD;EACI,SAAS,EAAE;CACd;AACD;AACA;EACI,eAAe,EAAE;CACpB,EACD;EACI,UAAU,EAAE;CACf,EACD;EACI,SAAS,EAAE;CACd,EACD;EACI,UAAU,EAAE;CACf,EACD;EACI,eAAe,EAAE;CACpB,EACD;EACI,UAAU,EAAE;CACf;AAED;AACA;EACI,eAAe,EAAE;CACpB,EACD;EACI,eAAe,EAAE;CACpB,EACD;EACI,gBAAgB,EAAE;CACrB;AACD;AACA;EACI,aAAa,EAAE;CAClB,EACD;EACI,eAAe,EAAE;CACpB,EACD;EACI,cAAc,EAAE;CACnB;AACD;AACA;EACI,cAAc,EAAE;CACnB,EACD;EACI,eAAe,EAAE;CACpB,EACD;EACI,QAAQ,EAAE;CACb,EACD;EACI,SAAS,EAAE;CACd,EACD;EACI,cAAc,EAAE;CACnB,EACD;EACI,YAAY,EAAE;CACjB;AACD;AACA;EACI,gBAAgB,EAAE;CACrB,EACD;EACI,cAAc,EAAE;CACnB,EACD;EACI,gBAAgB,EAAE;CACrB,EACD;EACI,cAAc,EAAE;CACnB,EAGD;EACI,SAAS,EAAE;CA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","ignoreList":[]}]}