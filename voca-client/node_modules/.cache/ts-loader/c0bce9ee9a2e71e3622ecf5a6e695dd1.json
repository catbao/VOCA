{"remainingRequest":"/Users/apple/Desktop/om3-extend/om3-client/node_modules/babel-loader/lib/index.js!/Users/apple/Desktop/om3-extend/om3-client/node_modules/ts-loader/index.js??ref--15-2!/Users/apple/Desktop/om3-extend/om3-client/node_modules/eslint-loader/index.js??ref--14-0!/Users/apple/Desktop/om3-extend/om3-client/src/model/haar-index-obj.ts","dependencies":[{"path":"/Users/apple/Desktop/om3-extend/om3-client/src/model/haar-index-obj.ts","mtime":1732546288000},{"path":"/Users/apple/Desktop/om3-extend/om3-client/babel.config.js","mtime":1732546288000},{"path":"/Users/apple/Desktop/om3-extend/om3-client/node_modules/cache-loader/dist/cjs.js","mtime":1732627998000},{"path":"/Users/apple/Desktop/om3-extend/om3-client/node_modules/babel-loader/lib/index.js","mtime":1732627998000},{"path":"/Users/apple/Desktop/om3-extend/om3-client/node_modules/ts-loader/index.js","mtime":1732627997000},{"path":"/Users/apple/Desktop/om3-extend/om3-client/node_modules/eslint-loader/index.js","mtime":1732627997000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5wdXNoLmpzIjsKaW1wb3J0IHsgY29tcHV0ZU5lZWRMb2FkRGF0YVJhbmdlLCBpc0ludGVyc2VjdCB9IGZyb20gIi4uL2hlbHBlci91dGlsIjsKZXhwb3J0IGRlZmF1bHQgY2xhc3MgSGFhckluZGV4T2JqIHsKICBjb25zdHJ1Y3RvcihsZXZlbCwgaXNGdWxsID0gZmFsc2UpIHsKICAgIHRoaXMubGV2ZWwgPSBsZXZlbDsKICAgIHRoaXMuaXNGdWxsID0gaXNGdWxsOwogICAgdGhpcy5sb2FkZWREYXRhUmFuZ2UgPSBbXTsKICAgIHRoaXMuZmlyc3ROb2RlcyA9IFtdOwogICAgdGhpcy5pc1NlbGZDaGVjayA9IGZhbHNlOwogIH0KICBhZGRMb2FkZWREYXRhUmFuZ2UoZmlyc3ROb2RlLCByYW5nZSkgewogICAgaWYgKHRoaXMubG9hZGVkRGF0YVJhbmdlLmxlbmd0aCA9PT0gMCkgewogICAgICB0aGlzLmxvYWRlZERhdGFSYW5nZS5wdXNoKHJhbmdlKTsKICAgICAgdGhpcy5maXJzdE5vZGVzLnB1c2goZmlyc3ROb2RlKTsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbG9hZGVkRGF0YVJhbmdlTGVuID0gdGhpcy5sb2FkZWREYXRhUmFuZ2UubGVuZ3RoOwogICAgbGV0IGlzTWVyZ2UgPSBmYWxzZTsKICAgIGNvbnN0IG5lZWRDaGVja0luZGV4ID0gW107CiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxvYWRlZERhdGFSYW5nZUxlbjsgaSsrKSB7CiAgICAgIGNvbnN0IGludGVyc2VjdFJlcyA9IGlzSW50ZXJzZWN0KHRoaXMubG9hZGVkRGF0YVJhbmdlW2ldLCByYW5nZSk7CiAgICAgIGlmIChpbnRlcnNlY3RSZXMuaXNJbnRlcnNlY3QpIHsKICAgICAgICBpc01lcmdlID0gdHJ1ZTsKICAgICAgICBpZiAoaW50ZXJzZWN0UmVzLnBvcyA9PT0gJ3NlY29uZCcpIHsKICAgICAgICAgIGNvbnN0IGxhc3ROb2RlID0gdGhpcy5maXJzdE5vZGVzW2ldOwogICAgICAgICAgdGhpcy5maXJzdE5vZGVzW2ldID0gZmlyc3ROb2RlOwogICAgICAgICAgbGV0IHAgPSBmaXJzdE5vZGU7CiAgICAgICAgICB3aGlsZSAocC5uZXh0U2libGluZykgewogICAgICAgICAgICBpZiAocC5uZXh0U2libGluZy5pbmRleCA9PT0gbGFzdE5vZGUuaW5kZXgpIHsKICAgICAgICAgICAgICBwLm5leHRTaWJsaW5nID0gbGFzdE5vZGU7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcCA9IHAubmV4dFNpYmxpbmc7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGxldCBwID0gdGhpcy5maXJzdE5vZGVzW2ldOwogICAgICAgICAgd2hpbGUgKHAubmV4dFNpYmxpbmcpIHsKICAgICAgICAgICAgaWYgKHAubmV4dFNpYmxpbmcuaW5kZXggPT09IGZpcnN0Tm9kZS5pbmRleCkgewogICAgICAgICAgICAgIHAubmV4dFNpYmxpbmcgPSBmaXJzdE5vZGU7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcCA9IHAubmV4dFNpYmxpbmc7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIG5lZWRDaGVja0luZGV4LnB1c2goaSk7CiAgICAgICAgdGhpcy5sb2FkZWREYXRhUmFuZ2VbaV1bMF0gPSBNYXRoLm1pbih0aGlzLmxvYWRlZERhdGFSYW5nZVtpXVswXSwgcmFuZ2VbMF0pOwogICAgICAgIHRoaXMubG9hZGVkRGF0YVJhbmdlW2ldWzFdID0gTWF0aC5tYXgodGhpcy5sb2FkZWREYXRhUmFuZ2VbaV1bMV0sIHJhbmdlWzFdKTsKICAgICAgICAvL2JyZWFrCiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29uc3QgbWluSGVhZCA9IE1hdGgubWluKHRoaXMubG9hZGVkRGF0YVJhbmdlW2ldWzBdLCByYW5nZVswXSk7CiAgICAgICAgaWYgKG1pbkhlYWQgPT09IHRoaXMubG9hZGVkRGF0YVJhbmdlW2ldWzBdICYmIHRoaXMubG9hZGVkRGF0YVJhbmdlW2ldWzFdICsgMSA9PT0gcmFuZ2VbMF0pIHsKICAgICAgICAgIGlzTWVyZ2UgPSB0cnVlOwogICAgICAgICAgbGV0IHAgPSB0aGlzLmZpcnN0Tm9kZXNbaV07CiAgICAgICAgICB3aGlsZSAocC5uZXh0U2libGluZykgewogICAgICAgICAgICBwID0gcC5uZXh0U2libGluZzsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChwLmluZGV4ICE9PSBmaXJzdE5vZGUuaW5kZXggLSAxKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHAsIGZpcnN0Tm9kZSk7CiAgICAgICAgICAgIGRlYnVnZ2VyOwogICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoImluZGV4IGVycm9yIik7CiAgICAgICAgICB9CiAgICAgICAgICBwLm5leHRTaWJsaW5nID0gZmlyc3ROb2RlOwogICAgICAgICAgdGhpcy5sb2FkZWREYXRhUmFuZ2VbaV1bMV0gPSByYW5nZVsxXTsKICAgICAgICAgIG5lZWRDaGVja0luZGV4LnB1c2goaSk7CiAgICAgICAgICAvL2JyZWFrCiAgICAgICAgfSBlbHNlIGlmIChtaW5IZWFkID09PSByYW5nZVswXSAmJiByYW5nZVsxXSArIDEgPT09IHRoaXMubG9hZGVkRGF0YVJhbmdlW2ldWzBdKSB7CiAgICAgICAgICBpc01lcmdlID0gdHJ1ZTsKICAgICAgICAgIGxldCBwID0gZmlyc3ROb2RlOwogICAgICAgICAgd2hpbGUgKHAubmV4dFNpYmxpbmcpIHsKICAgICAgICAgICAgcCA9IHAubmV4dFNpYmxpbmc7CiAgICAgICAgICB9CiAgICAgICAgICBwLm5leHRTaWJsaW5nID0gdGhpcy5maXJzdE5vZGVzW2ldOwogICAgICAgICAgdGhpcy5maXJzdE5vZGVzW2ldID0gZmlyc3ROb2RlOwogICAgICAgICAgdGhpcy5sb2FkZWREYXRhUmFuZ2VbaV1bMF0gPSByYW5nZVswXTsKICAgICAgICAgIG5lZWRDaGVja0luZGV4LnB1c2goaSk7CiAgICAgICAgICAvL2JyZWFrCiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICBpZiAodGhpcy5pc1NlbGZDaGVjaykgewogICAgICB0aGlzLnNlbGZDaGVjaygpOwogICAgfQogICAgbGV0IGEgPSBmYWxzZTsKICAgIGxldCB0ZW1wSW5kZXhzID0gW107CiAgICBpZiAobmVlZENoZWNrSW5kZXgubGVuZ3RoID4gMikgewogICAgICB0ZW1wSW5kZXhzID0gbmVlZENoZWNrSW5kZXgubWFwKHYgPT4gewogICAgICAgIHJldHVybiB2OwogICAgICB9KTsKICAgICAgYSA9IHRydWU7CiAgICAgIC8vZGVidWdnZXIKICAgIH0KICAgIGlmIChuZWVkQ2hlY2tJbmRleC5sZW5ndGggPiAwKSB7CiAgICAgIHRoaXMucmVDaGVja0ludGVyc2VjdChuZWVkQ2hlY2tJbmRleCk7CiAgICB9CiAgICBpZiAoYSkgewogICAgICBkZWJ1Z2dlcjsKICAgIH0KICAgIGlmICh0aGlzLmlzU2VsZkNoZWNrKSB7CiAgICAgIHRoaXMuc2VsZkNoZWNrKCk7CiAgICB9CiAgICBpZiAoIWlzTWVyZ2UpIHsKICAgICAgdGhpcy5sb2FkZWREYXRhUmFuZ2UucHVzaChyYW5nZSk7CiAgICAgIHRoaXMuZmlyc3ROb2Rlcy5wdXNoKGZpcnN0Tm9kZSk7CiAgICB9CiAgICBpZiAodGhpcy5maXJzdE5vZGVzLmxlbmd0aCA9PT0gMSAmJiB0aGlzLmxvYWRlZERhdGFSYW5nZVswXVsxXSAtIHRoaXMubG9hZGVkRGF0YVJhbmdlWzBdWzBdICsgMSA9PT0gMiAqKiB0aGlzLmxldmVsKSB7CiAgICAgIHRoaXMuaXNGdWxsID0gdHJ1ZTsKICAgIH0KICB9CiAgZ2V0RGF0YUJ5SW5kZXgoc3RhcnQsIGVuZCkgewogICAgY29uc3QgZGF0YSA9IFtdOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmZpcnN0Tm9kZXMubGVuZ3RoOyBpKyspIHsKICAgICAgaWYgKHRoaXMubG9hZGVkRGF0YVJhbmdlW2ldWzBdIDw9IHN0YXJ0ICYmIHRoaXMubG9hZGVkRGF0YVJhbmdlW2ldWzFdID49IGVuZCkgewogICAgICAgIGxldCBwID0gdGhpcy5maXJzdE5vZGVzW2ldOwogICAgICAgIHdoaWxlIChwKSB7CiAgICAgICAgICBpZiAocC5pbmRleCA+PSBzdGFydCAmJiBwLmluZGV4IDw9IGVuZCkgewogICAgICAgICAgICBkYXRhLnB1c2gocC52YWx1ZSk7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAocC5pbmRleCA+IGVuZCkgewogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICAgIC8vQHRzLWlnbm9yZQogICAgICAgICAgcCA9IHAubmV4dFNpYmxpbmc7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICByZXR1cm4gewogICAgICBkYXRhLAogICAgICBzdGFydCwKICAgICAgZW5kLAogICAgICBsOiB0aGlzLmxldmVsCiAgICB9OwogIH0KICBoYXNEYXRhRm9yUmFuZ2Uoc3RhcnQsIGVuZCkgewogICAgaWYgKHRoaXMuaXNGdWxsKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgaGFzOiB0cnVlLAogICAgICAgIHJhbmdlOiBbXQogICAgICB9OwogICAgfQogICAgY29uc3QgbmVlZERhdGFSYW5nZSA9IGNvbXB1dGVOZWVkTG9hZERhdGFSYW5nZShbc3RhcnQsIGVuZF0sIHRoaXMubG9hZGVkRGF0YVJhbmdlKTsKICAgIGlmIChuZWVkRGF0YVJhbmdlLmxlbmd0aCA9PT0gMCkgewogICAgICByZXR1cm4gewogICAgICAgIGhhczogdHJ1ZSwKICAgICAgICByYW5nZTogW10KICAgICAgfTsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgaGFzOiBmYWxzZSwKICAgICAgICByYW5nZTogbmVlZERhdGFSYW5nZQogICAgICB9OwogICAgfQogIH0KICAvLyBmaWxsTGV2ZWwoKXsKICAvLyAgICAgY29uc3QgbmVlZERhdGFSZXM9dGhpcy5oYXNEYXRhRm9yUmFuZ2UoMCwyKip0aGlzLmxldmVsKTsKICAvLyAgICAgaWYobmVlZERhdGFSZXMuaGFzKXsKICAvLyAgICAgICAgIHJldHVybgogIC8vICAgICB9CiAgLy8gfQogIGdldFRyZWVOb2RlU3RhcnRJbmRleChzdGFydCkgewogICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmZpcnN0Tm9kZXMubGVuZ3RoOyBpKyspIHsKICAgICAgaWYgKHRoaXMubG9hZGVkRGF0YVJhbmdlW2ldWzBdIDw9IHN0YXJ0ICYmIHRoaXMubG9hZGVkRGF0YVJhbmdlW2ldWzFdID49IHN0YXJ0KSB7CiAgICAgICAgbGV0IHJvb3QgPSB0aGlzLmZpcnN0Tm9kZXNbaV07CiAgICAgICAgd2hpbGUgKHJvb3QpIHsKICAgICAgICAgIGlmIChyb290LmluZGV4ID09PSBzdGFydCkgewogICAgICAgICAgICByZXR1cm4gcm9vdDsKICAgICAgICAgIH0KICAgICAgICAgIC8vQHRzLWlnbm9yZQogICAgICAgICAgcm9vdCA9IHJvb3QubmV4dFNpYmxpbmc7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICByZXR1cm4gbnVsbDsKICB9CiAgcmVDaGVja0ludGVyc2VjdChuZWVkQ2hlY2tlZE5vZGVJbmRleCkgewogICAgaWYgKG5lZWRDaGVja2VkTm9kZUluZGV4Lmxlbmd0aCA+IDIpIHsKICAgICAgLy8gdGhyb3cgbmV3IEVycm9yKCJjaGVjayBpbnRlcnNlY3QgZXJyb3IiKTsKICAgICAgY29uc29sZS5sb2coIi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4iKTsKICAgIH0KICAgIGxldCBuZWVkRGVsZXRlTm9kZUluZGV4ID0gW107CiAgICB3aGlsZSAobmVlZENoZWNrZWROb2RlSW5kZXgubGVuZ3RoID4gMCkgewogICAgICBsZXQgbmV4dENoZWNrTm9kZUluZGV4ID0gW107CiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmVlZENoZWNrZWROb2RlSW5kZXgubGVuZ3RoOyBpKyspIHsKICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMubG9hZGVkRGF0YVJhbmdlLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICBpZiAobmVlZENoZWNrZWROb2RlSW5kZXhbaV0gPT09IGopIHsKICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICB9CiAgICAgICAgICBjb25zdCBpbnRlcnNlY3RSZXMgPSBpc0ludGVyc2VjdCh0aGlzLmxvYWRlZERhdGFSYW5nZVtqXSwgdGhpcy5sb2FkZWREYXRhUmFuZ2VbbmVlZENoZWNrZWROb2RlSW5kZXhbaV1dKTsKICAgICAgICAgIGlmIChpbnRlcnNlY3RSZXMuaXNJbnRlcnNlY3QpIHsKICAgICAgICAgICAgaWYgKGogPT09IG5lZWRDaGVja2VkTm9kZUluZGV4W25lZWRDaGVja2VkTm9kZUluZGV4Lmxlbmd0aCAtIDFdKSB7CiAgICAgICAgICAgICAgbmVlZENoZWNrZWROb2RlSW5kZXguc3BsaWNlKG5lZWRDaGVja2VkTm9kZUluZGV4Lmxlbmd0aCAtIDEsIDEpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChpbnRlcnNlY3RSZXMucG9zID09PSAnc2Vjb25kJykgewogICAgICAgICAgICAgIG5lZWREZWxldGVOb2RlSW5kZXgucHVzaChqKTsKICAgICAgICAgICAgICBjb25zdCBsYXN0Tm9kZSA9IHRoaXMuZmlyc3ROb2Rlc1tqXTsKICAgICAgICAgICAgICBjb25zdCBmaXJzdE5vZGUgPSB0aGlzLmZpcnN0Tm9kZXNbbmVlZENoZWNrZWROb2RlSW5kZXhbaV1dOwogICAgICAgICAgICAgIGxldCBwID0gZmlyc3ROb2RlOwogICAgICAgICAgICAgIHdoaWxlIChwLm5leHRTaWJsaW5nKSB7CiAgICAgICAgICAgICAgICBpZiAocC5uZXh0U2libGluZy5pbmRleCA9PT0gbGFzdE5vZGUuaW5kZXgpIHsKICAgICAgICAgICAgICAgICAgcC5uZXh0U2libGluZyA9IGxhc3ROb2RlOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHAgPSBwLm5leHRTaWJsaW5nOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB0aGlzLmxvYWRlZERhdGFSYW5nZVtuZWVkQ2hlY2tlZE5vZGVJbmRleFtpXV1bMF0gPSBNYXRoLm1pbih0aGlzLmxvYWRlZERhdGFSYW5nZVtqXVswXSwgdGhpcy5sb2FkZWREYXRhUmFuZ2VbbmVlZENoZWNrZWROb2RlSW5kZXhbaV1dWzBdKTsKICAgICAgICAgICAgICB0aGlzLmxvYWRlZERhdGFSYW5nZVtuZWVkQ2hlY2tlZE5vZGVJbmRleFtpXV1bMV0gPSBNYXRoLm1heCh0aGlzLmxvYWRlZERhdGFSYW5nZVtqXVsxXSwgdGhpcy5sb2FkZWREYXRhUmFuZ2VbbmVlZENoZWNrZWROb2RlSW5kZXhbaV1dWzFdKTsKICAgICAgICAgICAgICBuZXh0Q2hlY2tOb2RlSW5kZXgucHVzaChuZWVkQ2hlY2tlZE5vZGVJbmRleFtpXSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgbmVlZERlbGV0ZU5vZGVJbmRleC5wdXNoKG5lZWRDaGVja2VkTm9kZUluZGV4W2ldKTsKICAgICAgICAgICAgICBsZXQgcCA9IHRoaXMuZmlyc3ROb2Rlc1tqXTsKICAgICAgICAgICAgICB3aGlsZSAocC5uZXh0U2libGluZykgewogICAgICAgICAgICAgICAgaWYgKHAubmV4dFNpYmxpbmcuaW5kZXggPT09IHRoaXMuZmlyc3ROb2Rlc1tuZWVkQ2hlY2tlZE5vZGVJbmRleFtpXV0uaW5kZXgpIHsKICAgICAgICAgICAgICAgICAgcC5uZXh0U2libGluZyA9IHRoaXMuZmlyc3ROb2Rlc1tuZWVkQ2hlY2tlZE5vZGVJbmRleFtpXV07CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcCA9IHAubmV4dFNpYmxpbmc7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHRoaXMubG9hZGVkRGF0YVJhbmdlW2pdWzBdID0gTWF0aC5taW4odGhpcy5sb2FkZWREYXRhUmFuZ2Vbal1bMF0sIHRoaXMubG9hZGVkRGF0YVJhbmdlW25lZWRDaGVja2VkTm9kZUluZGV4W2ldXVswXSk7CiAgICAgICAgICAgICAgdGhpcy5sb2FkZWREYXRhUmFuZ2Vbal1bMV0gPSBNYXRoLm1heCh0aGlzLmxvYWRlZERhdGFSYW5nZVtqXVsxXSwgdGhpcy5sb2FkZWREYXRhUmFuZ2VbbmVlZENoZWNrZWROb2RlSW5kZXhbaV1dWzFdKTsKICAgICAgICAgICAgICBuZXh0Q2hlY2tOb2RlSW5kZXgucHVzaChqKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY29uc3QgbWluSGVhZCA9IE1hdGgubWluKHRoaXMubG9hZGVkRGF0YVJhbmdlW2pdWzBdLCB0aGlzLmxvYWRlZERhdGFSYW5nZVtuZWVkQ2hlY2tlZE5vZGVJbmRleFtpXV1bMF0pOwogICAgICAgICAgICBpZiAobWluSGVhZCA9PT0gdGhpcy5sb2FkZWREYXRhUmFuZ2Vbal1bMF0gJiYgdGhpcy5sb2FkZWREYXRhUmFuZ2Vbal1bMV0gKyAxID09PSB0aGlzLmxvYWRlZERhdGFSYW5nZVtuZWVkQ2hlY2tlZE5vZGVJbmRleFtpXV1bMF0pIHsKICAgICAgICAgICAgICBuZWVkRGVsZXRlTm9kZUluZGV4LnB1c2gobmVlZENoZWNrZWROb2RlSW5kZXhbaV0pOwogICAgICAgICAgICAgIGxldCBwID0gdGhpcy5maXJzdE5vZGVzW2pdOwogICAgICAgICAgICAgIHdoaWxlIChwLm5leHRTaWJsaW5nKSB7CiAgICAgICAgICAgICAgICBwID0gcC5uZXh0U2libGluZzsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgcC5uZXh0U2libGluZyA9IHRoaXMuZmlyc3ROb2Rlc1tuZWVkQ2hlY2tlZE5vZGVJbmRleFtpXV07CiAgICAgICAgICAgICAgdGhpcy5sb2FkZWREYXRhUmFuZ2Vbal1bMV0gPSB0aGlzLmxvYWRlZERhdGFSYW5nZVtuZWVkQ2hlY2tlZE5vZGVJbmRleFtpXV1bMV07CiAgICAgICAgICAgICAgbmV4dENoZWNrTm9kZUluZGV4LnB1c2goaik7CiAgICAgICAgICAgIH0gZWxzZSBpZiAobWluSGVhZCA9PT0gdGhpcy5sb2FkZWREYXRhUmFuZ2VbbmVlZENoZWNrZWROb2RlSW5kZXhbaV1dWzBdICYmIHRoaXMubG9hZGVkRGF0YVJhbmdlW25lZWRDaGVja2VkTm9kZUluZGV4W2ldXVsxXSArIDEgPT09IHRoaXMubG9hZGVkRGF0YVJhbmdlW2pdWzBdKSB7CiAgICAgICAgICAgICAgbmVlZERlbGV0ZU5vZGVJbmRleC5wdXNoKGopOwogICAgICAgICAgICAgIGxldCBwID0gdGhpcy5maXJzdE5vZGVzW25lZWRDaGVja2VkTm9kZUluZGV4W2ldXTsKICAgICAgICAgICAgICB3aGlsZSAocC5uZXh0U2libGluZykgewogICAgICAgICAgICAgICAgcCA9IHAubmV4dFNpYmxpbmc7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHAubmV4dFNpYmxpbmcgPSB0aGlzLmZpcnN0Tm9kZXNbal07CiAgICAgICAgICAgICAgdGhpcy5sb2FkZWREYXRhUmFuZ2VbbmVlZENoZWNrZWROb2RlSW5kZXhbaV1dWzFdID0gdGhpcy5sb2FkZWREYXRhUmFuZ2Vbal1bMV07CiAgICAgICAgICAgICAgbmV4dENoZWNrTm9kZUluZGV4LnB1c2gobmVlZENoZWNrZWROb2RlSW5kZXhbaV0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmVlZERlbGV0ZU5vZGVJbmRleC5sZW5ndGg7IGkrKykgewogICAgICAgIGNvbnN0IGlkeCA9IG5lZWREZWxldGVOb2RlSW5kZXhbaV07CiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBuZXh0Q2hlY2tOb2RlSW5kZXgubGVuZ3RoOyBqKyspIHsKICAgICAgICAgIGlmIChuZXh0Q2hlY2tOb2RlSW5kZXhbal0gPiBpZHgpIHsKICAgICAgICAgICAgbmV4dENoZWNrTm9kZUluZGV4W2pdLS07CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHRoaXMubG9hZGVkRGF0YVJhbmdlLnNwbGljZShpZHgsIDEpOwogICAgICAgIHRoaXMuZmlyc3ROb2Rlcy5zcGxpY2UoaWR4LCAxKTsKICAgICAgfQogICAgICBuZWVkRGVsZXRlTm9kZUluZGV4ID0gW107CiAgICAgIG5lZWRDaGVja2VkTm9kZUluZGV4ID0gbmV4dENoZWNrTm9kZUluZGV4OwogICAgICBuZXh0Q2hlY2tOb2RlSW5kZXggPSBbXTsKICAgIH0KICB9CiAgc2VsZkNoZWNrKCkgewogICAgaWYgKHRoaXMubG9hZGVkRGF0YVJhbmdlLmxlbmd0aCAhPSB0aGlzLmZpcnN0Tm9kZXMubGVuZ3RoKSB7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMpOwogICAgICB0aHJvdyBuZXcgRXJyb3IoImxvYWRlZERhdGFSYW5nZSBsZW4gbm90IG1hdGNoIGZpcnRub2RlcyIpOwogICAgfQogICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxvYWRlZERhdGFSYW5nZS5sZW5ndGg7IGkrKykgewogICAgICBpZiAodGhpcy5sb2FkZWREYXRhUmFuZ2VbaV1bMF0gIT09IHRoaXMuZmlyc3ROb2Rlc1tpXS5pbmRleCkgewogICAgICAgIGNvbnNvbGUubG9nKHRoaXMpOwogICAgICAgIHRocm93IG5ldyBFcnJvcigicmFuZ2Ugbm90IG1hdGNoIG5vZGUgaW5kZXgiKTsKICAgICAgfQogICAgfQogICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxvYWRlZERhdGFSYW5nZS5sZW5ndGg7IGkrKykgewogICAgICBsZXQgcCA9IHRoaXMuZmlyc3ROb2Rlc1tpXTsKICAgICAgbGV0IGluZGV4ID0gdGhpcy5sb2FkZWREYXRhUmFuZ2VbaV1bMF07CiAgICAgIHdoaWxlIChwICYmIGluZGV4IDw9IHRoaXMubG9hZGVkRGF0YVJhbmdlW2ldWzFdKSB7CiAgICAgICAgaWYgKHAuaW5kZXggPT09IGluZGV4KSB7CiAgICAgICAgICBwID0gcC5uZXh0U2libGluZzsKICAgICAgICAgIGluZGV4Kys7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMpOwogICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJyYW5nZSBub3QgbWF0Y2ggbm9kZSBpbmRleCIpOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KfQ=="},{"version":3,"names":["computeNeedLoadDataRange","isIntersect","HaarIndexObj","constructor","level","isFull","loadedDataRange","firstNodes","isSelfCheck","addLoadedDataRange","firstNode","range","length","push","loadedDataRangeLen","isMerge","needCheckIndex","i","intersectRes","pos","lastNode","p","nextSibling","index","Math","min","max","minHead","console","log","Error","selfCheck","a","tempIndexs","map","v","reCheckIntersect","getDataByIndex","start","end","data","value","l","hasDataForRange","has","needDataRange","getTreeNodeStartIndex","root","needCheckedNodeIndex","needDeleteNodeIndex","nextCheckNodeIndex","j","splice","idx"],"sources":["/Users/apple/Desktop/om3-extend/om3-client/node_modules/eslint-loader/index.js??ref--14-0!/Users/apple/Desktop/om3-extend/om3-client/src/model/haar-index-obj.ts"],"sourcesContent":["import HaarTree from \"@/helper/haar-tree\"\nimport { checkSetType, computeNeedLoadDataRange, isIntersect } from \"../helper/util\"\nexport default class HaarIndexObj {\n    level: number;\n    isFull: boolean;\n    loadedDataRange: Array<Array<number>>;\n    firstNodes: Array<HaarTree>;\n    isSelfCheck: boolean;\n    constructor(level: number, isFull = false) {\n        this.level = level;\n        this.isFull = isFull;\n        this.loadedDataRange = [];\n        this.firstNodes = [];\n        this.isSelfCheck = false;\n    }\n\n    addLoadedDataRange(firstNode: HaarTree, range: Array<number>) {\n        if (this.loadedDataRange.length === 0) {\n            this.loadedDataRange.push(range);\n            this.firstNodes.push(firstNode);\n            return\n        }\n        const loadedDataRangeLen = this.loadedDataRange.length;\n        let isMerge = false;\n        const needCheckIndex = [];\n        for (let i = 0; i < loadedDataRangeLen; i++) {\n            const intersectRes = isIntersect(this.loadedDataRange[i], range);\n            if (intersectRes.isIntersect) {\n                isMerge = true;\n                if (intersectRes.pos === 'second') {\n                    const lastNode = this.firstNodes[i];\n                    this.firstNodes[i] = firstNode;\n                    let p = firstNode;\n\n                    while (p.nextSibling) {\n                        if (p.nextSibling.index === lastNode.index) {\n                            p.nextSibling = lastNode;\n                            break;\n                        }\n                        p = p.nextSibling;\n                    }\n                } else {\n                    let p = this.firstNodes[i];\n                    while (p.nextSibling) {\n                        if (p.nextSibling.index === firstNode.index) {\n                            p.nextSibling = firstNode;\n                            break;\n                        }\n                        p = p.nextSibling;\n                    }\n                }\n                needCheckIndex.push(i);\n                this.loadedDataRange[i][0] = Math.min(this.loadedDataRange[i][0], range[0]);\n                this.loadedDataRange[i][1] = Math.max(this.loadedDataRange[i][1], range[1]);\n                //break\n            } else {\n                const minHead = Math.min(this.loadedDataRange[i][0], range[0]);\n                if (minHead === this.loadedDataRange[i][0] && (this.loadedDataRange[i][1] + 1 === range[0])) {\n                    isMerge = true;\n                    let p = this.firstNodes[i];\n                    while (p.nextSibling) {\n                        p = p.nextSibling;\n                    }\n                    if (p.index !== firstNode.index - 1) {\n                        console.log(p, firstNode);\n                        debugger\n                        throw new Error(\"index error\")\n                    }\n                    p.nextSibling = firstNode;\n\n                    this.loadedDataRange[i][1] = range[1];\n                    needCheckIndex.push(i);\n                    //break\n                } else if (minHead === range[0] && (range[1] + 1 === this.loadedDataRange[i][0])) {\n                    isMerge = true;\n                    let p = firstNode;\n                    while (p.nextSibling) {\n                        p = p.nextSibling;\n                    }\n                    p.nextSibling = this.firstNodes[i];\n                    this.firstNodes[i] = firstNode;\n                    this.loadedDataRange[i][0] = range[0];\n                    needCheckIndex.push(i);\n                    //break\n                }\n            }\n        }\n        if (this.isSelfCheck) {\n            this.selfCheck()\n        }\n        let a=false;\n        let tempIndexs=[]\n        if(needCheckIndex.length>2){\n          tempIndexs=  needCheckIndex.map(v=>{\n                return v\n            })\n            a=true\n            //debugger\n        }\n        if (needCheckIndex.length > 0) {\n            this.reCheckIntersect(needCheckIndex);\n        }\n        if(a){\n            debugger\n        }\n        if (this.isSelfCheck) {\n            this.selfCheck()\n        }\n        if (!isMerge) {\n            this.loadedDataRange.push(range);\n            this.firstNodes.push(firstNode);\n        }\n        if (this.firstNodes.length === 1 && (this.loadedDataRange[0][1] - this.loadedDataRange[0][0] + 1) === 2 ** this.level) {\n            this.isFull = true;\n        }\n    }\n\n\n    getDataByIndex(start: number, end: number) {\n        const data:Array<number> = [];\n        for (let i = 0; i < this.firstNodes.length; i++) {\n            if (this.loadedDataRange[i][0] <= start && this.loadedDataRange[i][1] >= end) {\n                let p = this.firstNodes[i];\n                while (p) {\n                    if (p.index >= start && p.index <= end) {\n                        data.push(p.value);\n                    }\n                    if (p.index > end) {\n                        break;\n                    }\n                    //@ts-ignore\n                    p = p.nextSibling;\n                }\n            }\n        }\n        return {data,start,end,l:this.level};\n    }\n    hasDataForRange(start: number, end: number) {\n        if (this.isFull) {\n            return {\n                has: true,\n                range: [],\n            }\n        }\n        const needDataRange = computeNeedLoadDataRange([start, end], this.loadedDataRange);\n        if (needDataRange.length === 0) {\n            return {\n                has: true,\n                range: [],\n            }\n        } else {\n            return {\n                has: false,\n                range: needDataRange\n            }\n        }\n    }\n    // fillLevel(){\n    //     const needDataRes=this.hasDataForRange(0,2**this.level);\n    //     if(needDataRes.has){\n    //         return\n    //     }\n\n    // }\n    getTreeNodeStartIndex(start: number) {\n        for (let i = 0; i < this.firstNodes.length; i++) {\n            if (this.loadedDataRange[i][0] <= start && this.loadedDataRange[i][1] >= start) {\n                let root = this.firstNodes[i];\n                while (root) {\n\n                    if (root.index === start) {\n                        return root\n                    }\n                    //@ts-ignore\n                    root = root.nextSibling;\n                }\n            }\n        }\n        return null;\n    }\n\n    reCheckIntersect(needCheckedNodeIndex: Array<number>) {\n        if (needCheckedNodeIndex.length > 2) {\n           // throw new Error(\"check intersect error\");\n           console.log(\"..................................\");\n        }\n        let needDeleteNodeIndex = [];\n        while (needCheckedNodeIndex.length > 0) {\n            let nextCheckNodeIndex = [];\n            for (let i = 0; i < needCheckedNodeIndex.length; i++) {\n                for (let j = 0; j < this.loadedDataRange.length; j++) {\n                    if (needCheckedNodeIndex[i] === j) {\n                        continue;\n                    }\n                    const intersectRes = isIntersect(this.loadedDataRange[j], this.loadedDataRange[needCheckedNodeIndex[i]]);\n                    if (intersectRes.isIntersect) {\n                        if (j === needCheckedNodeIndex[needCheckedNodeIndex.length - 1]) {\n                            needCheckedNodeIndex.splice(needCheckedNodeIndex.length - 1, 1);\n                        }\n                        if (intersectRes.pos === 'second') {\n\n                            needDeleteNodeIndex.push(j);\n\n                            const lastNode = this.firstNodes[j];\n                            const firstNode = this.firstNodes[needCheckedNodeIndex[i]];\n                            let p = firstNode;\n\n                            while (p.nextSibling) {\n                                if (p.nextSibling.index === lastNode.index) {\n                                    p.nextSibling = lastNode;\n                                    break;\n                                }\n                                p = p.nextSibling;\n                            }\n\n                            this.loadedDataRange[needCheckedNodeIndex[i]][0] = Math.min(this.loadedDataRange[j][0], this.loadedDataRange[needCheckedNodeIndex[i]][0]);\n                            this.loadedDataRange[needCheckedNodeIndex[i]][1] = Math.max(this.loadedDataRange[j][1], this.loadedDataRange[needCheckedNodeIndex[i]][1]);\n                            nextCheckNodeIndex.push(needCheckedNodeIndex[i]);\n                        } else {\n\n                            needDeleteNodeIndex.push(needCheckedNodeIndex[i]);\n\n                            let p = this.firstNodes[j];\n                            while (p.nextSibling) {\n                                if (p.nextSibling.index === this.firstNodes[needCheckedNodeIndex[i]].index) {\n                                    p.nextSibling = this.firstNodes[needCheckedNodeIndex[i]];\n                                    break;\n                                }\n                                p = p.nextSibling;\n                            }\n                            this.loadedDataRange[j][0] = Math.min(this.loadedDataRange[j][0], this.loadedDataRange[needCheckedNodeIndex[i]][0]);\n                            this.loadedDataRange[j][1] = Math.max(this.loadedDataRange[j][1], this.loadedDataRange[needCheckedNodeIndex[i]][1]);\n                            nextCheckNodeIndex.push(j);\n                        }\n                    } else {\n\n                        const minHead = Math.min(this.loadedDataRange[j][0], this.loadedDataRange[needCheckedNodeIndex[i]][0]);\n                        if (minHead === this.loadedDataRange[j][0] && (this.loadedDataRange[j][1] + 1 === this.loadedDataRange[needCheckedNodeIndex[i]][0])) {\n                            needDeleteNodeIndex.push(needCheckedNodeIndex[i])\n                            let p = this.firstNodes[j];\n                            while (p.nextSibling) {\n                                p = p.nextSibling;\n                            }\n                            p.nextSibling = this.firstNodes[needCheckedNodeIndex[i]];\n\n                            this.loadedDataRange[j][1] = this.loadedDataRange[needCheckedNodeIndex[i]][1];\n                            nextCheckNodeIndex.push(j)\n                        } else if (minHead === this.loadedDataRange[needCheckedNodeIndex[i]][0] && (this.loadedDataRange[needCheckedNodeIndex[i]][1] + 1 === this.loadedDataRange[j][0])) {\n                            needDeleteNodeIndex.push(j);\n                            let p = this.firstNodes[needCheckedNodeIndex[i]];\n                            while (p.nextSibling) {\n                                p = p.nextSibling;\n                            }\n                            p.nextSibling = this.firstNodes[j];\n\n                            this.loadedDataRange[needCheckedNodeIndex[i]][1] = this.loadedDataRange[j][1];\n                            nextCheckNodeIndex.push(needCheckedNodeIndex[i]);\n                        }\n\n                    }\n\n\n                }\n            }\n            for (let i = 0; i < needDeleteNodeIndex.length; i++) {\n                const idx = needDeleteNodeIndex[i];\n                for (let j = 0; j < nextCheckNodeIndex.length; j++) {\n                    if (nextCheckNodeIndex[j] > idx) {\n                        nextCheckNodeIndex[j]--;\n                    }\n                }\n                this.loadedDataRange.splice(idx, 1);\n                this.firstNodes.splice(idx, 1);\n            }\n            needDeleteNodeIndex = [];\n            needCheckedNodeIndex = nextCheckNodeIndex;\n            nextCheckNodeIndex = [];\n        }\n    }\n\n    selfCheck() {\n        if (this.loadedDataRange.length != this.firstNodes.length) {\n            console.log(this);\n            throw new Error(\"loadedDataRange len not match firtnodes\")\n        }\n        for (let i = 0; i < this.loadedDataRange.length; i++) {\n            if (this.loadedDataRange[i][0] !== this.firstNodes[i].index) {\n                console.log(this);\n                throw new Error(\"range not match node index\");\n            }\n        }\n        for (let i = 0; i < this.loadedDataRange.length; i++) {\n            let p = this.firstNodes[i];\n            let index = this.loadedDataRange[i][0];\n            while (p && index <= this.loadedDataRange[i][1]) {\n                if (p.index === index) {\n                    p = p.nextSibling!;\n                    index++;\n                } else {\n                    console.log(this);\n                    throw new Error(\"range not match node index\");\n                }\n            }\n        }\n    }\n\n    // timeBoxQuery(checkRange: Array<number>, minMax: Array<number>) {\n    //     for (let i = 0; i < this.loadedDataRange.length; i++) {\n    //         if (this.loadedDataRange[i][0] <= checkRange[0] && this.loadedDataRange[i][1] >= checkRange[1]) {\n    //             let p = this.firstNodes[i];\n    //             let hasType3 = false;\n    //             while (p && p.index <= checkRange[1]) {\n    //                 if (p.index >= checkRange[0]) {\n    //                     const type = checkSetType(minMax, [p.yArray[1], p.yArray[2]])\n    //                     if (type === 3) {\n    //                         hasType3 = true;\n    //                     }\n    //                     if (type === 2) {\n    //                         return 2\n    //                     }\n    //                 }\n    //                 p = p.nextSibling as HaarTree;\n    //             }\n    //             if (hasType3) {\n    //                 return 3;\n    //             } else {\n    //                 return 1;\n    //             }\n    //         }\n    //     }\n    //     throw new Error(\"error\");\n    // }\n}"],"mappings":"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","ignoreList":[]}]}