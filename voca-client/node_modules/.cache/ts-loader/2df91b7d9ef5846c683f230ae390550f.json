{"remainingRequest":"/Users/bao/Downloads/om3-extend/om3-client/node_modules/babel-loader/lib/index.js!/Users/bao/Downloads/om3-extend/om3-client/node_modules/ts-loader/index.js??ref--15-2!/Users/bao/Downloads/om3-extend/om3-client/node_modules/eslint-loader/index.js??ref--14-0!/Users/bao/Downloads/om3-extend/om3-client/src/model/level-index-obj.ts","dependencies":[{"path":"/Users/bao/Downloads/om3-extend/om3-client/src/model/level-index-obj.ts","mtime":1732546288000},{"path":"/Users/bao/Downloads/om3-extend/om3-client/babel.config.js","mtime":1732546288000},{"path":"/Users/bao/Downloads/om3-extend/om3-client/node_modules/cache-loader/dist/cjs.js","mtime":1732627998000},{"path":"/Users/bao/Downloads/om3-extend/om3-client/node_modules/babel-loader/lib/index.js","mtime":1732627998000},{"path":"/Users/bao/Downloads/om3-extend/om3-client/node_modules/ts-loader/index.js","mtime":1732627997000},{"path":"/Users/bao/Downloads/om3-extend/om3-client/node_modules/eslint-loader/index.js","mtime":1732627997000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5wdXNoLmpzIjsKaW1wb3J0IHsgY2hlY2tTZXRUeXBlLCBjb21wdXRlTmVlZExvYWREYXRhUmFuZ2UsIGlzSW50ZXJzZWN0IH0gZnJvbSAiLi4vaGVscGVyL3V0aWwiOwpleHBvcnQgZGVmYXVsdCBjbGFzcyBMZXZlbEluZGV4T2JqIHsKICBjb25zdHJ1Y3RvcihsZXZlbCwgaXNGdWxsID0gZmFsc2UpIHsKICAgIHRoaXMubGV2ZWwgPSBsZXZlbDsKICAgIHRoaXMuaXNGdWxsID0gaXNGdWxsOwogICAgdGhpcy5sb2FkZWREYXRhUmFuZ2UgPSBbXTsKICAgIHRoaXMuZmlyc3ROb2RlcyA9IFtdOwogICAgdGhpcy5pc1NlbGZDaGVjayA9IGZhbHNlOwogIH0KICBkZWxldGVMb2FkZWREYXRhUmFuZ2Uobm9kZSkgewogICAgaWYgKHRoaXMuaXNGdWxsKSB7CiAgICAgIHRoaXMuaXNGdWxsID0gZmFsc2U7CiAgICB9CiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubG9hZGVkRGF0YVJhbmdlLmxlbmd0aDsgaSsrKSB7CiAgICAgIGlmICh0aGlzLmxvYWRlZERhdGFSYW5nZVtpXVswXSA8PSBub2RlLmluZGV4ICYmIHRoaXMubG9hZGVkRGF0YVJhbmdlW2ldWzFdID49IG5vZGUuaW5kZXgpIHsKICAgICAgICBpZiAodGhpcy5sb2FkZWREYXRhUmFuZ2VbaV1bMF0gPT09IHRoaXMubG9hZGVkRGF0YVJhbmdlW2ldWzFdKSB7CiAgICAgICAgICB0aGlzLmxvYWRlZERhdGFSYW5nZS5zcGxpY2UoaSwgMSk7CiAgICAgICAgICB0aGlzLmZpcnN0Tm9kZXMuc3BsaWNlKGksIDEpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICAgIGlmICh0aGlzLmxvYWRlZERhdGFSYW5nZVtpXVswXSA9PT0gbm9kZS5pbmRleCkgewogICAgICAgICAgdGhpcy5sb2FkZWREYXRhUmFuZ2VbaV1bMF0gKz0gMTsKICAgICAgICAgIC8vQHRzLWlnbm9yZQogICAgICAgICAgbm9kZS5uZXh0U2libGluZy5wcmV2aW91c1NpYmxpbmcgPSBudWxsOwogICAgICAgICAgaWYgKG5vZGUubmV4dFNpYmxpbmcgPT0gbnVsbCkgewogICAgICAgICAgICBkZWJ1Z2dlcjsKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMuZmlyc3ROb2Rlc1tpXSA9IG5vZGUubmV4dFNpYmxpbmc7CiAgICAgICAgICAvL3RoaXMuZmlyc3ROb2Rlc1tpXS5uZXh0U2libGluZy5wcmV2aW91c1NpYmxpbmcgPSBudWxsCiAgICAgICAgICB0aGlzLmZpcnN0Tm9kZXNbaV0gPSBub2RlLm5leHRTaWJsaW5nOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICAgIGlmICh0aGlzLmxvYWRlZERhdGFSYW5nZVtpXVsxXSA9PT0gbm9kZS5pbmRleCkgewogICAgICAgICAgdGhpcy5sb2FkZWREYXRhUmFuZ2VbaV1bMV0gLT0gMTsKICAgICAgICAgIGlmIChub2RlLnByZXZpb3VzU2libGluZyAhPSBudWxsKSB7CiAgICAgICAgICAgIG5vZGUucHJldmlvdXNTaWJsaW5nLm5leHRTaWJsaW5nID0gbnVsbDsKICAgICAgICAgIH0KICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgICB0aGlzLmZpcnN0Tm9kZXMuc3BsaWNlKGkgKyAxLCAwLCBub2RlLm5leHRTaWJsaW5nKTsKICAgICAgICAvL0B0cy1pZ25vcmUKICAgICAgICBub2RlLnByZXZpb3VzU2libGluZy5uZXh0U2libGluZyA9IG51bGw7CiAgICAgICAgdGhpcy5sb2FkZWREYXRhUmFuZ2Uuc3BsaWNlKGkgKyAxLCAwLCBbbm9kZS5pbmRleCArIDEsIHRoaXMubG9hZGVkRGF0YVJhbmdlW2ldWzFdXSk7CiAgICAgICAgdGhpcy5sb2FkZWREYXRhUmFuZ2VbaV1bMV0gPSBub2RlLmluZGV4IC0gMTsKICAgICAgICBicmVhazsKICAgICAgfQogICAgfQogIH0KICBhZGRMb2FkZWREYXRhUmFuZ2UoZmlyc3ROb2RlLCByYW5nZSkgewogICAgaWYgKHRoaXMubG9hZGVkRGF0YVJhbmdlLmxlbmd0aCA9PT0gMCkgewogICAgICB0aGlzLmxvYWRlZERhdGFSYW5nZS5wdXNoKHJhbmdlKTsKICAgICAgdGhpcy5maXJzdE5vZGVzLnB1c2goZmlyc3ROb2RlKTsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbG9hZGVkRGF0YVJhbmdlTGVuID0gdGhpcy5sb2FkZWREYXRhUmFuZ2UubGVuZ3RoOwogICAgbGV0IGlzTWVyZ2UgPSBmYWxzZTsKICAgIGNvbnN0IG5lZWRDaGVja0luZGV4ID0gW107CiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxvYWRlZERhdGFSYW5nZUxlbjsgaSsrKSB7CiAgICAgIGNvbnN0IG1pbkhlYWQgPSBNYXRoLm1pbih0aGlzLmxvYWRlZERhdGFSYW5nZVtpXVswXSwgcmFuZ2VbMF0pOwogICAgICBpZiAobWluSGVhZCA9PT0gdGhpcy5sb2FkZWREYXRhUmFuZ2VbaV1bMF0gJiYgdGhpcy5sb2FkZWREYXRhUmFuZ2VbaV1bMV0gKyAxID09PSByYW5nZVswXSkgewogICAgICAgIGlzTWVyZ2UgPSB0cnVlOwogICAgICAgIGxldCBwID0gdGhpcy5maXJzdE5vZGVzW2ldOwogICAgICAgIHdoaWxlIChwLm5leHRTaWJsaW5nKSB7CiAgICAgICAgICBwID0gcC5uZXh0U2libGluZzsKICAgICAgICB9CiAgICAgICAgaWYgKHAuaW5kZXggIT09IGZpcnN0Tm9kZS5pbmRleCAtIDEpIHsKICAgICAgICAgIGRlYnVnZ2VyOwogICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJpbmRleCBlcnJvciIpOwogICAgICAgIH0KICAgICAgICBwLm5leHRTaWJsaW5nID0gZmlyc3ROb2RlOwogICAgICAgIHRoaXMubG9hZGVkRGF0YVJhbmdlW2ldWzFdID0gcmFuZ2VbMV07CiAgICAgICAgaWYgKGkgPCBsb2FkZWREYXRhUmFuZ2VMZW4gLSAxKSB7CiAgICAgICAgICBpZiAocmFuZ2VbMV0gKyAxID09PSB0aGlzLmxvYWRlZERhdGFSYW5nZVtpICsgMV1bMF0pIHsKICAgICAgICAgICAgdGhpcy5sb2FkZWREYXRhUmFuZ2VbaV1bMV0gPSB0aGlzLmxvYWRlZERhdGFSYW5nZVtpICsgMV1bMV07CiAgICAgICAgICAgIGxldCBtID0gZmlyc3ROb2RlOwogICAgICAgICAgICB3aGlsZSAobS5uZXh0U2libGluZykgewogICAgICAgICAgICAgIG0gPSBtLm5leHRTaWJsaW5nOwogICAgICAgICAgICB9CiAgICAgICAgICAgIG0ubmV4dFNpYmxpbmcgPSB0aGlzLmZpcnN0Tm9kZXNbaSArIDFdOwogICAgICAgICAgICB0aGlzLmZpcnN0Tm9kZXMuc3BsaWNlKGkgKyAxLCAxKTsKICAgICAgICAgICAgdGhpcy5sb2FkZWREYXRhUmFuZ2Uuc3BsaWNlKGkgKyAxLCAxKTsKICAgICAgICAgIH0gZWxzZSBpZiAocmFuZ2VbMV0gPj0gdGhpcy5sb2FkZWREYXRhUmFuZ2VbaSArIDFdWzBdKSB7CiAgICAgICAgICAgIGRlYnVnZ2VyOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgfSBlbHNlIGlmIChtaW5IZWFkID09PSByYW5nZVswXSAmJiByYW5nZVsxXSArIDEgPT09IHRoaXMubG9hZGVkRGF0YVJhbmdlW2ldWzBdKSB7CiAgICAgICAgaXNNZXJnZSA9IHRydWU7CiAgICAgICAgbGV0IHAgPSBmaXJzdE5vZGU7CiAgICAgICAgd2hpbGUgKHAubmV4dFNpYmxpbmcpIHsKICAgICAgICAgIHAgPSBwLm5leHRTaWJsaW5nOwogICAgICAgIH0KICAgICAgICBwLm5leHRTaWJsaW5nID0gdGhpcy5maXJzdE5vZGVzW2ldOwogICAgICAgIHRoaXMuZmlyc3ROb2Rlc1tpXSA9IGZpcnN0Tm9kZTsKICAgICAgICB0aGlzLmxvYWRlZERhdGFSYW5nZVtpXVswXSA9IHJhbmdlWzBdOwogICAgICAgIGJyZWFrOwogICAgICB9IGVsc2UgewogICAgICAgIGlmIChpID09PSAwICYmIHJhbmdlWzFdIDwgdGhpcy5sb2FkZWREYXRhUmFuZ2VbaV1bMF0gLSAxKSB7CiAgICAgICAgICB0aGlzLmxvYWRlZERhdGFSYW5nZS51bnNoaWZ0KFtyYW5nZVswXSwgcmFuZ2VbMV1dKTsKICAgICAgICAgIHRoaXMuZmlyc3ROb2Rlcy51bnNoaWZ0KGZpcnN0Tm9kZSk7CiAgICAgICAgICBicmVhazsKICAgICAgICB9IGVsc2UgaWYgKGkgPT09IGxvYWRlZERhdGFSYW5nZUxlbiAtIDEgJiYgcmFuZ2VbMF0gPiB0aGlzLmxvYWRlZERhdGFSYW5nZVtpXVsxXSArIDEpIHsKICAgICAgICAgIHRoaXMubG9hZGVkRGF0YVJhbmdlLnB1c2goW3JhbmdlWzBdLCByYW5nZVsxXV0pOwogICAgICAgICAgdGhpcy5maXJzdE5vZGVzLnB1c2goZmlyc3ROb2RlKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpZiAocmFuZ2VbMF0gPiB0aGlzLmxvYWRlZERhdGFSYW5nZVtpXVsxXSArIDEgJiYgcmFuZ2VbMV0gPCB0aGlzLmxvYWRlZERhdGFSYW5nZVtpICsgMV1bMF0gLSAxKSB7CiAgICAgICAgICAgIHRoaXMubG9hZGVkRGF0YVJhbmdlLnNwbGljZShpICsgMSwgMCwgW3JhbmdlWzBdLCByYW5nZVsxXV0pOwogICAgICAgICAgICB0aGlzLmZpcnN0Tm9kZXMuc3BsaWNlKGkgKyAxLCAwLCBmaXJzdE5vZGUpOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIGlmICh0aGlzLmZpcnN0Tm9kZXMubGVuZ3RoID09PSAxICYmIHRoaXMubG9hZGVkRGF0YVJhbmdlWzBdWzFdIC0gdGhpcy5sb2FkZWREYXRhUmFuZ2VbMF1bMF0gKyAxID09PSAyICoqIHRoaXMubGV2ZWwpIHsKICAgICAgdGhpcy5pc0Z1bGwgPSB0cnVlOwogICAgfQogIH0KICBnZXREYXRhQnlJbmRleChzdGFydCwgZW5kKSB7CiAgICBjb25zdCBkYXRhID0gW107CiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZmlyc3ROb2Rlcy5sZW5ndGg7IGkrKykgewogICAgICBpZiAodGhpcy5sb2FkZWREYXRhUmFuZ2VbaV1bMF0gPD0gc3RhcnQgJiYgdGhpcy5sb2FkZWREYXRhUmFuZ2VbaV1bMV0gPj0gZW5kKSB7CiAgICAgICAgbGV0IHAgPSB0aGlzLmZpcnN0Tm9kZXNbaV07CiAgICAgICAgd2hpbGUgKHApIHsKICAgICAgICAgIGlmIChwLmluZGV4ID49IHN0YXJ0ICYmIHAuaW5kZXggPD0gZW5kKSB7CiAgICAgICAgICAgIGRhdGEucHVzaChwLnlBcnJheSk7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAocC5pbmRleCA+IGVuZCkgewogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICAgIC8vQHRzLWlnbm9yZQogICAgICAgICAgcCA9IHAubmV4dFNpYmxpbmc7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICByZXR1cm4gewogICAgICBkYXRhLAogICAgICBzdGFydCwKICAgICAgZW5kLAogICAgICBsOiB0aGlzLmxldmVsCiAgICB9OwogIH0KICBoYXNEYXRhRm9yUmFuZ2Uoc3RhcnQsIGVuZCkgewogICAgaWYgKHRoaXMuaXNGdWxsKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgaGFzOiB0cnVlLAogICAgICAgIHJhbmdlOiBbXQogICAgICB9OwogICAgfQogICAgY29uc3QgbmVlZERhdGFSYW5nZSA9IGNvbXB1dGVOZWVkTG9hZERhdGFSYW5nZShbc3RhcnQsIGVuZF0sIHRoaXMubG9hZGVkRGF0YVJhbmdlKTsKICAgIGlmIChuZWVkRGF0YVJhbmdlLmxlbmd0aCA9PT0gMCkgewogICAgICByZXR1cm4gewogICAgICAgIGhhczogdHJ1ZSwKICAgICAgICByYW5nZTogW10KICAgICAgfTsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgaGFzOiBmYWxzZSwKICAgICAgICByYW5nZTogbmVlZERhdGFSYW5nZQogICAgICB9OwogICAgfQogIH0KICAvLyBmaWxsTGV2ZWwoKXsKICAvLyAgICAgY29uc3QgbmVlZERhdGFSZXM9dGhpcy5oYXNEYXRhRm9yUmFuZ2UoMCwyKip0aGlzLmxldmVsKTsKICAvLyAgICAgaWYobmVlZERhdGFSZXMuaGFzKXsKICAvLyAgICAgICAgIHJldHVybgogIC8vICAgICB9CiAgLy8gfQogIGdldFRyZWVOb2RlU3RhcnRJbmRleChzdGFydCkgewogICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmZpcnN0Tm9kZXMubGVuZ3RoOyBpKyspIHsKICAgICAgaWYgKHRoaXMubG9hZGVkRGF0YVJhbmdlW2ldWzBdIDw9IHN0YXJ0ICYmIHRoaXMubG9hZGVkRGF0YVJhbmdlW2ldWzFdID49IHN0YXJ0KSB7CiAgICAgICAgbGV0IHJvb3QgPSB0aGlzLmZpcnN0Tm9kZXNbaV07CiAgICAgICAgd2hpbGUgKHJvb3QpIHsKICAgICAgICAgIGlmIChyb290LmluZGV4ID09PSBzdGFydCkgewogICAgICAgICAgICByZXR1cm4gcm9vdDsKICAgICAgICAgIH0KICAgICAgICAgIC8vQHRzLWlnbm9yZQogICAgICAgICAgcm9vdCA9IHJvb3QubmV4dFNpYmxpbmc7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICByZXR1cm4gbnVsbDsKICB9CiAgcmVDaGVja0ludGVyc2VjdChuZWVkQ2hlY2tlZE5vZGVJbmRleCkgewogICAgaWYgKG5lZWRDaGVja2VkTm9kZUluZGV4Lmxlbmd0aCA+IDIpIHsKICAgICAgLy8gdGhyb3cgbmV3IEVycm9yKCJjaGVjayBpbnRlcnNlY3QgZXJyb3IiKTsKICAgICAgY29uc29sZS5sb2coIi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4iKTsKICAgIH0KICAgIGxldCBuZWVkRGVsZXRlTm9kZUluZGV4ID0gW107CiAgICB3aGlsZSAobmVlZENoZWNrZWROb2RlSW5kZXgubGVuZ3RoID4gMCkgewogICAgICBsZXQgbmV4dENoZWNrTm9kZUluZGV4ID0gW107CiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmVlZENoZWNrZWROb2RlSW5kZXgubGVuZ3RoOyBpKyspIHsKICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMubG9hZGVkRGF0YVJhbmdlLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICBpZiAobmVlZENoZWNrZWROb2RlSW5kZXhbaV0gPT09IGopIHsKICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICB9CiAgICAgICAgICBjb25zdCBpbnRlcnNlY3RSZXMgPSBpc0ludGVyc2VjdCh0aGlzLmxvYWRlZERhdGFSYW5nZVtqXSwgdGhpcy5sb2FkZWREYXRhUmFuZ2VbbmVlZENoZWNrZWROb2RlSW5kZXhbaV1dKTsKICAgICAgICAgIGlmIChpbnRlcnNlY3RSZXMuaXNJbnRlcnNlY3QpIHsKICAgICAgICAgICAgaWYgKGogPT09IG5lZWRDaGVja2VkTm9kZUluZGV4W25lZWRDaGVja2VkTm9kZUluZGV4Lmxlbmd0aCAtIDFdKSB7CiAgICAgICAgICAgICAgbmVlZENoZWNrZWROb2RlSW5kZXguc3BsaWNlKG5lZWRDaGVja2VkTm9kZUluZGV4Lmxlbmd0aCAtIDEsIDEpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChpbnRlcnNlY3RSZXMucG9zID09PSAnc2Vjb25kJykgewogICAgICAgICAgICAgIG5lZWREZWxldGVOb2RlSW5kZXgucHVzaChqKTsKICAgICAgICAgICAgICBjb25zdCBsYXN0Tm9kZSA9IHRoaXMuZmlyc3ROb2Rlc1tqXTsKICAgICAgICAgICAgICBjb25zdCBmaXJzdE5vZGUgPSB0aGlzLmZpcnN0Tm9kZXNbbmVlZENoZWNrZWROb2RlSW5kZXhbaV1dOwogICAgICAgICAgICAgIGxldCBwID0gZmlyc3ROb2RlOwogICAgICAgICAgICAgIHdoaWxlIChwLm5leHRTaWJsaW5nKSB7CiAgICAgICAgICAgICAgICBpZiAocC5uZXh0U2libGluZy5pbmRleCA9PT0gbGFzdE5vZGUuaW5kZXgpIHsKICAgICAgICAgICAgICAgICAgcC5uZXh0U2libGluZyA9IGxhc3ROb2RlOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHAgPSBwLm5leHRTaWJsaW5nOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB0aGlzLmxvYWRlZERhdGFSYW5nZVtuZWVkQ2hlY2tlZE5vZGVJbmRleFtpXV1bMF0gPSBNYXRoLm1pbih0aGlzLmxvYWRlZERhdGFSYW5nZVtqXVswXSwgdGhpcy5sb2FkZWREYXRhUmFuZ2VbbmVlZENoZWNrZWROb2RlSW5kZXhbaV1dWzBdKTsKICAgICAgICAgICAgICB0aGlzLmxvYWRlZERhdGFSYW5nZVtuZWVkQ2hlY2tlZE5vZGVJbmRleFtpXV1bMV0gPSBNYXRoLm1heCh0aGlzLmxvYWRlZERhdGFSYW5nZVtqXVsxXSwgdGhpcy5sb2FkZWREYXRhUmFuZ2VbbmVlZENoZWNrZWROb2RlSW5kZXhbaV1dWzFdKTsKICAgICAgICAgICAgICBuZXh0Q2hlY2tOb2RlSW5kZXgucHVzaChuZWVkQ2hlY2tlZE5vZGVJbmRleFtpXSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgbmVlZERlbGV0ZU5vZGVJbmRleC5wdXNoKG5lZWRDaGVja2VkTm9kZUluZGV4W2ldKTsKICAgICAgICAgICAgICBsZXQgcCA9IHRoaXMuZmlyc3ROb2Rlc1tqXTsKICAgICAgICAgICAgICB3aGlsZSAocC5uZXh0U2libGluZykgewogICAgICAgICAgICAgICAgaWYgKHAubmV4dFNpYmxpbmcuaW5kZXggPT09IHRoaXMuZmlyc3ROb2Rlc1tuZWVkQ2hlY2tlZE5vZGVJbmRleFtpXV0uaW5kZXgpIHsKICAgICAgICAgICAgICAgICAgcC5uZXh0U2libGluZyA9IHRoaXMuZmlyc3ROb2Rlc1tuZWVkQ2hlY2tlZE5vZGVJbmRleFtpXV07CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcCA9IHAubmV4dFNpYmxpbmc7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHRoaXMubG9hZGVkRGF0YVJhbmdlW2pdWzBdID0gTWF0aC5taW4odGhpcy5sb2FkZWREYXRhUmFuZ2Vbal1bMF0sIHRoaXMubG9hZGVkRGF0YVJhbmdlW25lZWRDaGVja2VkTm9kZUluZGV4W2ldXVswXSk7CiAgICAgICAgICAgICAgdGhpcy5sb2FkZWREYXRhUmFuZ2Vbal1bMV0gPSBNYXRoLm1heCh0aGlzLmxvYWRlZERhdGFSYW5nZVtqXVsxXSwgdGhpcy5sb2FkZWREYXRhUmFuZ2VbbmVlZENoZWNrZWROb2RlSW5kZXhbaV1dWzFdKTsKICAgICAgICAgICAgICBuZXh0Q2hlY2tOb2RlSW5kZXgucHVzaChqKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY29uc3QgbWluSGVhZCA9IE1hdGgubWluKHRoaXMubG9hZGVkRGF0YVJhbmdlW2pdWzBdLCB0aGlzLmxvYWRlZERhdGFSYW5nZVtuZWVkQ2hlY2tlZE5vZGVJbmRleFtpXV1bMF0pOwogICAgICAgICAgICBpZiAobWluSGVhZCA9PT0gdGhpcy5sb2FkZWREYXRhUmFuZ2Vbal1bMF0gJiYgdGhpcy5sb2FkZWREYXRhUmFuZ2Vbal1bMV0gKyAxID09PSB0aGlzLmxvYWRlZERhdGFSYW5nZVtuZWVkQ2hlY2tlZE5vZGVJbmRleFtpXV1bMF0pIHsKICAgICAgICAgICAgICBuZWVkRGVsZXRlTm9kZUluZGV4LnB1c2gobmVlZENoZWNrZWROb2RlSW5kZXhbaV0pOwogICAgICAgICAgICAgIGxldCBwID0gdGhpcy5maXJzdE5vZGVzW2pdOwogICAgICAgICAgICAgIHdoaWxlIChwLm5leHRTaWJsaW5nKSB7CiAgICAgICAgICAgICAgICBwID0gcC5uZXh0U2libGluZzsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgcC5uZXh0U2libGluZyA9IHRoaXMuZmlyc3ROb2Rlc1tuZWVkQ2hlY2tlZE5vZGVJbmRleFtpXV07CiAgICAgICAgICAgICAgdGhpcy5sb2FkZWREYXRhUmFuZ2Vbal1bMV0gPSB0aGlzLmxvYWRlZERhdGFSYW5nZVtuZWVkQ2hlY2tlZE5vZGVJbmRleFtpXV1bMV07CiAgICAgICAgICAgICAgbmV4dENoZWNrTm9kZUluZGV4LnB1c2goaik7CiAgICAgICAgICAgIH0gZWxzZSBpZiAobWluSGVhZCA9PT0gdGhpcy5sb2FkZWREYXRhUmFuZ2VbbmVlZENoZWNrZWROb2RlSW5kZXhbaV1dWzBdICYmIHRoaXMubG9hZGVkRGF0YVJhbmdlW25lZWRDaGVja2VkTm9kZUluZGV4W2ldXVsxXSArIDEgPT09IHRoaXMubG9hZGVkRGF0YVJhbmdlW2pdWzBdKSB7CiAgICAgICAgICAgICAgbmVlZERlbGV0ZU5vZGVJbmRleC5wdXNoKGopOwogICAgICAgICAgICAgIGxldCBwID0gdGhpcy5maXJzdE5vZGVzW25lZWRDaGVja2VkTm9kZUluZGV4W2ldXTsKICAgICAgICAgICAgICB3aGlsZSAocC5uZXh0U2libGluZykgewogICAgICAgICAgICAgICAgcCA9IHAubmV4dFNpYmxpbmc7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHAubmV4dFNpYmxpbmcgPSB0aGlzLmZpcnN0Tm9kZXNbal07CiAgICAgICAgICAgICAgdGhpcy5sb2FkZWREYXRhUmFuZ2VbbmVlZENoZWNrZWROb2RlSW5kZXhbaV1dWzFdID0gdGhpcy5sb2FkZWREYXRhUmFuZ2Vbal1bMV07CiAgICAgICAgICAgICAgbmV4dENoZWNrTm9kZUluZGV4LnB1c2gobmVlZENoZWNrZWROb2RlSW5kZXhbaV0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmVlZERlbGV0ZU5vZGVJbmRleC5sZW5ndGg7IGkrKykgewogICAgICAgIGNvbnN0IGlkeCA9IG5lZWREZWxldGVOb2RlSW5kZXhbaV07CiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBuZXh0Q2hlY2tOb2RlSW5kZXgubGVuZ3RoOyBqKyspIHsKICAgICAgICAgIGlmIChuZXh0Q2hlY2tOb2RlSW5kZXhbal0gPiBpZHgpIHsKICAgICAgICAgICAgbmV4dENoZWNrTm9kZUluZGV4W2pdLS07CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHRoaXMubG9hZGVkRGF0YVJhbmdlLnNwbGljZShpZHgsIDEpOwogICAgICAgIHRoaXMuZmlyc3ROb2Rlcy5zcGxpY2UoaWR4LCAxKTsKICAgICAgfQogICAgICBuZWVkRGVsZXRlTm9kZUluZGV4ID0gW107CiAgICAgIG5lZWRDaGVja2VkTm9kZUluZGV4ID0gbmV4dENoZWNrTm9kZUluZGV4OwogICAgICBuZXh0Q2hlY2tOb2RlSW5kZXggPSBbXTsKICAgIH0KICB9CiAgc2VsZkNoZWNrKCkgewogICAgaWYgKHRoaXMubG9hZGVkRGF0YVJhbmdlLmxlbmd0aCAhPSB0aGlzLmZpcnN0Tm9kZXMubGVuZ3RoKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcigibG9hZGVkRGF0YVJhbmdlIGxlbiBub3QgbWF0Y2ggZmlydG5vZGVzIik7CiAgICB9CiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubG9hZGVkRGF0YVJhbmdlLmxlbmd0aDsgaSsrKSB7CiAgICAgIGlmICh0aGlzLmxvYWRlZERhdGFSYW5nZVtpXVswXSAhPT0gdGhpcy5maXJzdE5vZGVzW2ldLmluZGV4KSB7CiAgICAgICAgY29uc29sZS5sb2codGhpcyk7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJyYW5nZSBub3QgbWF0Y2ggbm9kZSBpbmRleCIpOwogICAgICB9CiAgICB9CiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubG9hZGVkRGF0YVJhbmdlLmxlbmd0aDsgaSsrKSB7CiAgICAgIGxldCBwID0gdGhpcy5maXJzdE5vZGVzW2ldOwogICAgICBsZXQgaW5kZXggPSB0aGlzLmxvYWRlZERhdGFSYW5nZVtpXVswXTsKICAgICAgd2hpbGUgKHAgJiYgaW5kZXggPD0gdGhpcy5sb2FkZWREYXRhUmFuZ2VbaV1bMV0pIHsKICAgICAgICBpZiAocC5pbmRleCA9PT0gaW5kZXgpIHsKICAgICAgICAgIHAgPSBwLm5leHRTaWJsaW5nOwogICAgICAgICAgaW5kZXgrKzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29uc29sZS5sb2codGhpcyk7CiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoInJhbmdlIG5vdCBtYXRjaCBub2RlIGluZGV4Iik7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQogIHRpbWVCb3hRdWVyeShjaGVja1JhbmdlLCBtaW5NYXgpIHsKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5sb2FkZWREYXRhUmFuZ2UubGVuZ3RoOyBpKyspIHsKICAgICAgaWYgKHRoaXMubG9hZGVkRGF0YVJhbmdlW2ldWzBdIDw9IGNoZWNrUmFuZ2VbMF0gJiYgdGhpcy5sb2FkZWREYXRhUmFuZ2VbaV1bMV0gPj0gY2hlY2tSYW5nZVsxXSkgewogICAgICAgIGxldCBwID0gdGhpcy5maXJzdE5vZGVzW2ldOwogICAgICAgIGxldCBoYXNUeXBlMyA9IGZhbHNlOwogICAgICAgIHdoaWxlIChwICYmIHAuaW5kZXggPD0gY2hlY2tSYW5nZVsxXSkgewogICAgICAgICAgaWYgKHAuaW5kZXggPj0gY2hlY2tSYW5nZVswXSkgewogICAgICAgICAgICBjb25zdCB0eXBlID0gY2hlY2tTZXRUeXBlKG1pbk1heCwgW3AueUFycmF5WzFdLCBwLnlBcnJheVsyXV0pOwogICAgICAgICAgICBpZiAodHlwZSA9PT0gMykgewogICAgICAgICAgICAgIGhhc1R5cGUzID0gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAodHlwZSA9PT0gMikgewogICAgICAgICAgICAgIHJldHVybiAyOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICBwID0gcC5uZXh0U2libGluZzsKICAgICAgICB9CiAgICAgICAgaWYgKGhhc1R5cGUzKSB7CiAgICAgICAgICByZXR1cm4gMzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIDE7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICB0aHJvdyBuZXcgRXJyb3IoImVycm9yIik7CiAgfQp9"},{"version":3,"names":["checkSetType","computeNeedLoadDataRange","isIntersect","LevelIndexObj","constructor","level","isFull","loadedDataRange","firstNodes","isSelfCheck","deleteLoadedDataRange","node","i","length","index","splice","nextSibling","previousSibling","addLoadedDataRange","firstNode","range","push","loadedDataRangeLen","isMerge","needCheckIndex","minHead","Math","min","p","Error","m","unshift","getDataByIndex","start","end","data","yArray","l","hasDataForRange","has","needDataRange","getTreeNodeStartIndex","root","reCheckIntersect","needCheckedNodeIndex","console","log","needDeleteNodeIndex","nextCheckNodeIndex","j","intersectRes","pos","lastNode","max","idx","selfCheck","timeBoxQuery","checkRange","minMax","hasType3","type"],"sources":["/Users/bao/Downloads/om3-extend/om3-client/node_modules/eslint-loader/index.js??ref--14-0!/Users/bao/Downloads/om3-extend/om3-client/src/model/level-index-obj.ts"],"sourcesContent":["import TrendTree from \"@/helper/tend-query-tree\";\nimport { checkSetType, computeNeedLoadDataRange, isIntersect } from \"../helper/util\"\nexport default class LevelIndexObj {\n    level: number;\n    isFull: boolean;\n    loadedDataRange: Array<Array<number>>;\n    firstNodes: Array<TrendTree>;\n    isSelfCheck: boolean;\n    constructor(level: number, isFull = false) {\n        this.level = level;\n        this.isFull = isFull;\n        this.loadedDataRange = [];\n\n        this.firstNodes = [];\n        this.isSelfCheck = false;\n    }\n\n    deleteLoadedDataRange(node: TrendTree) {\n        \n        if (this.isFull) {\n            this.isFull = false\n        }\n        for (let i = 0; i < this.loadedDataRange.length; i++) {\n            if (this.loadedDataRange[i][0] <= node.index && this.loadedDataRange[i][1] >= node.index) {\n                if (this.loadedDataRange[i][0] === this.loadedDataRange[i][1]) {\n                    this.loadedDataRange.splice(i, 1)\n                    this.firstNodes.splice(i, 1)\n                    break;\n                }\n                if (this.loadedDataRange[i][0] === node.index) {\n                    this.loadedDataRange[i][0] += 1;\n                    //@ts-ignore\n                    node.nextSibling.previousSibling=null\n                    if(node.nextSibling==null){\n                        debugger\n                    }\n                    this.firstNodes[i]=node.nextSibling!\n                    //this.firstNodes[i].nextSibling.previousSibling = null\n                    this.firstNodes[i] = node.nextSibling!;\n                    break;\n                }\n                if (this.loadedDataRange[i][1] === node.index) {\n                    this.loadedDataRange[i][1] -= 1;\n                    if(node.previousSibling!=null){\n                        node.previousSibling.nextSibling = null;\n                    }\n                   \n                    break;\n                }\n                this.firstNodes.splice(i + 1, 0, node.nextSibling!)\n                //@ts-ignore\n                node.previousSibling.nextSibling = null\n                this.loadedDataRange.splice(i + 1, 0, [node.index + 1, this.loadedDataRange[i][1]])\n                this.loadedDataRange[i][1] = node.index - 1;\n                break\n            }\n        }\n    }\n\n    addLoadedDataRange(firstNode: TrendTree, range: Array<number>) {\n        if (this.loadedDataRange.length === 0) {\n            this.loadedDataRange.push(range);\n            this.firstNodes.push(firstNode);\n            return\n        }\n        const loadedDataRangeLen = this.loadedDataRange.length;\n        let isMerge = false;\n        const needCheckIndex = [];\n        for (let i = 0; i < loadedDataRangeLen; i++) {\n            const minHead = Math.min(this.loadedDataRange[i][0], range[0]);\n            if (minHead === this.loadedDataRange[i][0] && (this.loadedDataRange[i][1] + 1 === range[0])) {\n                isMerge = true;\n                let p = this.firstNodes[i];\n                while (p.nextSibling) {\n                    p = p.nextSibling;\n                }\n                if (p.index !== firstNode.index - 1) {\n                    debugger\n                    throw new Error(\"index error\")\n                }\n                p.nextSibling = firstNode;\n                this.loadedDataRange[i][1] = range[1];\n                if (i < loadedDataRangeLen - 1) {\n                    if (range[1] + 1 === this.loadedDataRange[i + 1][0]) {\n                        this.loadedDataRange[i][1] = this.loadedDataRange[i + 1][1];\n                        let m = firstNode;\n                        while (m.nextSibling) {\n                            m = m.nextSibling\n                        }\n                        m.nextSibling = this.firstNodes[i + 1];\n                        this.firstNodes.splice(i + 1, 1);\n                        this.loadedDataRange.splice(i + 1, 1);\n                    } else if (range[1] >= this.loadedDataRange[i + 1][0]) {\n                        debugger\n                    }\n                }\n                break;\n            } else if (minHead === range[0] && (range[1] + 1 === this.loadedDataRange[i][0])) {\n                isMerge = true;\n                let p = firstNode;\n                while (p.nextSibling) {\n                    p = p.nextSibling;\n                }\n                p.nextSibling = this.firstNodes[i];\n                this.firstNodes[i] = firstNode;\n                this.loadedDataRange[i][0] = range[0];\n                break\n            } else {\n                if (i === 0 && range[1] < this.loadedDataRange[i][0] - 1) {\n                    this.loadedDataRange.unshift([range[0], range[1]]);\n                    this.firstNodes.unshift(firstNode);\n                    break;\n                } else if (i === loadedDataRangeLen - 1 && range[0] > this.loadedDataRange[i][1] + 1) {\n\n                    this.loadedDataRange.push([range[0], range[1]]);\n                    this.firstNodes.push(firstNode);\n                    break;\n\n                } else {\n                    if (range[0] > this.loadedDataRange[i][1] + 1 && range[1] < this.loadedDataRange[i + 1][0] - 1) {\n                        this.loadedDataRange.splice(i + 1, 0, [range[0], range[1]]);\n                        this.firstNodes.splice(i + 1, 0, firstNode);\n                        break;\n                    }\n\n                }\n\n            }\n        }\n        if (this.firstNodes.length === 1 && (this.loadedDataRange[0][1] - this.loadedDataRange[0][0] + 1) === 2 ** this.level) {\n            this.isFull = true;\n        }\n    }\n\n\n    getDataByIndex(start: number, end: number) {\n        const data: Array<Array<number>> = [];\n        for (let i = 0; i < this.firstNodes.length; i++) {\n            if (this.loadedDataRange[i][0] <= start && this.loadedDataRange[i][1] >= end) {\n                let p = this.firstNodes[i];\n                while (p) {\n                    if (p.index >= start && p.index <= end) {\n                        data.push(p.yArray);\n                    }\n                    if (p.index > end) {\n                        break;\n                    }\n                    //@ts-ignore\n                    p = p.nextSibling;\n                }\n            }\n        }\n        return { data, start, end, l: this.level };\n    }\n    hasDataForRange(start: number, end: number) {\n        if (this.isFull) {\n            return {\n                has: true,\n                range: [],\n            }\n        }\n        const needDataRange = computeNeedLoadDataRange([start, end], this.loadedDataRange);\n        if (needDataRange.length === 0) {\n            return {\n                has: true,\n                range: [],\n            }\n        } else {\n            return {\n                has: false,\n                range: needDataRange\n            }\n        }\n    }\n    // fillLevel(){\n    //     const needDataRes=this.hasDataForRange(0,2**this.level);\n    //     if(needDataRes.has){\n    //         return\n    //     }\n\n    // }\n    getTreeNodeStartIndex(start: number) {\n        for (let i = 0; i < this.firstNodes.length; i++) {\n            if (this.loadedDataRange[i][0] <= start && this.loadedDataRange[i][1] >= start) {\n                let root = this.firstNodes[i];\n                while (root) {\n\n                    if (root.index === start) {\n                        return root\n                    }\n                    //@ts-ignore\n                    root = root.nextSibling;\n                }\n            }\n        }\n        return null;\n    }\n\n    reCheckIntersect(needCheckedNodeIndex: Array<number>) {\n        if (needCheckedNodeIndex.length > 2) {\n            // throw new Error(\"check intersect error\");\n            console.log(\"..................................\");\n        }\n        let needDeleteNodeIndex = [];\n        while (needCheckedNodeIndex.length > 0) {\n            let nextCheckNodeIndex = [];\n            for (let i = 0; i < needCheckedNodeIndex.length; i++) {\n                for (let j = 0; j < this.loadedDataRange.length; j++) {\n                    if (needCheckedNodeIndex[i] === j) {\n                        continue;\n                    }\n                    const intersectRes = isIntersect(this.loadedDataRange[j], this.loadedDataRange[needCheckedNodeIndex[i]]);\n                    if (intersectRes.isIntersect) {\n                        if (j === needCheckedNodeIndex[needCheckedNodeIndex.length - 1]) {\n                            needCheckedNodeIndex.splice(needCheckedNodeIndex.length - 1, 1);\n                        }\n                        if (intersectRes.pos === 'second') {\n\n                            needDeleteNodeIndex.push(j);\n\n                            const lastNode = this.firstNodes[j];\n                            const firstNode = this.firstNodes[needCheckedNodeIndex[i]];\n                            let p = firstNode;\n\n                            while (p.nextSibling) {\n                                if (p.nextSibling.index === lastNode.index) {\n                                    p.nextSibling = lastNode;\n                                    break;\n                                }\n                                p = p.nextSibling;\n                            }\n\n                            this.loadedDataRange[needCheckedNodeIndex[i]][0] = Math.min(this.loadedDataRange[j][0], this.loadedDataRange[needCheckedNodeIndex[i]][0]);\n                            this.loadedDataRange[needCheckedNodeIndex[i]][1] = Math.max(this.loadedDataRange[j][1], this.loadedDataRange[needCheckedNodeIndex[i]][1]);\n                            nextCheckNodeIndex.push(needCheckedNodeIndex[i]);\n                        } else {\n\n                            needDeleteNodeIndex.push(needCheckedNodeIndex[i]);\n\n                            let p = this.firstNodes[j];\n                            while (p.nextSibling) {\n                                if (p.nextSibling.index === this.firstNodes[needCheckedNodeIndex[i]].index) {\n                                    p.nextSibling = this.firstNodes[needCheckedNodeIndex[i]];\n                                    break;\n                                }\n                                p = p.nextSibling;\n                            }\n                            this.loadedDataRange[j][0] = Math.min(this.loadedDataRange[j][0], this.loadedDataRange[needCheckedNodeIndex[i]][0]);\n                            this.loadedDataRange[j][1] = Math.max(this.loadedDataRange[j][1], this.loadedDataRange[needCheckedNodeIndex[i]][1]);\n                            nextCheckNodeIndex.push(j);\n                        }\n                    } else {\n\n                        const minHead = Math.min(this.loadedDataRange[j][0], this.loadedDataRange[needCheckedNodeIndex[i]][0]);\n                        if (minHead === this.loadedDataRange[j][0] && (this.loadedDataRange[j][1] + 1 === this.loadedDataRange[needCheckedNodeIndex[i]][0])) {\n                            needDeleteNodeIndex.push(needCheckedNodeIndex[i])\n                            let p = this.firstNodes[j];\n                            while (p.nextSibling) {\n                                p = p.nextSibling;\n                            }\n                            p.nextSibling = this.firstNodes[needCheckedNodeIndex[i]];\n\n                            this.loadedDataRange[j][1] = this.loadedDataRange[needCheckedNodeIndex[i]][1];\n                            nextCheckNodeIndex.push(j)\n                        } else if (minHead === this.loadedDataRange[needCheckedNodeIndex[i]][0] && (this.loadedDataRange[needCheckedNodeIndex[i]][1] + 1 === this.loadedDataRange[j][0])) {\n                            needDeleteNodeIndex.push(j);\n                            let p = this.firstNodes[needCheckedNodeIndex[i]];\n                            while (p.nextSibling) {\n                                p = p.nextSibling;\n                            }\n                            p.nextSibling = this.firstNodes[j];\n\n                            this.loadedDataRange[needCheckedNodeIndex[i]][1] = this.loadedDataRange[j][1];\n                            nextCheckNodeIndex.push(needCheckedNodeIndex[i]);\n                        }\n\n                    }\n\n\n                }\n            }\n            for (let i = 0; i < needDeleteNodeIndex.length; i++) {\n                const idx = needDeleteNodeIndex[i];\n                for (let j = 0; j < nextCheckNodeIndex.length; j++) {\n                    if (nextCheckNodeIndex[j] > idx) {\n                        nextCheckNodeIndex[j]--;\n                    }\n                }\n                this.loadedDataRange.splice(idx, 1);\n                this.firstNodes.splice(idx, 1);\n            }\n            needDeleteNodeIndex = [];\n            needCheckedNodeIndex = nextCheckNodeIndex;\n            nextCheckNodeIndex = [];\n        }\n    }\n\n    selfCheck() {\n        if (this.loadedDataRange.length != this.firstNodes.length) {\n            throw new Error(\"loadedDataRange len not match firtnodes\")\n        }\n        for (let i = 0; i < this.loadedDataRange.length; i++) {\n            if (this.loadedDataRange[i][0] !== this.firstNodes[i].index) {\n                console.log(this);\n                throw new Error(\"range not match node index\");\n            }\n        }\n        for (let i = 0; i < this.loadedDataRange.length; i++) {\n            let p = this.firstNodes[i];\n            let index = this.loadedDataRange[i][0];\n            while (p && index <= this.loadedDataRange[i][1]) {\n                if (p.index === index) {\n                    p = p.nextSibling!;\n                    index++;\n                } else {\n                    console.log(this);\n                    throw new Error(\"range not match node index\");\n                }\n            }\n        }\n    }\n\n    timeBoxQuery(checkRange: Array<number>, minMax: Array<number>) {\n        for (let i = 0; i < this.loadedDataRange.length; i++) {\n            if (this.loadedDataRange[i][0] <= checkRange[0] && this.loadedDataRange[i][1] >= checkRange[1]) {\n                let p = this.firstNodes[i];\n                let hasType3 = false;\n                while (p && p.index <= checkRange[1]) {\n                    if (p.index >= checkRange[0]) {\n                        const type = checkSetType(minMax, [p.yArray[1], p.yArray[2]])\n                        if (type === 3) {\n                            hasType3 = true;\n                        }\n                        if (type === 2) {\n                            return 2\n                        }\n                    }\n                    p = p.nextSibling as TrendTree;\n                }\n                if (hasType3) {\n                    return 3;\n                } else {\n                    return 1;\n                }\n            }\n        }\n        throw new Error(\"error\");\n    }\n}"],"mappings":";;AACA,SAASA,YAAY,EAAEC,wBAAwB,EAAEC,WAAW,QAAQ,gBAAgB;AACpF,eAAc,MAAOC,aAAa;EAM9BC,YAAYC,KAAa,EAAEC,MAAM,GAAG,KAAK;IACrC,IAAI,CAACD,KAAK,GAAGA,KAAK;IAClB,IAAI,CAACC,MAAM,GAAGA,MAAM;IACpB,IAAI,CAACC,eAAe,GAAG,EAAE;IAEzB,IAAI,CAACC,UAAU,GAAG,EAAE;IACpB,IAAI,CAACC,WAAW,GAAG,KAAK;EAC5B;EAEAC,qBAAqBA,CAACC,IAAe;IAEjC,IAAI,IAAI,CAACL,MAAM,EAAE;MACb,IAAI,CAACA,MAAM,GAAG,KAAK;;IAEvB,KAAK,IAAIM,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACL,eAAe,CAACM,MAAM,EAAED,CAAC,EAAE,EAAE;MAClD,IAAI,IAAI,CAACL,eAAe,CAACK,CAAC,CAAC,CAAC,CAAC,CAAC,IAAID,IAAI,CAACG,KAAK,IAAI,IAAI,CAACP,eAAe,CAACK,CAAC,CAAC,CAAC,CAAC,CAAC,IAAID,IAAI,CAACG,KAAK,EAAE;QACtF,IAAI,IAAI,CAACP,eAAe,CAACK,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,CAACL,eAAe,CAACK,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;UAC3D,IAAI,CAACL,eAAe,CAACQ,MAAM,CAACH,CAAC,EAAE,CAAC,CAAC;UACjC,IAAI,CAACJ,UAAU,CAACO,MAAM,CAACH,CAAC,EAAE,CAAC,CAAC;UAC5B;;QAEJ,IAAI,IAAI,CAACL,eAAe,CAACK,CAAC,CAAC,CAAC,CAAC,CAAC,KAAKD,IAAI,CAACG,KAAK,EAAE;UAC3C,IAAI,CAACP,eAAe,CAACK,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;UAC/B;UACAD,IAAI,CAACK,WAAW,CAACC,eAAe,GAAC,IAAI;UACrC,IAAGN,IAAI,CAACK,WAAW,IAAE,IAAI,EAAC;YACtB;;UAEJ,IAAI,CAACR,UAAU,CAACI,CAAC,CAAC,GAACD,IAAI,CAACK,WAAY;UACpC;UACA,IAAI,CAACR,UAAU,CAACI,CAAC,CAAC,GAAGD,IAAI,CAACK,WAAY;UACtC;;QAEJ,IAAI,IAAI,CAACT,eAAe,CAACK,CAAC,CAAC,CAAC,CAAC,CAAC,KAAKD,IAAI,CAACG,KAAK,EAAE;UAC3C,IAAI,CAACP,eAAe,CAACK,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;UAC/B,IAAGD,IAAI,CAACM,eAAe,IAAE,IAAI,EAAC;YAC1BN,IAAI,CAACM,eAAe,CAACD,WAAW,GAAG,IAAI;;UAG3C;;QAEJ,IAAI,CAACR,UAAU,CAACO,MAAM,CAACH,CAAC,GAAG,CAAC,EAAE,CAAC,EAAED,IAAI,CAACK,WAAY,CAAC;QACnD;QACAL,IAAI,CAACM,eAAe,CAACD,WAAW,GAAG,IAAI;QACvC,IAAI,CAACT,eAAe,CAACQ,MAAM,CAACH,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAACD,IAAI,CAACG,KAAK,GAAG,CAAC,EAAE,IAAI,CAACP,eAAe,CAACK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACnF,IAAI,CAACL,eAAe,CAACK,CAAC,CAAC,CAAC,CAAC,CAAC,GAAGD,IAAI,CAACG,KAAK,GAAG,CAAC;QAC3C;;;EAGZ;EAEAI,kBAAkBA,CAACC,SAAoB,EAAEC,KAAoB;IACzD,IAAI,IAAI,CAACb,eAAe,CAACM,MAAM,KAAK,CAAC,EAAE;MACnC,IAAI,CAACN,eAAe,CAACc,IAAI,CAACD,KAAK,CAAC;MAChC,IAAI,CAACZ,UAAU,CAACa,IAAI,CAACF,SAAS,CAAC;MAC/B;;IAEJ,MAAMG,kBAAkB,GAAG,IAAI,CAACf,eAAe,CAACM,MAAM;IACtD,IAAIU,OAAO,GAAG,KAAK;IACnB,MAAMC,cAAc,GAAG,EAAE;IACzB,KAAK,IAAIZ,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGU,kBAAkB,EAAEV,CAAC,EAAE,EAAE;MACzC,MAAMa,OAAO,GAAGC,IAAI,CAACC,GAAG,CAAC,IAAI,CAACpB,eAAe,CAACK,CAAC,CAAC,CAAC,CAAC,CAAC,EAAEQ,KAAK,CAAC,CAAC,CAAC,CAAC;MAC9D,IAAIK,OAAO,KAAK,IAAI,CAAClB,eAAe,CAACK,CAAC,CAAC,CAAC,CAAC,CAAC,IAAK,IAAI,CAACL,eAAe,CAACK,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,KAAKQ,KAAK,CAAC,CAAC,CAAE,EAAE;QACzFG,OAAO,GAAG,IAAI;QACd,IAAIK,CAAC,GAAG,IAAI,CAACpB,UAAU,CAACI,CAAC,CAAC;QAC1B,OAAOgB,CAAC,CAACZ,WAAW,EAAE;UAClBY,CAAC,GAAGA,CAAC,CAACZ,WAAW;;QAErB,IAAIY,CAAC,CAACd,KAAK,KAAKK,SAAS,CAACL,KAAK,GAAG,CAAC,EAAE;UACjC;UACA,MAAM,IAAIe,KAAK,CAAC,aAAa,CAAC;;QAElCD,CAAC,CAACZ,WAAW,GAAGG,SAAS;QACzB,IAAI,CAACZ,eAAe,CAACK,CAAC,CAAC,CAAC,CAAC,CAAC,GAAGQ,KAAK,CAAC,CAAC,CAAC;QACrC,IAAIR,CAAC,GAAGU,kBAAkB,GAAG,CAAC,EAAE;UAC5B,IAAIF,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,KAAK,IAAI,CAACb,eAAe,CAACK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;YACjD,IAAI,CAACL,eAAe,CAACK,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAACL,eAAe,CAACK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;YAC3D,IAAIkB,CAAC,GAAGX,SAAS;YACjB,OAAOW,CAAC,CAACd,WAAW,EAAE;cAClBc,CAAC,GAAGA,CAAC,CAACd,WAAW;;YAErBc,CAAC,CAACd,WAAW,GAAG,IAAI,CAACR,UAAU,CAACI,CAAC,GAAG,CAAC,CAAC;YACtC,IAAI,CAACJ,UAAU,CAACO,MAAM,CAACH,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;YAChC,IAAI,CAACL,eAAe,CAACQ,MAAM,CAACH,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;WACxC,MAAM,IAAIQ,KAAK,CAAC,CAAC,CAAC,IAAI,IAAI,CAACb,eAAe,CAACK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;YACnD;;;QAGR;OACH,MAAM,IAAIa,OAAO,KAAKL,KAAK,CAAC,CAAC,CAAC,IAAKA,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,KAAK,IAAI,CAACb,eAAe,CAACK,CAAC,CAAC,CAAC,CAAC,CAAE,EAAE;QAC9EW,OAAO,GAAG,IAAI;QACd,IAAIK,CAAC,GAAGT,SAAS;QACjB,OAAOS,CAAC,CAACZ,WAAW,EAAE;UAClBY,CAAC,GAAGA,CAAC,CAACZ,WAAW;;QAErBY,CAAC,CAACZ,WAAW,GAAG,IAAI,CAACR,UAAU,CAACI,CAAC,CAAC;QAClC,IAAI,CAACJ,UAAU,CAACI,CAAC,CAAC,GAAGO,SAAS;QAC9B,IAAI,CAACZ,eAAe,CAACK,CAAC,CAAC,CAAC,CAAC,CAAC,GAAGQ,KAAK,CAAC,CAAC,CAAC;QACrC;OACH,MAAM;QACH,IAAIR,CAAC,KAAK,CAAC,IAAIQ,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI,CAACb,eAAe,CAACK,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE;UACtD,IAAI,CAACL,eAAe,CAACwB,OAAO,CAAC,CAACX,KAAK,CAAC,CAAC,CAAC,EAAEA,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;UAClD,IAAI,CAACZ,UAAU,CAACuB,OAAO,CAACZ,SAAS,CAAC;UAClC;SACH,MAAM,IAAIP,CAAC,KAAKU,kBAAkB,GAAG,CAAC,IAAIF,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI,CAACb,eAAe,CAACK,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE;UAElF,IAAI,CAACL,eAAe,CAACc,IAAI,CAAC,CAACD,KAAK,CAAC,CAAC,CAAC,EAAEA,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;UAC/C,IAAI,CAACZ,UAAU,CAACa,IAAI,CAACF,SAAS,CAAC;UAC/B;SAEH,MAAM;UACH,IAAIC,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI,CAACb,eAAe,CAACK,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAAIQ,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI,CAACb,eAAe,CAACK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE;YAC5F,IAAI,CAACL,eAAe,CAACQ,MAAM,CAACH,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAACQ,KAAK,CAAC,CAAC,CAAC,EAAEA,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;YAC3D,IAAI,CAACZ,UAAU,CAACO,MAAM,CAACH,CAAC,GAAG,CAAC,EAAE,CAAC,EAAEO,SAAS,CAAC;YAC3C;;;;;IAOhB,IAAI,IAAI,CAACX,UAAU,CAACK,MAAM,KAAK,CAAC,IAAK,IAAI,CAACN,eAAe,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAACA,eAAe,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,KAAM,CAAC,IAAI,IAAI,CAACF,KAAK,EAAE;MACnH,IAAI,CAACC,MAAM,GAAG,IAAI;;EAE1B;EAGA0B,cAAcA,CAACC,KAAa,EAAEC,GAAW;IACrC,MAAMC,IAAI,GAAyB,EAAE;IACrC,KAAK,IAAIvB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACJ,UAAU,CAACK,MAAM,EAAED,CAAC,EAAE,EAAE;MAC7C,IAAI,IAAI,CAACL,eAAe,CAACK,CAAC,CAAC,CAAC,CAAC,CAAC,IAAIqB,KAAK,IAAI,IAAI,CAAC1B,eAAe,CAACK,CAAC,CAAC,CAAC,CAAC,CAAC,IAAIsB,GAAG,EAAE;QAC1E,IAAIN,CAAC,GAAG,IAAI,CAACpB,UAAU,CAACI,CAAC,CAAC;QAC1B,OAAOgB,CAAC,EAAE;UACN,IAAIA,CAAC,CAACd,KAAK,IAAImB,KAAK,IAAIL,CAAC,CAACd,KAAK,IAAIoB,GAAG,EAAE;YACpCC,IAAI,CAACd,IAAI,CAACO,CAAC,CAACQ,MAAM,CAAC;;UAEvB,IAAIR,CAAC,CAACd,KAAK,GAAGoB,GAAG,EAAE;YACf;;UAEJ;UACAN,CAAC,GAAGA,CAAC,CAACZ,WAAW;;;;IAI7B,OAAO;MAAEmB,IAAI;MAAEF,KAAK;MAAEC,GAAG;MAAEG,CAAC,EAAE,IAAI,CAAChC;IAAK,CAAE;EAC9C;EACAiC,eAAeA,CAACL,KAAa,EAAEC,GAAW;IACtC,IAAI,IAAI,CAAC5B,MAAM,EAAE;MACb,OAAO;QACHiC,GAAG,EAAE,IAAI;QACTnB,KAAK,EAAE;OACV;;IAEL,MAAMoB,aAAa,GAAGvC,wBAAwB,CAAC,CAACgC,KAAK,EAAEC,GAAG,CAAC,EAAE,IAAI,CAAC3B,eAAe,CAAC;IAClF,IAAIiC,aAAa,CAAC3B,MAAM,KAAK,CAAC,EAAE;MAC5B,OAAO;QACH0B,GAAG,EAAE,IAAI;QACTnB,KAAK,EAAE;OACV;KACJ,MAAM;MACH,OAAO;QACHmB,GAAG,EAAE,KAAK;QACVnB,KAAK,EAAEoB;OACV;;EAET;EACA;EACA;EACA;EACA;EACA;EAEA;EACAC,qBAAqBA,CAACR,KAAa;IAC/B,KAAK,IAAIrB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACJ,UAAU,CAACK,MAAM,EAAED,CAAC,EAAE,EAAE;MAC7C,IAAI,IAAI,CAACL,eAAe,CAACK,CAAC,CAAC,CAAC,CAAC,CAAC,IAAIqB,KAAK,IAAI,IAAI,CAAC1B,eAAe,CAACK,CAAC,CAAC,CAAC,CAAC,CAAC,IAAIqB,KAAK,EAAE;QAC5E,IAAIS,IAAI,GAAG,IAAI,CAAClC,UAAU,CAACI,CAAC,CAAC;QAC7B,OAAO8B,IAAI,EAAE;UAET,IAAIA,IAAI,CAAC5B,KAAK,KAAKmB,KAAK,EAAE;YACtB,OAAOS,IAAI;;UAEf;UACAA,IAAI,GAAGA,IAAI,CAAC1B,WAAW;;;;IAInC,OAAO,IAAI;EACf;EAEA2B,gBAAgBA,CAACC,oBAAmC;IAChD,IAAIA,oBAAoB,CAAC/B,MAAM,GAAG,CAAC,EAAE;MACjC;MACAgC,OAAO,CAACC,GAAG,CAAC,oCAAoC,CAAC;;IAErD,IAAIC,mBAAmB,GAAG,EAAE;IAC5B,OAAOH,oBAAoB,CAAC/B,MAAM,GAAG,CAAC,EAAE;MACpC,IAAImC,kBAAkB,GAAG,EAAE;MAC3B,KAAK,IAAIpC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGgC,oBAAoB,CAAC/B,MAAM,EAAED,CAAC,EAAE,EAAE;QAClD,KAAK,IAAIqC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAAC1C,eAAe,CAACM,MAAM,EAAEoC,CAAC,EAAE,EAAE;UAClD,IAAIL,oBAAoB,CAAChC,CAAC,CAAC,KAAKqC,CAAC,EAAE;YAC/B;;UAEJ,MAAMC,YAAY,GAAGhD,WAAW,CAAC,IAAI,CAACK,eAAe,CAAC0C,CAAC,CAAC,EAAE,IAAI,CAAC1C,eAAe,CAACqC,oBAAoB,CAAChC,CAAC,CAAC,CAAC,CAAC;UACxG,IAAIsC,YAAY,CAAChD,WAAW,EAAE;YAC1B,IAAI+C,CAAC,KAAKL,oBAAoB,CAACA,oBAAoB,CAAC/B,MAAM,GAAG,CAAC,CAAC,EAAE;cAC7D+B,oBAAoB,CAAC7B,MAAM,CAAC6B,oBAAoB,CAAC/B,MAAM,GAAG,CAAC,EAAE,CAAC,CAAC;;YAEnE,IAAIqC,YAAY,CAACC,GAAG,KAAK,QAAQ,EAAE;cAE/BJ,mBAAmB,CAAC1B,IAAI,CAAC4B,CAAC,CAAC;cAE3B,MAAMG,QAAQ,GAAG,IAAI,CAAC5C,UAAU,CAACyC,CAAC,CAAC;cACnC,MAAM9B,SAAS,GAAG,IAAI,CAACX,UAAU,CAACoC,oBAAoB,CAAChC,CAAC,CAAC,CAAC;cAC1D,IAAIgB,CAAC,GAAGT,SAAS;cAEjB,OAAOS,CAAC,CAACZ,WAAW,EAAE;gBAClB,IAAIY,CAAC,CAACZ,WAAW,CAACF,KAAK,KAAKsC,QAAQ,CAACtC,KAAK,EAAE;kBACxCc,CAAC,CAACZ,WAAW,GAAGoC,QAAQ;kBACxB;;gBAEJxB,CAAC,GAAGA,CAAC,CAACZ,WAAW;;cAGrB,IAAI,CAACT,eAAe,CAACqC,oBAAoB,CAAChC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAGc,IAAI,CAACC,GAAG,CAAC,IAAI,CAACpB,eAAe,CAAC0C,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC1C,eAAe,CAACqC,oBAAoB,CAAChC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;cACzI,IAAI,CAACL,eAAe,CAACqC,oBAAoB,CAAChC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAGc,IAAI,CAAC2B,GAAG,CAAC,IAAI,CAAC9C,eAAe,CAAC0C,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC1C,eAAe,CAACqC,oBAAoB,CAAChC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;cACzIoC,kBAAkB,CAAC3B,IAAI,CAACuB,oBAAoB,CAAChC,CAAC,CAAC,CAAC;aACnD,MAAM;cAEHmC,mBAAmB,CAAC1B,IAAI,CAACuB,oBAAoB,CAAChC,CAAC,CAAC,CAAC;cAEjD,IAAIgB,CAAC,GAAG,IAAI,CAACpB,UAAU,CAACyC,CAAC,CAAC;cAC1B,OAAOrB,CAAC,CAACZ,WAAW,EAAE;gBAClB,IAAIY,CAAC,CAACZ,WAAW,CAACF,KAAK,KAAK,IAAI,CAACN,UAAU,CAACoC,oBAAoB,CAAChC,CAAC,CAAC,CAAC,CAACE,KAAK,EAAE;kBACxEc,CAAC,CAACZ,WAAW,GAAG,IAAI,CAACR,UAAU,CAACoC,oBAAoB,CAAChC,CAAC,CAAC,CAAC;kBACxD;;gBAEJgB,CAAC,GAAGA,CAAC,CAACZ,WAAW;;cAErB,IAAI,CAACT,eAAe,CAAC0C,CAAC,CAAC,CAAC,CAAC,CAAC,GAAGvB,IAAI,CAACC,GAAG,CAAC,IAAI,CAACpB,eAAe,CAAC0C,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC1C,eAAe,CAACqC,oBAAoB,CAAChC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;cACnH,IAAI,CAACL,eAAe,CAAC0C,CAAC,CAAC,CAAC,CAAC,CAAC,GAAGvB,IAAI,CAAC2B,GAAG,CAAC,IAAI,CAAC9C,eAAe,CAAC0C,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC1C,eAAe,CAACqC,oBAAoB,CAAChC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;cACnHoC,kBAAkB,CAAC3B,IAAI,CAAC4B,CAAC,CAAC;;WAEjC,MAAM;YAEH,MAAMxB,OAAO,GAAGC,IAAI,CAACC,GAAG,CAAC,IAAI,CAACpB,eAAe,CAAC0C,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC1C,eAAe,CAACqC,oBAAoB,CAAChC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACtG,IAAIa,OAAO,KAAK,IAAI,CAAClB,eAAe,CAAC0C,CAAC,CAAC,CAAC,CAAC,CAAC,IAAK,IAAI,CAAC1C,eAAe,CAAC0C,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,KAAK,IAAI,CAAC1C,eAAe,CAACqC,oBAAoB,CAAChC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAE,EAAE;cACjImC,mBAAmB,CAAC1B,IAAI,CAACuB,oBAAoB,CAAChC,CAAC,CAAC,CAAC;cACjD,IAAIgB,CAAC,GAAG,IAAI,CAACpB,UAAU,CAACyC,CAAC,CAAC;cAC1B,OAAOrB,CAAC,CAACZ,WAAW,EAAE;gBAClBY,CAAC,GAAGA,CAAC,CAACZ,WAAW;;cAErBY,CAAC,CAACZ,WAAW,GAAG,IAAI,CAACR,UAAU,CAACoC,oBAAoB,CAAChC,CAAC,CAAC,CAAC;cAExD,IAAI,CAACL,eAAe,CAAC0C,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC1C,eAAe,CAACqC,oBAAoB,CAAChC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;cAC7EoC,kBAAkB,CAAC3B,IAAI,CAAC4B,CAAC,CAAC;aAC7B,MAAM,IAAIxB,OAAO,KAAK,IAAI,CAAClB,eAAe,CAACqC,oBAAoB,CAAChC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAK,IAAI,CAACL,eAAe,CAACqC,oBAAoB,CAAChC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,KAAK,IAAI,CAACL,eAAe,CAAC0C,CAAC,CAAC,CAAC,CAAC,CAAE,EAAE;cAC9JF,mBAAmB,CAAC1B,IAAI,CAAC4B,CAAC,CAAC;cAC3B,IAAIrB,CAAC,GAAG,IAAI,CAACpB,UAAU,CAACoC,oBAAoB,CAAChC,CAAC,CAAC,CAAC;cAChD,OAAOgB,CAAC,CAACZ,WAAW,EAAE;gBAClBY,CAAC,GAAGA,CAAC,CAACZ,WAAW;;cAErBY,CAAC,CAACZ,WAAW,GAAG,IAAI,CAACR,UAAU,CAACyC,CAAC,CAAC;cAElC,IAAI,CAAC1C,eAAe,CAACqC,oBAAoB,CAAChC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAACL,eAAe,CAAC0C,CAAC,CAAC,CAAC,CAAC,CAAC;cAC7ED,kBAAkB,CAAC3B,IAAI,CAACuB,oBAAoB,CAAChC,CAAC,CAAC,CAAC;;;;;MAQhE,KAAK,IAAIA,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGmC,mBAAmB,CAAClC,MAAM,EAAED,CAAC,EAAE,EAAE;QACjD,MAAM0C,GAAG,GAAGP,mBAAmB,CAACnC,CAAC,CAAC;QAClC,KAAK,IAAIqC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,kBAAkB,CAACnC,MAAM,EAAEoC,CAAC,EAAE,EAAE;UAChD,IAAID,kBAAkB,CAACC,CAAC,CAAC,GAAGK,GAAG,EAAE;YAC7BN,kBAAkB,CAACC,CAAC,CAAC,EAAE;;;QAG/B,IAAI,CAAC1C,eAAe,CAACQ,MAAM,CAACuC,GAAG,EAAE,CAAC,CAAC;QACnC,IAAI,CAAC9C,UAAU,CAACO,MAAM,CAACuC,GAAG,EAAE,CAAC,CAAC;;MAElCP,mBAAmB,GAAG,EAAE;MACxBH,oBAAoB,GAAGI,kBAAkB;MACzCA,kBAAkB,GAAG,EAAE;;EAE/B;EAEAO,SAASA,CAAA;IACL,IAAI,IAAI,CAAChD,eAAe,CAACM,MAAM,IAAI,IAAI,CAACL,UAAU,CAACK,MAAM,EAAE;MACvD,MAAM,IAAIgB,KAAK,CAAC,yCAAyC,CAAC;;IAE9D,KAAK,IAAIjB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACL,eAAe,CAACM,MAAM,EAAED,CAAC,EAAE,EAAE;MAClD,IAAI,IAAI,CAACL,eAAe,CAACK,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,CAACJ,UAAU,CAACI,CAAC,CAAC,CAACE,KAAK,EAAE;QACzD+B,OAAO,CAACC,GAAG,CAAC,IAAI,CAAC;QACjB,MAAM,IAAIjB,KAAK,CAAC,4BAA4B,CAAC;;;IAGrD,KAAK,IAAIjB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACL,eAAe,CAACM,MAAM,EAAED,CAAC,EAAE,EAAE;MAClD,IAAIgB,CAAC,GAAG,IAAI,CAACpB,UAAU,CAACI,CAAC,CAAC;MAC1B,IAAIE,KAAK,GAAG,IAAI,CAACP,eAAe,CAACK,CAAC,CAAC,CAAC,CAAC,CAAC;MACtC,OAAOgB,CAAC,IAAId,KAAK,IAAI,IAAI,CAACP,eAAe,CAACK,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;QAC7C,IAAIgB,CAAC,CAACd,KAAK,KAAKA,KAAK,EAAE;UACnBc,CAAC,GAAGA,CAAC,CAACZ,WAAY;UAClBF,KAAK,EAAE;SACV,MAAM;UACH+B,OAAO,CAACC,GAAG,CAAC,IAAI,CAAC;UACjB,MAAM,IAAIjB,KAAK,CAAC,4BAA4B,CAAC;;;;EAI7D;EAEA2B,YAAYA,CAACC,UAAyB,EAAEC,MAAqB;IACzD,KAAK,IAAI9C,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACL,eAAe,CAACM,MAAM,EAAED,CAAC,EAAE,EAAE;MAClD,IAAI,IAAI,CAACL,eAAe,CAACK,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI6C,UAAU,CAAC,CAAC,CAAC,IAAI,IAAI,CAAClD,eAAe,CAACK,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI6C,UAAU,CAAC,CAAC,CAAC,EAAE;QAC5F,IAAI7B,CAAC,GAAG,IAAI,CAACpB,UAAU,CAACI,CAAC,CAAC;QAC1B,IAAI+C,QAAQ,GAAG,KAAK;QACpB,OAAO/B,CAAC,IAAIA,CAAC,CAACd,KAAK,IAAI2C,UAAU,CAAC,CAAC,CAAC,EAAE;UAClC,IAAI7B,CAAC,CAACd,KAAK,IAAI2C,UAAU,CAAC,CAAC,CAAC,EAAE;YAC1B,MAAMG,IAAI,GAAG5D,YAAY,CAAC0D,MAAM,EAAE,CAAC9B,CAAC,CAACQ,MAAM,CAAC,CAAC,CAAC,EAAER,CAAC,CAACQ,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;YAC7D,IAAIwB,IAAI,KAAK,CAAC,EAAE;cACZD,QAAQ,GAAG,IAAI;;YAEnB,IAAIC,IAAI,KAAK,CAAC,EAAE;cACZ,OAAO,CAAC;;;UAGhBhC,CAAC,GAAGA,CAAC,CAACZ,WAAwB;;QAElC,IAAI2C,QAAQ,EAAE;UACV,OAAO,CAAC;SACX,MAAM;UACH,OAAO,CAAC;;;;IAIpB,MAAM,IAAI9B,KAAK,CAAC,OAAO,CAAC;EAC5B","ignoreList":[]}]}