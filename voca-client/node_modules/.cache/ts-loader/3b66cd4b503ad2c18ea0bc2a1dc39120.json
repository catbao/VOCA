{"remainingRequest":"/ai/didi01/zhanglingyu/om3-extend/om3-client/node_modules/babel-loader/lib/index.js!/ai/didi01/zhanglingyu/om3-extend/om3-client/node_modules/ts-loader/index.js??ref--15-2!/ai/didi01/zhanglingyu/om3-extend/om3-client/node_modules/eslint-loader/index.js??ref--14-0!/ai/didi01/zhanglingyu/om3-extend/om3-client/src/application/line-interaction.ts","dependencies":[{"path":"/ai/didi01/zhanglingyu/om3-extend/om3-client/src/application/line-interaction.ts","mtime":1737624383829},{"path":"/ai/didi01/zhanglingyu/om3-extend/om3-client/babel.config.js","mtime":1732546288000},{"path":"/ai/didi01/zhanglingyu/om3-extend/om3-client/node_modules/cache-loader/dist/cjs.js","mtime":1732627998000},{"path":"/ai/didi01/zhanglingyu/om3-extend/om3-client/node_modules/babel-loader/lib/index.js","mtime":1732627998000},{"path":"/ai/didi01/zhanglingyu/om3-extend/om3-client/node_modules/ts-loader/index.js","mtime":1732627997000},{"path":"/ai/didi01/zhanglingyu/om3-extend/om3-client/node_modules/eslint-loader/index.js","mtime":1732627997000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJzsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKY2xhc3MgSW50ZXJhY3Rpb25JbmZvIHsKICBjb25zdHJ1Y3Rvcih0eXBlKSB7CiAgICB0aGlzLnR5cGUgPSB0eXBlOwogICAgdGhpcy5zaG93SW5mbyA9IFtdOwogICAgdGhpcy50aW1lUmFuZ2UgPSBbXTsKICAgIHRoaXMud2lkdGggPSAwOwogICAgdGhpcy5sZXZlbCA9IDA7CiAgfQogIHNldFNob3dJbmZvKHNob3dJbmZvKSB7CiAgICB0aGlzLnNob3dJbmZvID0gc2hvd0luZm87CiAgfQogIHNldFJhbmdlVyh0aW1lUmFuZ2UsIHdpZHRoLCBsZXZlbCkgewogICAgdGhpcy50aW1lUmFuZ2UgPSBbdGltZVJhbmdlWzBdLCB0aW1lUmFuZ2VbMV1dOwogICAgdGhpcy53aWR0aCA9IHdpZHRoOwogICAgdGhpcy5sZXZlbCA9IGxldmVsOwogIH0KfQpsZXQgaW50ZXJhY3Rpb25TdGFjayA9IFtdOwphc3luYyBmdW5jdGlvbiBnZXQodXJsKSB7CiAgdXJsID0gJ3Bvc3RncmVzJyArIHVybDsKICAvL2NvbnN0IGxvYWRpbmcgPSBvcGVuTG9hZGluZygpOwogIGNvbnN0IHsKICAgIGRhdGEKICB9ID0gYXdhaXQgYXhpb3MuZ2V0KHVybCk7CiAgLy9sb2FkaW5nLmNsb3NlKCk7CiAgcmV0dXJuIGRhdGE7Cn0KZnVuY3Rpb24gc2xlZXAodGltZSkgewogIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgdGltZSkpOwp9CmV4cG9ydCBmdW5jdGlvbiBkcmF3Vmlld0NoYW5nZUxpbmVDaGFydChsaW5lQ2hhcnRPYmosIGxpbmUxKSB7CiAgdmFyIF9kb2N1bWVudCRnZXRFbGVtZW50QjsKICBjb25zdCBzdmdFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ215X3N2ZycpOwogIGlmIChzdmdFbGVtZW50KSB7CiAgICBzdmdFbGVtZW50LnJlbW92ZSgpOwogIH0KICBsZXQgcmVhbFRpbWVTdGFtcFJhbmdlID0gW107CiAgbGV0IG5vZGVJbmRleFJhbmdlID0gW107CiAgbGV0IHJvd051bWJlciA9IGxpbmVDaGFydE9iai5tYXhMZW47IC8vLy8vLy8vLy8vLy/kv67mlLnliY0xMzEwNzIKICAvLyByZWFsVGltZVN0YW1wUmFuZ2UgPSBbbGluZUNoYXJ0T2JqLnN0YXJ0VGltZSxsaW5lQ2hhcnRPYmouZW5kVGltZV07CiAgcmVhbFRpbWVTdGFtcFJhbmdlID0gWzAsIHJvd051bWJlcl07CiAgbm9kZUluZGV4UmFuZ2UgPSBbbGluZUNoYXJ0T2JqLnRpbWVSYW5nZVswXSwgbGluZUNoYXJ0T2JqLnRpbWVSYW5nZVsxXV07CiAgbGV0IGlzSW5pdCA9IGZhbHNlOwogIGxldCBpc1Jlc2l6aW5nID0gZmFsc2U7CiAgbGV0IGlzUmViYWNraW5nID0gZmFsc2U7CiAgbGV0IGludGVyYWN0aXZlSW5mbyA9IHsKICAgIHN0YXJ0WDogMCwKICAgIHN0YXJ0WTogMCwKICAgIG9mZnNldFg6IDAsCiAgICBvZmZzZXRZOiAwLAogICAgaXNNb3VzZURvd246IGZhbHNlLAogICAgaXNNb3ZlOiBmYWxzZQogIH07CiAgY29uc3QgcGFkaW5nID0gewogICAgdG9wOiAyMCwKICAgIGJvdHRvbTogODAsCiAgICBsZWZ0OiA2MCwKICAgIHJpZ2h0OiAyMAogIH07CiAgY29uc3Qgc3ZnID0gZDMuc2VsZWN0KCIjY29udGVudC1jb250YWluZXIiKS5hcHBlbmQoInN2ZyIpOwogIHN2Zy5hdHRyKCJ3aWR0aCIsIGxpbmVDaGFydE9iai53aWR0aCArIHBhZGluZy5sZWZ0ICsgcGFkaW5nLnJpZ2h0KS5hdHRyKCJoZWlnaHQiLCBsaW5lQ2hhcnRPYmouaGVpZ2h0ICsgcGFkaW5nLnRvcCArIHBhZGluZy5ib3R0b20pLmF0dHIoInRyYW5zZm9ybSIsIGB0cmFuc2xhdGUoJHtsaW5lQ2hhcnRPYmoueH0sJHtsaW5lQ2hhcnRPYmoueX0pYCkuc3R5bGUoImJhY2tncm91bmQtY29sb3IiLCAiI2ZmZiIpLmF0dHIoImlkIiwgIm15X3N2ZyIpOwogIGNvbnN0IGZvcmVpZ25JZCA9IGBmb3JlaWduJHtsaW5lQ2hhcnRPYmoud2lkdGggKyBNYXRoLnJhbmRvbSgpfWA7CiAgY29uc3QgZm9yZWlnRyA9IHN2Zy5hcHBlbmQoImciKS5hdHRyKCJ0cmFuc2Zyb20iLCBgdHJhbnNsYXRlKCR7cGFkaW5nLmxlZnR9LCR7cGFkaW5nLnRvcH0pYCk7CiAgbGV0IGZvcmVpZ25PYmogPSBmb3JlaWdHLmFwcGVuZCgiZm9yZWlnbk9iamVjdCIpLmF0dHIoImlkIiwgZm9yZWlnbklkKS5hdHRyKCJ4IiwgcGFkaW5nLmxlZnQpLmF0dHIoInkiLCBwYWRpbmcudG9wKS5hdHRyKCd3aWR0aCcsIGxpbmVDaGFydE9iai53aWR0aCkuYXR0cignaGVpZ2h0JywgbGluZUNoYXJ0T2JqLmhlaWdodCk7CiAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIik7CiAgY2FudmFzLl9fZGF0YV9fID0ge307CiAgKF9kb2N1bWVudCRnZXRFbGVtZW50QiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGZvcmVpZ25JZCkpID09PSBudWxsIHx8IF9kb2N1bWVudCRnZXRFbGVtZW50QiA9PT0gdm9pZCAwIHx8IF9kb2N1bWVudCRnZXRFbGVtZW50Qi5hcHBlbmRDaGlsZChjYW52YXMpOwogIGNhbnZhcy53aWR0aCA9IGxpbmVDaGFydE9iai53aWR0aDsKICBjYW52YXMuaGVpZ2h0ID0gbGluZUNoYXJ0T2JqLmhlaWdodDsKICBsZXQgY3R4ID0gY2FudmFzLmdldENvbnRleHQoIjJkIik7CiAgY29uc3QgaW5kZXhUb1RpbWVTdGFtcFNjYWxlID0gZDMuc2NhbGVMaW5lYXIoKS5kb21haW4oW25vZGVJbmRleFJhbmdlWzBdLCBub2RlSW5kZXhSYW5nZVsxXV0pLnJhbmdlKFtyZWFsVGltZVN0YW1wUmFuZ2VbMF0sIHJlYWxUaW1lU3RhbXBSYW5nZVsxXV0pOwogIGNvbnN0IHhTY2FsZSA9IGQzLnNjYWxlTGluZWFyKCkuZG9tYWluKFswLCBsaW5lQ2hhcnRPYmoud2lkdGhdKS5yYW5nZShbMCwgbGluZUNoYXJ0T2JqLndpZHRoXSk7CiAgLy8gbGV0IHNob3dUaW1lWFNjYWxlOiBhbnkgPSBkMy5zY2FsZVRpbWUoKS5kb21haW4oW25ldyBEYXRlKHJlYWxUaW1lU3RhbXBSYW5nZVswXSksIG5ldyBEYXRlKHJlYWxUaW1lU3RhbXBSYW5nZVsxXSldKS5yYW5nZShbMCwgbGluZUNoYXJ0T2JqLndpZHRoXSk7CiAgbGV0IHNob3dUaW1lWFNjYWxlID0gZDMuc2NhbGVMaW5lYXIoKS5kb21haW4oWzAsIHJvd051bWJlcl0pLnJhbmdlKFswLCBsaW5lQ2hhcnRPYmoud2lkdGhdKTsKICBsZXQgeVNjYWxlID0gZDMuc2NhbGVMaW5lYXIoKS5kb21haW4oWy0xMDAwLCAxMDAwXSkucmFuZ2UoW2xpbmVDaGFydE9iai5oZWlnaHQsIDBdKTsKICBsZXQgeFJlU2NhbGUgPSBkMy5zY2FsZUxpbmVhcigpLmRvbWFpbihbMCwgbGluZUNoYXJ0T2JqLndpZHRoXSkucmFuZ2UoWzAsIHJvd051bWJlciAtIDFdKTsKICAvLyBsZXQgc2hvd1hUaW1lU2NhbGU6IGFueSA9IGQzLnNjYWxlVGltZSgpLmRvbWFpbihbMCw2NTUzNl0pLnJhbmdlKFswLCBsaW5lQ2hhcnRPYmoud2lkdGhdKTsKICBsZXQgc2hvd1hUaW1lU2NhbGUgPSBkMy5zY2FsZUxpbmVhcigpLmRvbWFpbihbMCwgcm93TnVtYmVyXSkucmFuZ2UoWzAsIGxpbmVDaGFydE9iai53aWR0aF0pOwogIGxldCB6b29tQXhpcyA9IGQzLmF4aXNCb3R0b20oc2hvd1RpbWVYU2NhbGUpOwogIGxldCB5QXhpcyA9IGQzLmF4aXNMZWZ0KHlTY2FsZSk7CiAgbGV0IHhBeGlzID0gZDMuYXhpc0JvdHRvbShzaG93WFRpbWVTY2FsZSk7CiAgY29uc3QgdGltZUJydXNoT2JqID0gZDMuYnJ1c2hYKCkuZXh0ZW50KFtbMCwgMTBdLCBbbGluZUNoYXJ0T2JqLndpZHRoLCA0MF1dKTsKICB0aW1lQnJ1c2hPYmoub24oImVuZCIsIGJydXNoZWQpOwogIHRpbWVCcnVzaE9iai5vbigic3RhcnQiLCAoKSA9PiB7CiAgICBjb25zb2xlLmxvZygic3RhcnQiKTsKICB9KTsKICBjb25zdCB0aW1lQm94RyA9IHN2Zy5hcHBlbmQoImciKS5hdHRyKCJ0cmFuc2Zvcm0iLCBgdHJhbnNsYXRlKCR7cGFkaW5nLmxlZnR9LCR7cGFkaW5nLnRvcCArIDUwICsgbGluZUNoYXJ0T2JqLmhlaWdodCAtIDIwfSlgKS5jYWxsKHRpbWVCcnVzaE9iaikuY2FsbCh0aW1lQnJ1c2hPYmoubW92ZSwgWzAsIGxpbmVDaGFydE9iai53aWR0aF0pOwogIGxldCB6b29tQXhpc0cgPSBzdmcuYXBwZW5kKCJnIikuYXR0cignc3R5bGUnLCAndXNlci1zZWxlY3Q6bm9uZScpLmF0dHIoInRyYW5zZm9ybSIsIGB0cmFuc2xhdGUoJHtwYWRpbmcubGVmdH0sJHtsaW5lQ2hhcnRPYmouaGVpZ2h0ICsgcGFkaW5nLnRvcCArIDUwfSlgKS5hdHRyKCJjbGFzcyIsICd4IGF4aXMnKS5jYWxsKHpvb21BeGlzKTsKICBsZXQgeEF4aXNHID0gc3ZnLmFwcGVuZCgiZyIpLmF0dHIoJ3N0eWxlJywgJ3VzZXItc2VsZWN0Om5vbmUnKS5hdHRyKCJ0cmFuc2Zvcm0iLCBgdHJhbnNsYXRlKCR7cGFkaW5nLmxlZnR9LCR7bGluZUNoYXJ0T2JqLmhlaWdodCArIHBhZGluZy50b3B9KWApLmF0dHIoImNsYXNzIiwgJ3ggYXhpcycpLmNhbGwoeEF4aXMpOwogIGxldCB5QXhpc0cgPSBzdmcuYXBwZW5kKCJnIikuYXR0cignc3R5bGUnLCAndXNlci1zZWxlY3Q6bm9uZScpLmF0dHIoInRyYW5zZm9ybSIsIGB0cmFuc2xhdGUoJHtwYWRpbmcubGVmdH0sJHtwYWRpbmcudG9wfSlgKS5hdHRyKCJjbGFzcyIsICd5IGF4aXMnKS5jYWxsKHlBeGlzKTsKICBmdW5jdGlvbiB1cGRhdGVDYW52YXNXaWR0aCgpIHsKICAgIC8vQHRzLWlnbm9yZQogICAgY2FudmFzLnN0eWxlLndpZHRoID0gbGluZUNoYXJ0T2JqLndpZHRoOwogICAgc3ZnLmF0dHIoIndpZHRoIiwgbGluZUNoYXJ0T2JqLndpZHRoICsgcGFkaW5nLmxlZnQgKyBwYWRpbmcucmlnaHQpLmF0dHIoImhlaWdodCIsIGxpbmVDaGFydE9iai5oZWlnaHQgKyBwYWRpbmcudG9wICsgcGFkaW5nLmJvdHRvbSk7CiAgICBmb3JlaWduT2JqLmF0dHIoIndpZHRoIiwgbGluZUNoYXJ0T2JqLndpZHRoKTsKICAgIHhTY2FsZS5kb21haW4oWzAsIGxpbmVDaGFydE9iai53aWR0aF0pLnJhbmdlKFswLCBsaW5lQ2hhcnRPYmoud2lkdGhdKTsKICAgIC8vIHNob3dUaW1lWFNjYWxlLmRvbWFpbihbbmV3IERhdGUocmVhbFRpbWVTdGFtcFJhbmdlWzBdKSwgbmV3IERhdGUocmVhbFRpbWVTdGFtcFJhbmdlWzFdKV0pLnJhbmdlKFswLCBsaW5lQ2hhcnRPYmoud2lkdGhdKTsKICAgIGlmIChsaW5lQ2hhcnRPYmoudGltZVJhbmdlWzFdIDw9IDApIHsKICAgICAgbGluZUNoYXJ0T2JqLnRpbWVSYW5nZVsxXSA9IHJvd051bWJlcjsKICAgIH0KICAgIHNob3dYVGltZVNjYWxlID0gZDMuc2NhbGVMaW5lYXIoKS5kb21haW4oW2xpbmVDaGFydE9iai50aW1lUmFuZ2VbMF0sIGxpbmVDaGFydE9iai50aW1lUmFuZ2VbMV1dKS5yYW5nZShbMCwgbGluZUNoYXJ0T2JqLndpZHRoXSk7CiAgICAvLyBzaG93WFRpbWVTY2FsZSA9IGQzLnNjYWxlVGltZSgpLmRvbWFpbihbbmV3IERhdGUoTWF0aC5mbG9vcihpbmRleFRvVGltZVN0YW1wU2NhbGUoMCkpKSwgbmV3IERhdGUoTWF0aC5mbG9vcihpbmRleFRvVGltZVN0YW1wU2NhbGUocm93TnVtYmVyKSkpXSkucmFuZ2UoWzAsIGxpbmVDaGFydE9iai53aWR0aF0pOwogICAgLy9zaG93VGltZVhTY2FsZS5yYW5nZShbMCwgbGluZUNoYXJ0T2JqLndpZHRoXSk7CiAgICBpZiAoem9vbUF4aXNHICE9IG51bGwpIHsKICAgICAgem9vbUF4aXNHLnJlbW92ZSgpOwogICAgICB6b29tQXhpc0cgPSBzdmcuYXBwZW5kKCJnIikuYXR0cignc3R5bGUnLCAndXNlci1zZWxlY3Q6bm9uZScpLmF0dHIoInRyYW5zZm9ybSIsIGB0cmFuc2xhdGUoJHtwYWRpbmcubGVmdH0sJHtsaW5lQ2hhcnRPYmouaGVpZ2h0ICsgcGFkaW5nLnRvcCArIDUwfSlgKS5hdHRyKCJjbGFzcyIsICd4IGF4aXMnKS5jYWxsKHpvb21BeGlzKTsKICAgIH0KICAgIHRpbWVCcnVzaE9iai5leHRlbnQoW1swLCAxMF0sIFtsaW5lQ2hhcnRPYmoud2lkdGgsIDQwXV0pOwogICAgdGltZUJydXNoT2JqLm9uKCJlbmQiLCBicnVzaGVkKTsKICAgIHRpbWVCcnVzaE9iai5vbigic3RhcnQiLCAoKSA9PiB7CiAgICAgIGNvbnNvbGUubG9nKCJzdGFydCIpOwogICAgfSk7CiAgICBjb25zdCB0ZW1wUmVTY2FsZSA9IGQzLnNjYWxlTGluZWFyKCkuZG9tYWluKFswLCBsaW5lQ2hhcnRPYmoubWF4TGVuIC0gMV0pLnJhbmdlKFswLCBsaW5lQ2hhcnRPYmoud2lkdGhdKTsKICAgIHRpbWVCb3hHLmNhbGwodGltZUJydXNoT2JqKS5jYWxsKHRpbWVCcnVzaE9iai5tb3ZlLCBbdGVtcFJlU2NhbGUobGluZUNoYXJ0T2JqLnRpbWVSYW5nZVswXSksIHRlbXBSZVNjYWxlKGxpbmVDaGFydE9iai50aW1lUmFuZ2VbMV0pXSk7CiAgICBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgiMmQiKTsKICB9CiAgYXN5bmMgZnVuY3Rpb24gZHJhdyhub25Vbmlmb3JtQ29sT2JqcykgewogICAgLy9hd2FpdCBzbGVlcCgxMCoxMDAwKQogICAgY2FudmFzLndpZHRoID0gbGluZUNoYXJ0T2JqLndpZHRoOwogICAgLy8geVNjYWxlID0gZDMuc2NhbGVMaW5lYXIoKS5kb21haW4oW2xpbmVDaGFydE9iai5kYXRhLm1pbnYsIGxpbmVDaGFydE9iai5kYXRhLm1heHZdKS5yYW5nZShbbGluZUNoYXJ0T2JqLmhlaWdodCwgMF0pOwogICAgeVNjYWxlID0gZDMuc2NhbGVMaW5lYXIoKS5kb21haW4oW2xpbmVDaGFydE9iai5taW5WLCBsaW5lQ2hhcnRPYmoubWF4Vl0pLnJhbmdlKFtsaW5lQ2hhcnRPYmouaGVpZ2h0LCAwXSk7CiAgICAvLyB5U2NhbGUgPSBkMy5zY2FsZUxpbmVhcigpLmRvbWFpbihbLWZpbmFsVmFsdWUsIGZpbmFsVmFsdWVdKS5yYW5nZShbbGluZUNoYXJ0T2JqLmhlaWdodCwgMF0pOwogICAgeUF4aXMgPSBkMy5heGlzTGVmdCh5U2NhbGUpOwogICAgaWYgKHlBeGlzRyAhPT0gbnVsbCAmJiB5QXhpc0cgIT09IHVuZGVmaW5lZCkgewogICAgICB5QXhpc0cucmVtb3ZlKCk7CiAgICB9CiAgICB5QXhpc0cgPSBzdmcuYXBwZW5kKCJnIikuYXR0cignc3R5bGUnLCAndXNlci1zZWxlY3Q6bm9uZScpLmF0dHIoInRyYW5zZm9ybSIsIGB0cmFuc2xhdGUoJHtwYWRpbmcubGVmdH0sJHtwYWRpbmcudG9wfSlgKS5hdHRyKCJjbGFzcyIsICd5IGF4aXMnKS5jYWxsKHlBeGlzKTsKICAgIC8vIHNob3dYVGltZVNjYWxlID0gZDMuc2NhbGVUaW1lKCkuZG9tYWluKFtuZXcgRGF0ZShNYXRoLmZsb29yKGluZGV4VG9UaW1lU3RhbXBTY2FsZShsaW5lQ2hhcnRPYmoudGltZVJhbmdlWzBdKSkpLCBuZXcgRGF0ZShNYXRoLmZsb29yKGluZGV4VG9UaW1lU3RhbXBTY2FsZShsaW5lQ2hhcnRPYmoudGltZVJhbmdlWzFdKSkpXSkucmFuZ2UoWzAsIGxpbmVDaGFydE9iai53aWR0aF0pOwogICAgLy8gbGluZUNoYXJ0T2JqLnRpbWVSYW5nZVswXSA9IHRpbWVSYW5nZVswXTsKICAgIC8vIGxpbmVDaGFydE9iai50aW1lUmFuZ2VbMV0gPSB0aW1lUmFuZ2VbMV07CiAgICBpZiAobGluZUNoYXJ0T2JqLnRpbWVSYW5nZVsxXSA8PSAwKSB7CiAgICAgIGxpbmVDaGFydE9iai50aW1lUmFuZ2VbMV0gPSByb3dOdW1iZXI7CiAgICB9CiAgICBzaG93WFRpbWVTY2FsZSA9IGQzLnNjYWxlTGluZWFyKCkuZG9tYWluKFtsaW5lQ2hhcnRPYmoudGltZVJhbmdlWzBdLCBsaW5lQ2hhcnRPYmoudGltZVJhbmdlWzFdXSkucmFuZ2UoWzAsIGxpbmVDaGFydE9iai53aWR0aF0pOwogICAgeEF4aXMgPSBkMy5heGlzQm90dG9tKHNob3dYVGltZVNjYWxlKTsKICAgIGlmICh4QXhpc0cgIT09IG51bGwgJiYgeEF4aXNHICE9PSB1bmRlZmluZWQpIHsKICAgICAgeEF4aXNHLnJlbW92ZSgpOwogICAgfQogICAgeEF4aXNHID0gc3ZnLmFwcGVuZCgiZyIpLmF0dHIoJ3N0eWxlJywgJ3VzZXItc2VsZWN0Om5vbmUnKS5hdHRyKCJ0cmFuc2Zvcm0iLCBgdHJhbnNsYXRlKCR7cGFkaW5nLmxlZnR9LCR7bGluZUNoYXJ0T2JqLmhlaWdodCArIHBhZGluZy50b3B9KWApLmF0dHIoImNsYXNzIiwgJ3ggYXhpcycpLmNhbGwoeEF4aXMpOwogICAgaWYgKGZvcmVpZ25PYmogPT0gbnVsbCAmJiBub25Vbmlmb3JtQ29sT2JqcykgewogICAgICB2YXIgX2RvY3VtZW50JGdldEVsZW1lbnRCMjsKICAgICAgZm9yZWlnbk9iaiA9IHN2Zy5hcHBlbmQoImZvcmVpZ25PYmplY3QiKS5hdHRyKCJpZCIsICJmb3JlaWduIikuYXR0cigneCcsIHBhZGluZy5sZWZ0KS5hdHRyKCd5JywgcGFkaW5nLnRvcCkuYXR0cignd2lkdGgnLCBsaW5lQ2hhcnRPYmoud2lkdGgpLmF0dHIoJ2hlaWdodCcsIGxpbmVDaGFydE9iai5oZWlnaHQpOwogICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKTsKICAgICAgKF9kb2N1bWVudCRnZXRFbGVtZW50QjIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZm9yZWlnbiIpKSA9PT0gbnVsbCB8fCBfZG9jdW1lbnQkZ2V0RWxlbWVudEIyID09PSB2b2lkIDAgfHwgX2RvY3VtZW50JGdldEVsZW1lbnRCMi5hcHBlbmRDaGlsZChjYW52YXMpOwogICAgICBjYW52YXMud2lkdGggPSBsaW5lQ2hhcnRPYmoud2lkdGg7CiAgICAgIGNhbnZhcy5oZWlnaHQgPSBsaW5lQ2hhcnRPYmouaGVpZ2h0OwogICAgICBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgiMmQiKTsKICAgIH0KICAgIG5vblVuaWZvcm1Db2xPYmpzID0gbm9uVW5pZm9ybUNvbE9ianNbMF07CiAgICBpZiAobm9uVW5pZm9ybUNvbE9ianMgJiYgY3R4KSB7CiAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgbGluZUNoYXJ0T2JqLndpZHRoLCBsaW5lQ2hhcnRPYmouaGVpZ2h0KTsKICAgICAgY3R4LmJlZ2luUGF0aCgpOwogICAgICBjdHguc3Ryb2tlU3R5bGUgPSAic3RlZWxibHVlIjsKICAgICAgbGV0IGludGVydmFsID0gKG5vblVuaWZvcm1Db2xPYmpzWzBdLmV0IC0gbm9uVW5pZm9ybUNvbE9ianNbMF0uc3QpIC8gMzsKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBub25Vbmlmb3JtQ29sT2Jqcy5sZW5ndGg7IGkrKykgewogICAgICAgIGN0eC5tb3ZlVG8oc2hvd1hUaW1lU2NhbGUobm9uVW5pZm9ybUNvbE9ianNbaV0uc3QpLCB5U2NhbGUobm9uVW5pZm9ybUNvbE9ianNbaV0uc3YpKTsKICAgICAgICBjdHgubGluZVRvKHNob3dYVGltZVNjYWxlKG5vblVuaWZvcm1Db2xPYmpzW2ldLnN0ICsgaW50ZXJ2YWwgKiAyKSwgeVNjYWxlKG5vblVuaWZvcm1Db2xPYmpzW2ldLm1pbikpOwogICAgICAgIGN0eC5tb3ZlVG8oc2hvd1hUaW1lU2NhbGUobm9uVW5pZm9ybUNvbE9ianNbaV0uc3QgKyBpbnRlcnZhbCAqIDIpLCB5U2NhbGUobm9uVW5pZm9ybUNvbE9ianNbaV0ubWluKSk7CiAgICAgICAgY3R4LmxpbmVUbyhzaG93WFRpbWVTY2FsZShub25Vbmlmb3JtQ29sT2Jqc1tpXS5zdCArIGludGVydmFsICogMyksIHlTY2FsZShub25Vbmlmb3JtQ29sT2Jqc1tpXS5tYXgpKTsKICAgICAgICBjdHgubW92ZVRvKHNob3dYVGltZVNjYWxlKG5vblVuaWZvcm1Db2xPYmpzW2ldLnN0ICsgaW50ZXJ2YWwgKiAzKSwgeVNjYWxlKG5vblVuaWZvcm1Db2xPYmpzW2ldLm1heCkpOwogICAgICAgIGN0eC5saW5lVG8oc2hvd1hUaW1lU2NhbGUobm9uVW5pZm9ybUNvbE9ianNbaV0uZXQpLCB5U2NhbGUobm9uVW5pZm9ybUNvbE9ianNbaV0uZXYpKTsKICAgICAgICBpZiAoaSA8PSBub25Vbmlmb3JtQ29sT2Jqcy5sZW5ndGggLSAyKSB7CiAgICAgICAgICBjdHgubW92ZVRvKHNob3dYVGltZVNjYWxlKG5vblVuaWZvcm1Db2xPYmpzW2ldLmV0KSwgeVNjYWxlKG5vblVuaWZvcm1Db2xPYmpzW2ldLmV2KSk7CiAgICAgICAgICBjdHgubGluZVRvKHNob3dYVGltZVNjYWxlKG5vblVuaWZvcm1Db2xPYmpzW2kgKyAxXS5zdCksIHlTY2FsZShub25Vbmlmb3JtQ29sT2Jqc1tpICsgMV0uc3YpKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgY3R4LnN0cm9rZSgpOwogICAgfSBlbHNlIHsKICAgICAgY29uc29sZS5sb2coImVycm9yIik7CiAgICB9CiAgfQogIC8vQHRzLWlnbm9yZQogIGFzeW5jIGZ1bmN0aW9uIGJydXNoZWQoewogICAgc2VsZWN0aW9uCiAgfSkgewogICAgaWYgKCFpc0luaXQpIHsKICAgICAgaXNJbml0ID0gdHJ1ZTsKICAgICAgcmV0dXJuOwogICAgfQogICAgLy8gaWYgKGlzUmVzaXppbmcpIHsKICAgIC8vICAgICBpc1JlYmFja2luZyA9IGZhbHNlOwogICAgLy8gICAgIHJldHVybjsKICAgIC8vIH0KICAgIC8vIGlmIChpc1JlYmFja2luZykgewogICAgLy8gICAgIGlzUmViYWNraW5nID0gZmFsc2U7CiAgICAvLyAgICAgcmV0dXJuCiAgICAvLyB9CiAgICBjb25zdCB0aW1lUmFuZ2UgPSBbTWF0aC5mbG9vcih4UmVTY2FsZShzZWxlY3Rpb25bMF0pKSwgTWF0aC5mbG9vcih4UmVTY2FsZShzZWxlY3Rpb25bMV0pKV07CiAgICBpZiAodGltZVJhbmdlWzBdIDwgMCkgewogICAgICB0aW1lUmFuZ2VbMF0gPSAwOwogICAgfQogICAgaWYgKHRpbWVSYW5nZVsxXSA+IHJvd051bWJlcikgewogICAgICB0aW1lUmFuZ2VbMV0gPSByb3dOdW1iZXI7CiAgICB9CiAgICBjb25zdCBpbnRlckluZm8gPSBuZXcgSW50ZXJhY3Rpb25JbmZvKCJ6b29tIik7CiAgICBsaW5lQ2hhcnRPYmoudGltZVJhbmdlWzBdID0gdGltZVJhbmdlWzBdOwogICAgbGluZUNoYXJ0T2JqLnRpbWVSYW5nZVsxXSA9IHRpbWVSYW5nZVsxXTsKICAgIGludGVySW5mby5zZXRSYW5nZVcobGluZUNoYXJ0T2JqLnRpbWVSYW5nZSwgbGluZUNoYXJ0T2JqLndpZHRoLCBsaW5lQ2hhcnRPYmouY3VycmVudExldmVsKTsKICAgIGludGVyYWN0aW9uU3RhY2sucHVzaChpbnRlckluZm8pOwogICAgY29uc29sZS5sb2coImJydXNoLi4uLiIpOwogICAgY29uc29sZS5sb2coJ2JydXNoZWQ6JywgdGltZVJhbmdlKTsKICAgIC8vIGNvbnNvbGUubG9nKCdicnVzaGVkOicscm93TnVtYmVyKQogICAgLy8gY29uc29sZS5sb2coJ2JydXNoZWQ6JyxsaW5lMSkKICAgIGxldCBwYXJhbXMgPSBsaW5lMTsKICAgIGxldCB0YWJsZV9uYW1lID0gcGFyYW1zWzBdOwogICAgbGV0IGNvbHVtbnMgPSBwYXJhbXNbMV07CiAgICBsZXQgc3ltYm9sID0gcGFyYW1zWzJdOwogICAgbGV0IGV4cGVyaW1lbnQgPSBwYXJhbXNbM107CiAgICBsZXQgd2lkdGggPSBwYXJhbXNbNF0ud2lkdGg7CiAgICBsZXQgaGVpZ2h0ID0gcGFyYW1zWzRdLmhlaWdodDsKICAgIGxldCBtb2RlID0gcGFyYW1zWzZdOwogICAgbGV0IHBhcmFsbGVsID0gMTsKICAgIGxldCBlcnJvckJvdW5kID0gcGFyYW1zWzVdLl92YWx1ZTsKICAgIGxldCBzdGFydFRpbWUgPSB0aW1lUmFuZ2VbMF07CiAgICBsZXQgZW5kVGltZSA9IHRpbWVSYW5nZVsxXTsKICAgIGxldCBpbnRlcmFjdF90eXBlID0gJyc7CiAgICBsZXQgYWdncmVnYXRlID0gcGFyYW1zWzddOwogICAgaWYgKHN5bWJvbCA9PSAnKycpIHsKICAgICAgc3ltYm9sID0gJ3BsdXMnOwogICAgfSBlbHNlIGlmIChzeW1ib2wgPT0gJy0nKSB7CiAgICAgIHN5bWJvbCA9ICdtaW51cyc7CiAgICB9IGVsc2UgaWYgKHN5bWJvbCA9PSAnKicpIHsKICAgICAgc3ltYm9sID0gJ211bHRpJzsKICAgIH0gZWxzZSBpZiAoc3ltYm9sID09ICcvJykgewogICAgICBzeW1ib2wgPSAnZGV2aWRlJzsKICAgIH0KICAgIGNvbnNvbGUubG9nKHRhYmxlX25hbWUsIGV4cGVyaW1lbnQsIGNvbHVtbnMsIHN5bWJvbCwgJycsIHdpZHRoLCBoZWlnaHQsIG1vZGUsIHBhcmFsbGVsLCBlcnJvckJvdW5kLCBzdGFydFRpbWUsIGVuZFRpbWUsIGludGVyYWN0X3R5cGUsIGFnZ3JlZ2F0ZSk7CiAgICAvL2h0dHA6Ly8xMC4xNi4xMy4yMTozNTgxMS9wb3N0Z3Jlcy9saW5lX2NoYXJ0L3N0YXJ0P3RhYmxlX25hbWU9dGVzdHRvJmNvbHVtbnM9djEsdjIsdjMsdjQmc3ltYm9sPSsmbW9kZT1zaW5nbGUmd2lkdGg9NjAwJmhlaWdodD02MDAmc3RhcnRUaW1lPTAmZW5kVGltZT0tMSZpbnRlcmFjdF90eXBlPXpvb20mZXhwZXJpbWVudD1vdXJzJnBhcmFsbGVsPTAmZXJyb3JCb3VuZD0wLjAxCiAgICBsZXQgY29tYmluZWRVcmwgPSBgL2xpbmVfY2hhcnQvc3RhcnQ/dGFibGVfbmFtZT0ke3RhYmxlX25hbWV9JmNvbHVtbnM9JHtjb2x1bW5zfSZzeW1ib2w9JHtzeW1ib2x9Jm1vZGU9JHttb2RlfSZ3aWR0aD0ke3dpZHRofSZoZWlnaHQ9JHtoZWlnaHR9JnN0YXJ0VGltZT0ke3N0YXJ0VGltZX0mZW5kVGltZT0ke2VuZFRpbWV9JmludGVyYWN0X3R5cGU9JHtpbnRlcmFjdF90eXBlfSZleHBlcmltZW50PSR7ZXhwZXJpbWVudH0mcGFyYWxsZWw9JHtwYXJhbGxlbH0mZXJyb3JCb3VuZD0ke2Vycm9yQm91bmR9JmFnZ3JlZ2F0ZT0ke2FnZ3JlZ2F0ZX1gOwogICAgY29uc3Qgc2hvd0NvbHVtbnMgPSBhd2FpdCBnZXQoY29tYmluZWRVcmwpOwogICAgZHJhdyhzaG93Q29sdW1uc1snTTRfYXJyYXlzJ10pOwogIH0KICBhc3luYyBmdW5jdGlvbiByZXNpemVXKHdpZHRoKSB7CiAgICBpc1Jlc2l6aW5nID0gdHJ1ZTsKICAgIGNvbnN0IGN1cnJlbnRMZXZlbCA9IGxpbmVDaGFydE9iai5jdXJyZW50TGV2ZWw7CiAgICBsaW5lQ2hhcnRPYmoud2lkdGggPSB3aWR0aDsKICAgIHVwZGF0ZUNhbnZhc1dpZHRoKCk7CiAgICAvL0B0cy1pZ25vcmUKICAgIGNhbnZhcy5zdHlsZS53aWR0aCA9IGxpbmVDaGFydE9iai53aWR0aDsKICAgIGNvbnNvbGUubG9nKCJyZXNpemUuLi4uIik7CiAgICBjb25zb2xlLmxvZyh3aWR0aCk7CiAgICAvLyBsZXQgbW9kZSA9ICJjb21wdXRlIjsKICAgIC8vIGxldCB0eXBlID0gIiIKICAgIC8vIGxldCBwYXJhbGxlbCA9IDA7CiAgICAvLyBsZXQgZXJyb3JCb3VuZCA9IDA7CiAgICAvLyBjb25zdCBjb21iaW5lZFVybCA9IGAvbGluZV9jaGFydC9jYXNlMT90YWJsZV9uYW1lPSR7bGluZTFbMF19JnRhYmxlX25hbWVfb3RoZXJzPSR7bGluZTFbMV19JnN5bWJvbD0ke2xpbmUxWzJdfSZtb2RlPSR7bW9kZX0md2lkdGg9JHtsaW5lQ2hhcnRPYmoud2lkdGh9JmhlaWdodD0ke2xpbmVDaGFydE9iai5oZWlnaHR9JnN0YXJ0VGltZT0ke2xpbmVDaGFydE9iai50aW1lUmFuZ2VbMF19JmVuZFRpbWU9JHtsaW5lQ2hhcnRPYmoudGltZVJhbmdlWzFdfSZpbnRlcmFjdF90eXBlPSR7dHlwZX0mZXhwZXJpbWVudD0ke2xpbmUxWzNdfSZwYXJhbGxlbD0ke3BhcmFsbGVsfSZlcnJvckJvdW5kPSR7ZXJyb3JCb3VuZH1gOwogICAgbGV0IHBhcmFtcyA9IGxpbmUxOwogICAgbGV0IHRhYmxlX25hbWUgPSBwYXJhbXNbMF07CiAgICBsZXQgY29sdW1ucyA9IHBhcmFtc1sxXTsKICAgIGxldCBzeW1ib2wgPSBwYXJhbXNbMl07CiAgICBsZXQgZXhwZXJpbWVudCA9IHBhcmFtc1szXTsKICAgIC8vbGV0IHdpZHRoID0gcGFyYW1zWzRdLndpZHRoCiAgICBsZXQgaGVpZ2h0ID0gcGFyYW1zWzRdLmhlaWdodDsKICAgIGxldCBtb2RlID0gcGFyYW1zWzZdOwogICAgbGV0IHBhcmFsbGVsID0gMTsKICAgIGxldCBlcnJvckJvdW5kID0gcGFyYW1zWzVdLl92YWx1ZTsKICAgIC8v6KaB5L+u5pS5CiAgICBsZXQgc3RhcnRUaW1lID0gMDsKICAgIGxldCBlbmRUaW1lID0gLTE7CiAgICBsZXQgaW50ZXJhY3RfdHlwZSA9ICcnOwogICAgbGV0IGFnZ3JlZ2F0ZSA9IHBhcmFtc1s3XTsKICAgIGlmIChzeW1ib2wgPT0gJysnKSB7CiAgICAgIHN5bWJvbCA9ICdwbHVzJzsKICAgIH0gZWxzZSBpZiAoc3ltYm9sID09ICctJykgewogICAgICBzeW1ib2wgPSAnbWludXMnOwogICAgfSBlbHNlIGlmIChzeW1ib2wgPT0gJyonKSB7CiAgICAgIHN5bWJvbCA9ICdtdWx0aSc7CiAgICB9IGVsc2UgaWYgKHN5bWJvbCA9PSAnLycpIHsKICAgICAgc3ltYm9sID0gJ2RldmlkZSc7CiAgICB9CiAgICBjb25zb2xlLmxvZyh0YWJsZV9uYW1lLCBleHBlcmltZW50LCBjb2x1bW5zLCBzeW1ib2wsICcnLCB3aWR0aCwgaGVpZ2h0LCBtb2RlLCBwYXJhbGxlbCwgZXJyb3JCb3VuZCwgc3RhcnRUaW1lLCBlbmRUaW1lLCBpbnRlcmFjdF90eXBlLCBhZ2dyZWdhdGUpOwogICAgLy9odHRwOi8vMTAuMTYuMTMuMjE6MzU4MTEvcG9zdGdyZXMvbGluZV9jaGFydC9zdGFydD90YWJsZV9uYW1lPXRlc3R0byZjb2x1bW5zPXYxLHYyLHYzLHY0JnN5bWJvbD0rJm1vZGU9c2luZ2xlJndpZHRoPTYwMCZoZWlnaHQ9NjAwJnN0YXJ0VGltZT0wJmVuZFRpbWU9LTEmaW50ZXJhY3RfdHlwZT16b29tJmV4cGVyaW1lbnQ9b3VycyZwYXJhbGxlbD0wJmVycm9yQm91bmQ9MC4wMQogICAgbGV0IGNvbWJpbmVkVXJsID0gYC9saW5lX2NoYXJ0L3N0YXJ0P3RhYmxlX25hbWU9JHt0YWJsZV9uYW1lfSZjb2x1bW5zPSR7Y29sdW1uc30mc3ltYm9sPSR7c3ltYm9sfSZtb2RlPSR7bW9kZX0md2lkdGg9JHt3aWR0aH0maGVpZ2h0PSR7aGVpZ2h0fSZzdGFydFRpbWU9JHtzdGFydFRpbWV9JmVuZFRpbWU9JHtlbmRUaW1lfSZpbnRlcmFjdF90eXBlPSR7aW50ZXJhY3RfdHlwZX0mZXhwZXJpbWVudD0ke2V4cGVyaW1lbnR9JnBhcmFsbGVsPSR7cGFyYWxsZWx9JmVycm9yQm91bmQ9JHtlcnJvckJvdW5kfSZhZ2dyZWdhdGU9JHtlcnJvckJvdW5kfWA7CiAgICBjb25zdCBzaG93Q29sdW1ucyA9IGF3YWl0IGdldChjb21iaW5lZFVybCk7CiAgICBkcmF3KHNob3dDb2x1bW5zWydNNF9hcnJheXMnXSk7CiAgfQogIGxldCBpc01vdXNlb3ZlciA9IGZhbHNlOwogIGxldCBzdGFydE9mZnNldFggPSAwOwogIGNvbnN0IGRyYWdSZWN0ID0gc3ZnLmFwcGVuZCgicmVjdCIpLmF0dHIoIngiLCAwKS5hdHRyKCJ5IiwgMCkuYXR0cigiaGVpZ2h0IiwgbGluZUNoYXJ0T2JqLmhlaWdodCArIHBhZGluZy50b3AgKyBwYWRpbmcuYm90dG9tKS5hdHRyKCJ3aWR0aCIsIGxpbmVDaGFydE9iai53aWR0aCArIHBhZGluZy5sZWZ0ICsgcGFkaW5nLnJpZ2h0KS5hdHRyKCJzdHJva2UiLCAiYmxhY2siKS5hdHRyKCJzdHJva2Utd2lkdGgiLCA0KS5hdHRyKCJmaWxsIiwgIm5vbmUiKS5vbigibW91c2VvdmVyIiwgKCkgPT4gewogICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3IgPSAnZXctcmVzaXplJzsKICAgIGlzTW91c2VvdmVyID0gdHJ1ZTsKICB9KS5vbigibW91c2Vkb3duIiwgZSA9PiB7CiAgICBpZiAoaXNNb3VzZW92ZXIpIHsKICAgICAgc3RhcnRPZmZzZXRYID0gZS5vZmZzZXRYOwogICAgICBpbnRlcmFjdGl2ZUluZm8uaXNNb3VzZURvd24gPSB0cnVlOwogICAgfQogIH0pLm9uKCJtb3VzZXVwIiwgKCkgPT4gewogICAgY29uc29sZS5sb2coKTsKICB9KS5vbigibW91c2Vtb3ZlIiwgZSA9PiB7CiAgICBpZiAoaW50ZXJhY3RpdmVJbmZvLmlzTW91c2VEb3duKSB7CiAgICAgIHN2Zy5hdHRyKCJ3aWR0aCIsIGxpbmVDaGFydE9iai53aWR0aCArIHBhZGluZy5yaWdodCArIHBhZGluZy5sZWZ0ICsgKGUub2Zmc2V0WCAtIHN0YXJ0T2Zmc2V0WCkpOwogICAgICBkcmFnUmVjdC5hdHRyKCJ3aWR0aCIsIGxpbmVDaGFydE9iai53aWR0aCArIHBhZGluZy5yaWdodCArIHBhZGluZy5sZWZ0ICsgKGUub2Zmc2V0WCAtIHN0YXJ0T2Zmc2V0WCkpOwogICAgfQogIH0pLm9uKCJtb3VzZWxlYXZlIiwgKCkgPT4gewogICAgaWYgKCFpbnRlcmFjdGl2ZUluZm8uaXNNb3VzZURvd24pIHsKICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3IgPSAnZGVmYXVsdCc7CiAgICB9CiAgfSk7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNvbnRlbnQtY29udGFpbmVyIikuYWRkRXZlbnRMaXN0ZW5lcigibW91c2Vtb3ZlIiwgZSA9PiB7CiAgICBpZiAoaW50ZXJhY3RpdmVJbmZvLmlzTW91c2VEb3duKSB7CiAgICAgIHN2Zy5hdHRyKCJ3aWR0aCIsIGxpbmVDaGFydE9iai53aWR0aCArIHBhZGluZy5yaWdodCArIHBhZGluZy5sZWZ0ICsgKGUub2Zmc2V0WCAtIHN0YXJ0T2Zmc2V0WCkpOwogICAgICBkcmFnUmVjdC5hdHRyKCJ3aWR0aCIsIGxpbmVDaGFydE9iai53aWR0aCArIHBhZGluZy5yaWdodCArIHBhZGluZy5sZWZ0ICsgKGUub2Zmc2V0WCAtIHN0YXJ0T2Zmc2V0WCkpOwogICAgfQogIH0pOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjb250ZW50LWNvbnRhaW5lciIpLmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNldXAiLCBlID0+IHsKICAgIGlmIChpbnRlcmFjdGl2ZUluZm8uaXNNb3VzZURvd24pIHsKICAgICAgaW50ZXJhY3RpdmVJbmZvLmlzTW91c2VEb3duID0gZmFsc2U7CiAgICAgIGlzTW91c2VvdmVyID0gZmFsc2U7CiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuY3Vyc29yID0gJ2RlZmF1bHQnOwogICAgICBsZXQgcHJlV2lkdGggPSBsaW5lQ2hhcnRPYmoud2lkdGg7CiAgICAgIGxpbmVDaGFydE9iai53aWR0aCA9IGxpbmVDaGFydE9iai53aWR0aCArIChlLm9mZnNldFggLSBzdGFydE9mZnNldFgpOwogICAgICBpZiAobGluZUNoYXJ0T2JqLndpZHRoID09PSBwcmVXaWR0aCkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBjb25zdCBpbnRlckluZm8gPSBuZXcgSW50ZXJhY3Rpb25JbmZvKCJyZXNpemUiKTsKICAgICAgaW50ZXJJbmZvLnNldFJhbmdlVyhsaW5lQ2hhcnRPYmoudGltZVJhbmdlLCBsaW5lQ2hhcnRPYmoud2lkdGgsIGxpbmVDaGFydE9iai5jdXJyZW50TGV2ZWwpOwogICAgICBpbnRlcmFjdGlvblN0YWNrLnB1c2goaW50ZXJJbmZvKTsKICAgICAgcmVzaXplVyhsaW5lQ2hhcnRPYmoud2lkdGgpOwogICAgfQogIH0pOwogIHJldHVybiBkcmF3Owp9CmZ1bmN0aW9uIGNvbXB1dGVNaW5NYXgoY29sdW1JbmZvKSB7CiAgbGV0IG1pbiA9IEluZmluaXR5OwogIGxldCBtYXggPSAtSW5maW5pdHk7CiAgZm9yIChsZXQgaiA9IDA7IGogPCBjb2x1bUluZm8ubGVuZ3RoOyBqKyspIHsKICAgIGlmIChjb2x1bUluZm9bal0udlJhbmdlWzBdIDwgbWluKSB7CiAgICAgIG1pbiA9IGNvbHVtSW5mb1tqXS52UmFuZ2VbMF07CiAgICB9CiAgICBpZiAoY29sdW1JbmZvW2pdLnZSYW5nZVsxXSA+IG1heCkgewogICAgICBtYXggPSBjb2x1bUluZm9bal0udlJhbmdlWzFdOwogICAgfQogIH0KICByZXR1cm4gewogICAgbWluLAogICAgbWF4CiAgfTsKfQpmdW5jdGlvbiBzYXZlUE5HKGNhbnZhcykgewogIGNvbnN0IGltZ1VSTCA9IGNhbnZhcy50b0RhdGFVUkwoIi4vaW1hZ2UvcG5nIik7CiAgY29uc3QgZGxMaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpOwogIGRsTGluay5kb3dubG9hZCA9IGAxYl96b29tX2luaXRgOwogIGRsTGluay5ocmVmID0gaW1nVVJMOwogIGRsTGluay5kYXRhc2V0LmRvd25sb2FkdXJsID0gWyIuL2ltYWdlL3BuZyIsIGRsTGluay5kb3dubG9hZCwgZGxMaW5rLmhyZWZdLmpvaW4oIjoiKTsKICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRsTGluayk7CiAgZGxMaW5rLmNsaWNrKCk7CiAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChkbExpbmspOwp9"},{"version":3,"names":["d3","axios","InteractionInfo","constructor","type","showInfo","timeRange","width","level","setShowInfo","setRangeW","interactionStack","get","url","data","sleep","time","Promise","resolve","setTimeout","drawViewChangeLineChart","lineChartObj","line1","_document$getElementB","svgElement","document","getElementById","remove","realTimeStampRange","nodeIndexRange","rowNumber","maxLen","isInit","isResizing","isRebacking","interactiveInfo","startX","startY","offsetX","offsetY","isMouseDown","isMove","pading","top","bottom","left","right","svg","select","append","attr","height","x","y","style","foreignId","Math","random","foreigG","foreignObj","canvas","createElement","__data__","appendChild","ctx","getContext","indexToTimeStampScale","scaleLinear","domain","range","xScale","showTimeXScale","yScale","xReScale","showXTimeScale","zoomAxis","axisBottom","yAxis","axisLeft","xAxis","timeBrushObj","brushX","extent","on","brushed","console","log","timeBoxG","call","move","zoomAxisG","xAxisG","yAxisG","updateCanvasWidth","tempReScale","draw","nonUniformColObjs","minV","maxV","undefined","_document$getElementB2","clearRect","beginPath","strokeStyle","interval","et","st","i","length","moveTo","sv","lineTo","min","max","ev","stroke","selection","floor","interInfo","currentLevel","push","params","table_name","columns","symbol","experiment","mode","parallel","errorBound","_value","startTime","endTime","interact_type","aggregate","combinedUrl","showColumns","resizeW","isMouseover","startOffsetX","dragRect","body","cursor","e","addEventListener","preWidth","computeMinMax","columInfo","Infinity","j","vRange","savePNG","imgURL","toDataURL","dlLink","download","href","dataset","downloadurl","join","click","removeChild"],"sources":["/ai/didi01/zhanglingyu/om3-extend/om3-client/node_modules/eslint-loader/index.js??ref--14-0!/ai/didi01/zhanglingyu/om3-extend/om3-client/src/application/line-interaction.ts"],"sourcesContent":["\n\nimport  NoUniformColObj  from \"@/model/non-uniform-col-obj\";\nimport store, { GlobalState, ViewChangeLineChartObj } from \"@/store\";\nimport * as d3 from 'd3';\nimport { Commit, ActionContext, ActionHandler } from 'vuex'\nimport axios from \"axios\";\nimport { formatRenderDataForViewChange, formatNonPowDataForViewChange } from '../helper/format-data';\nclass InteractionInfo {\n    type: string\n    showInfo: Array<boolean>\n    timeRange: Array<number>\n    width: number\n    level: number\n    constructor(type: string) {\n        this.type = type;\n        this.showInfo = [];\n        this.timeRange = [];\n        this.width = 0;\n        this.level = 0;\n    }\n    setShowInfo(showInfo: Array<boolean>) {\n        this.showInfo = showInfo;\n    }\n    setRangeW(timeRange: Array<number>, width: number, level: number) {\n        this.timeRange = [timeRange[0], timeRange[1]];\n        this.width = width;\n        this.level = level;\n    }\n\n}\nlet interactionStack: Array<InteractionInfo> = [];\n\nasync function get(url: string) {\n    url = 'postgres' + url;\n    //const loading = openLoading();\n    const { data } = await axios.get(url);\n    //loading.close();\n    return data;\n}\n\nfunction sleep (time: number | undefined) {\n    return new Promise((resolve) => setTimeout(resolve, time));\n}\n\nexport function drawViewChangeLineChart(lineChartObj: ViewChangeLineChartObj, line1:any) {\n\n    const svgElement = document.getElementById('my_svg'); \n    if(svgElement){ \n        svgElement.remove(); \n    }\n    \n\n    let realTimeStampRange: Array<number> = [];\n    let nodeIndexRange: Array<number> = []\n    let rowNumber = lineChartObj.maxLen;/////////////修改前131072\n    // realTimeStampRange = [lineChartObj.startTime,lineChartObj.endTime];\n    realTimeStampRange = [0, rowNumber];\n    nodeIndexRange = [lineChartObj.timeRange[0],lineChartObj.timeRange[1]];\n    \n    let isInit = false;\n    let isResizing = false;\n    let isRebacking = false;\n    let interactiveInfo = {\n        startX: 0,\n        startY: 0,\n        offsetX: 0,\n        offsetY: 0,\n        isMouseDown: false,\n        isMove: false,\n    };\n    const pading = { top: 20, bottom: 80, left: 60, right: 20 };\n    const svg = d3.select(\"#content-container\").append(\"svg\");\n    svg\n        .attr(\"width\", lineChartObj.width + pading.left + pading.right)\n        .attr(\"height\", lineChartObj.height + pading.top + pading.bottom)\n        .attr(\"transform\", `translate(${lineChartObj.x},${lineChartObj.y})`)\n        .style(\"background-color\", \"#fff\")\n        .attr(\"id\",\"my_svg\"); \n\n\n\n\n    const foreignId = `foreign${lineChartObj.width + Math.random()}`;\n    const foreigG = svg.append(\"g\").attr(\"transfrom\", `translate(${pading.left},${pading.top})`)\n    let foreignObj: any = foreigG.append(\"foreignObject\").attr(\"id\", foreignId).attr(\"x\", pading.left).attr(\"y\", pading.top).attr('width', lineChartObj.width).attr('height', lineChartObj.height);\n    const canvas = document.createElement(\"canvas\");\n    (canvas as any).__data__ = {}\n    document.getElementById(foreignId)?.appendChild(canvas);\n    canvas.width = lineChartObj.width;\n    canvas.height = lineChartObj.height;\n    let ctx = canvas.getContext(\"2d\");\n\n    const indexToTimeStampScale = d3.scaleLinear().domain([nodeIndexRange[0], nodeIndexRange[1]]).range([realTimeStampRange[0], realTimeStampRange[1]]);\n    const xScale: any = d3.scaleLinear().domain([0, lineChartObj.width]).range([0, lineChartObj.width]);\n    // let showTimeXScale: any = d3.scaleTime().domain([new Date(realTimeStampRange[0]), new Date(realTimeStampRange[1])]).range([0, lineChartObj.width]);\n    let showTimeXScale: any = d3.scaleLinear().domain([0, rowNumber]).range([0, lineChartObj.width]);\n    let yScale: any = d3.scaleLinear().domain([-1000, 1000]).range([lineChartObj.height, 0]);\n    let xReScale = d3.scaleLinear().domain([0, lineChartObj.width]).range([0, rowNumber - 1]);\n    // let showXTimeScale: any = d3.scaleTime().domain([0,65536]).range([0, lineChartObj.width]);\n    let showXTimeScale: any = d3.scaleLinear().domain([0,rowNumber]).range([0, lineChartObj.width]);\n\n    let zoomAxis = d3.axisBottom(showTimeXScale);\n    let yAxis = d3.axisLeft(yScale)\n    let xAxis = d3.axisBottom(showXTimeScale)\n    const timeBrushObj = d3.brushX().extent([[0, 10], [lineChartObj.width, 40]]);\n\n    timeBrushObj.on(\"end\", brushed);\n    timeBrushObj.on(\"start\", () => {\n        console.log(\"start\")\n    })\n    const timeBoxG = svg.append(\"g\").attr(\"transform\", `translate(${pading.left},${pading.top + 50 + lineChartObj.height - 20})`).call(timeBrushObj).call(timeBrushObj.move, [0, lineChartObj.width]);\n    let zoomAxisG = svg.append(\"g\").attr('style', 'user-select:none').attr(\"transform\", `translate(${pading.left},${lineChartObj.height + pading.top + 50})`).attr(\"class\", 'x axis').call(zoomAxis)\n    let xAxisG = svg.append(\"g\").attr('style', 'user-select:none').attr(\"transform\", `translate(${pading.left},${lineChartObj.height + pading.top})`).attr(\"class\", 'x axis').call(xAxis)\n    let yAxisG = svg.append(\"g\").attr('style', 'user-select:none').attr(\"transform\", `translate(${pading.left},${pading.top})`).attr(\"class\", 'y axis').call(yAxis);\n\n\n    function updateCanvasWidth() {\n        //@ts-ignore\n        canvas.style.width = lineChartObj.width;\n        svg\n            .attr(\"width\", lineChartObj.width + pading.left + pading.right)\n            .attr(\"height\", lineChartObj.height + pading.top + pading.bottom)\n        foreignObj.attr(\"width\", lineChartObj.width);\n        xScale.domain([0, lineChartObj.width]).range([0, lineChartObj.width]);\n        // showTimeXScale.domain([new Date(realTimeStampRange[0]), new Date(realTimeStampRange[1])]).range([0, lineChartObj.width]);\n        if(lineChartObj.timeRange[1]<=0){\n            lineChartObj.timeRange[1] = rowNumber\n        }\n        showXTimeScale = d3.scaleLinear().domain([lineChartObj.timeRange[0] , lineChartObj.timeRange[1]]).range([0, lineChartObj.width]);\n        // showXTimeScale = d3.scaleTime().domain([new Date(Math.floor(indexToTimeStampScale(0))), new Date(Math.floor(indexToTimeStampScale(rowNumber)))]).range([0, lineChartObj.width]);\n\n        //showTimeXScale.range([0, lineChartObj.width]);\n        if (zoomAxisG != null) {\n            zoomAxisG.remove();\n            zoomAxisG = svg.append(\"g\").attr('style', 'user-select:none').attr(\"transform\", `translate(${pading.left},${lineChartObj.height + pading.top + 50})`).attr(\"class\", 'x axis').call(zoomAxis)\n        }\n        timeBrushObj.extent([[0, 10], [lineChartObj.width, 40]]);\n        timeBrushObj.on(\"end\", brushed);\n        timeBrushObj.on(\"start\", () => {\n            console.log(\"start\")\n        })\n         const tempReScale=d3.scaleLinear().domain([0, lineChartObj.maxLen - 1]).range([0,lineChartObj.width]);\n\n         timeBoxG.call(timeBrushObj).call(timeBrushObj.move, [tempReScale(lineChartObj.timeRange[0]), tempReScale(lineChartObj.timeRange[1])]);\n        ctx = canvas.getContext(\"2d\");\n    }\n\n    async function draw(nonUniformColObjs?: any) {\n\n\n\n        //await sleep(10*1000)\n        \n\n\n        canvas.width = lineChartObj.width;\n        // yScale = d3.scaleLinear().domain([lineChartObj.data.minv, lineChartObj.data.maxv]).range([lineChartObj.height, 0]);\n        yScale = d3.scaleLinear().domain([lineChartObj.minV, lineChartObj.maxV]).range([lineChartObj.height, 0]);\n        // yScale = d3.scaleLinear().domain([-finalValue, finalValue]).range([lineChartObj.height, 0]);\n        yAxis = d3.axisLeft(yScale)\n        if (yAxisG !== null && yAxisG !== undefined) {\n            yAxisG.remove();\n        }\n        yAxisG = svg.append(\"g\").attr('style', 'user-select:none').attr(\"transform\", `translate(${pading.left},${pading.top})`).attr(\"class\", 'y axis').call(yAxis);\n\n        // showXTimeScale = d3.scaleTime().domain([new Date(Math.floor(indexToTimeStampScale(lineChartObj.timeRange[0]))), new Date(Math.floor(indexToTimeStampScale(lineChartObj.timeRange[1])))]).range([0, lineChartObj.width]);\n        // lineChartObj.timeRange[0] = timeRange[0];\n        // lineChartObj.timeRange[1] = timeRange[1];\n        if(lineChartObj.timeRange[1]<=0){\n            lineChartObj.timeRange[1] = rowNumber\n        }\n        showXTimeScale = d3.scaleLinear().domain([lineChartObj.timeRange[0] , lineChartObj.timeRange[1]]).range([0, lineChartObj.width]);\n        xAxis = d3.axisBottom(showXTimeScale);\n        if (xAxisG !== null && xAxisG !== undefined) {\n            xAxisG.remove();\n        }\n        xAxisG = svg.append(\"g\").attr('style', 'user-select:none').attr(\"transform\", `translate(${pading.left},${lineChartObj.height + pading.top})`).attr(\"class\", 'x axis').call(xAxis)\n\n        if (foreignObj == null && nonUniformColObjs) {\n            foreignObj = svg.append(\"foreignObject\")\n                .attr(\"id\", \"foreign\")\n                .attr('x', pading.left)\n                .attr('y', pading.top)\n                .attr('width', lineChartObj.width)\n                .attr('height', lineChartObj.height);\n            const canvas = document.createElement(\"canvas\");\n            document.getElementById(\"foreign\")?.appendChild(canvas);\n            canvas.width = lineChartObj.width;\n            canvas.height = lineChartObj.height;\n            ctx = canvas.getContext(\"2d\");\n        }\n\n        nonUniformColObjs = nonUniformColObjs[0];\n        if (nonUniformColObjs && ctx) {\n            ctx.clearRect(0, 0, lineChartObj.width, lineChartObj.height);\n            ctx.beginPath();\n            ctx.strokeStyle = \"steelblue\"\n            let interval = (nonUniformColObjs[0].et - nonUniformColObjs[0].st)/3;\n            for (let i = 0; i < nonUniformColObjs.length; i++) {\n                ctx.moveTo(showXTimeScale(nonUniformColObjs[i].st), yScale(nonUniformColObjs[i].sv));\n                ctx.lineTo(showXTimeScale(nonUniformColObjs[i].st + interval*2), yScale(nonUniformColObjs[i].min));\n                ctx.moveTo(showXTimeScale(nonUniformColObjs[i].st + interval*2), yScale(nonUniformColObjs[i].min));\n                ctx.lineTo(showXTimeScale(nonUniformColObjs[i].st + interval*3), yScale(nonUniformColObjs[i].max));\n                ctx.moveTo(showXTimeScale(nonUniformColObjs[i].st + interval*3), yScale(nonUniformColObjs[i].max));\n                ctx.lineTo(showXTimeScale(nonUniformColObjs[i].et), yScale(nonUniformColObjs[i].ev));\n                if (i <= nonUniformColObjs.length - 2) {\n                    ctx.moveTo(showXTimeScale(nonUniformColObjs[i].et), yScale(nonUniformColObjs[i].ev));\n                    ctx.lineTo(showXTimeScale(nonUniformColObjs[i + 1].st), yScale(nonUniformColObjs[i + 1].sv));\n                }\n            }\n            ctx.stroke();\n        } else {\n            console.log(\"error\")\n        }        \n\n    }\n\n    //@ts-ignore\n    async function brushed({ selection }) {\n        if (!isInit) {\n            isInit = true\n            return;\n        }\n        // if (isResizing) {\n        //     isRebacking = false;\n        //     return;\n        // }\n        // if (isRebacking) {\n        //     isRebacking = false;\n        //     return\n        // }\n\n        const timeRange = [Math.floor(xReScale(selection[0])), Math.floor(xReScale(selection[1]))];\n\n        if (timeRange[0] < 0) {\n            timeRange[0] = 0;\n        }\n        if (timeRange[1] > rowNumber) {\n            timeRange[1] = rowNumber\n        }\n\n\n        const interInfo = new InteractionInfo(\"zoom\")\n        lineChartObj.timeRange[0] = timeRange[0];\n        lineChartObj.timeRange[1] = timeRange[1];\n        interInfo.setRangeW(lineChartObj.timeRange, lineChartObj.width, lineChartObj.currentLevel);\n        interactionStack.push(interInfo);\n\n        console.log(\"brush....\");\n\n         console.log('brushed:',timeRange)\n\n        // console.log('brushed:',rowNumber)\n        // console.log('brushed:',line1)\n\n        let params = line1\n        let table_name = params[0];\n        let columns = params[1];\n        let symbol = params[2];\n        let experiment = params[3];\n        let width = params[4].width\n        let height = params[4].height\n        let mode = params[6]\n        let parallel = 1;\n        let errorBound = params[5]._value;\n        let startTime = timeRange[0];\n        let endTime = timeRange[1];\n        let interact_type = ''\n        let aggregate = params[7]\n    \n        if(symbol == '+'){\n            symbol='plus'\n        }else if(symbol == '-'){\n            symbol='minus'\n        }else if(symbol == '*'){\n            symbol='multi'\n        }else if(symbol == '/'){\n            symbol='devide'\n        }\n    \n    \n        console.log(table_name,experiment,columns,symbol,'',width,height,mode,parallel,errorBound,startTime,endTime, interact_type, aggregate)\n    \n    //http://10.16.13.21:35811/postgres/line_chart/start?table_name=testto&columns=v1,v2,v3,v4&symbol=+&mode=single&width=600&height=600&startTime=0&endTime=-1&interact_type=zoom&experiment=ours&parallel=0&errorBound=0.01\n        let combinedUrl = `/line_chart/start?table_name=${table_name}&columns=${columns}&symbol=${symbol}&mode=${mode}&width=${width}&height=${height}&startTime=${startTime}&endTime=${endTime}&interact_type=${interact_type}&experiment=${experiment}&parallel=${parallel}&errorBound=${errorBound}&aggregate=${aggregate}`;\n    \n    \n\n        const showColumns = await get(combinedUrl);\n        draw(showColumns['M4_arrays']);\n    }\n\n    async function resizeW(width: number) {\n        isResizing = true;\n        const currentLevel = lineChartObj.currentLevel;\n\n        lineChartObj.width = width;\n        updateCanvasWidth();\n\n        //@ts-ignore\n        canvas.style.width = lineChartObj.width;\n\n        console.log(\"resize....\");\n        console.log(width);\n        // let mode = \"compute\";\n        // let type = \"\"\n        // let parallel = 0;\n        // let errorBound = 0;\n        // const combinedUrl = `/line_chart/case1?table_name=${line1[0]}&table_name_others=${line1[1]}&symbol=${line1[2]}&mode=${mode}&width=${lineChartObj.width}&height=${lineChartObj.height}&startTime=${lineChartObj.timeRange[0]}&endTime=${lineChartObj.timeRange[1]}&interact_type=${type}&experiment=${line1[3]}&parallel=${parallel}&errorBound=${errorBound}`;\n\n\n        let params = line1\n        let table_name = params[0];\n        let columns = params[1];\n        let symbol = params[2];\n        let experiment = params[3];\n        //let width = params[4].width\n        let height = params[4].height\n        let mode = params[6]\n        let parallel = 1;\n        let errorBound = params[5]._value;\n        //要修改\n        let startTime = 0;\n        let endTime = -1;\n        let interact_type = ''\n        let aggregate = params[7]\n    \n        if(symbol == '+'){\n            symbol='plus'\n        }else if(symbol == '-'){\n            symbol='minus'\n        }else if(symbol == '*'){\n            symbol='multi'\n        }else if(symbol == '/'){\n            symbol='devide'\n        }\n    \n    \n        console.log(table_name,experiment,columns,symbol,'',width,height,mode,parallel,errorBound,startTime,endTime, interact_type, aggregate)\n    \n    //http://10.16.13.21:35811/postgres/line_chart/start?table_name=testto&columns=v1,v2,v3,v4&symbol=+&mode=single&width=600&height=600&startTime=0&endTime=-1&interact_type=zoom&experiment=ours&parallel=0&errorBound=0.01\n        let combinedUrl = `/line_chart/start?table_name=${table_name}&columns=${columns}&symbol=${symbol}&mode=${mode}&width=${width}&height=${height}&startTime=${startTime}&endTime=${endTime}&interact_type=${interact_type}&experiment=${experiment}&parallel=${parallel}&errorBound=${errorBound}&aggregate=${errorBound}`;\n    \n\n\n\n        const showColumns = await get(combinedUrl);\n        draw(showColumns['M4_arrays']);\n    }\n    let isMouseover = false;\n    let startOffsetX = 0;\n    const dragRect = svg\n        .append(\"rect\")\n        .attr(\"x\", 0)\n        .attr(\"y\", 0)\n        .attr(\"height\", lineChartObj.height + pading.top + pading.bottom)\n        .attr(\"width\", lineChartObj.width + pading.left + pading.right)\n        .attr(\"stroke\", \"black\")\n        .attr(\"stroke-width\", 4)\n        .attr(\"fill\", \"none\")\n        .on(\"mouseover\", () => {\n            document.body.style.cursor = 'ew-resize';\n            isMouseover = true;\n        })\n        .on(\"mousedown\", (e) => {\n            if (isMouseover) {\n                startOffsetX = e.offsetX;\n                interactiveInfo.isMouseDown = true;\n            }\n        })\n        .on(\"mouseup\", () => {\n            console.log()\n        })\n        .on(\"mousemove\", (e) => {\n            if (interactiveInfo.isMouseDown) {\n                svg.attr(\"width\", lineChartObj.width + pading.right + pading.left + (e.offsetX - startOffsetX));\n                dragRect.attr(\"width\", lineChartObj.width + pading.right + pading.left + (e.offsetX - startOffsetX));\n            }\n        })\n        .on(\"mouseleave\", () => {\n            if (!interactiveInfo.isMouseDown) {\n                document.body.style.cursor = 'default';\n            }\n        })\n\n    document\n        .getElementById(\"content-container\")!\n        .addEventListener(\"mousemove\", (e) => {\n            if (interactiveInfo.isMouseDown) {\n                svg.attr(\"width\", lineChartObj.width + pading.right + pading.left + (e.offsetX - startOffsetX));\n                dragRect.attr(\"width\", lineChartObj.width + pading.right + pading.left + (e.offsetX - startOffsetX));\n            }\n        });\n\n    document\n        .getElementById(\"content-container\")!\n        .addEventListener(\"mouseup\", (e) => {\n            if (interactiveInfo.isMouseDown) {\n                interactiveInfo.isMouseDown = false;\n                isMouseover = false;\n                document.body.style.cursor = 'default';\n                let preWidth = lineChartObj.width;\n                lineChartObj.width = lineChartObj.width + (e.offsetX - startOffsetX);\n                if (lineChartObj.width === preWidth) {\n                    return\n                }\n                const interInfo = new InteractionInfo(\"resize\")\n                interInfo.setRangeW(lineChartObj.timeRange, lineChartObj.width, lineChartObj.currentLevel);\n                interactionStack.push(interInfo);\n                resizeW(lineChartObj.width)\n            }\n        });\n\n    return draw\n}\n\nfunction computeMinMax(columInfo: Array<NoUniformColObj>) {\n    let min = Infinity;\n    let max = -Infinity;\n\n    for (let j = 0; j < columInfo.length; j++) {\n        if (columInfo[j].vRange[0] < min) {\n            min = columInfo[j].vRange[0];\n        }\n\n        if (columInfo[j].vRange[1] > max) {\n            max = columInfo[j].vRange[1];\n        }\n\n    }\n\n    return {\n        min,\n        max\n    }\n}\n\nfunction savePNG(canvas: any) {\n    const imgURL = canvas.toDataURL(\"./image/png\");\n    const dlLink = document.createElement(\"a\")\n    dlLink.download = `1b_zoom_init`\n    dlLink.href = imgURL\n    dlLink.dataset.downloadurl = [\"./image/png\", dlLink.download, dlLink.href].join(\":\")\n    document.body.appendChild(dlLink)\n    dlLink.click()\n    document.body.removeChild(dlLink)\n}"],"mappings":"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","ignoreList":[]}]}