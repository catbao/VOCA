{"remainingRequest":"/Users/bao/Downloads/VOCA/voca-client/node_modules/babel-loader/lib/index.js!/Users/bao/Downloads/VOCA/voca-client/node_modules/ts-loader/index.js??ref--15-2!/Users/bao/Downloads/VOCA/voca-client/node_modules/eslint-loader/index.js??ref--14-0!/Users/bao/Downloads/VOCA/voca-client/src/helper/distortion.ts","dependencies":[{"path":"/Users/bao/Downloads/VOCA/voca-client/src/helper/distortion.ts","mtime":1732546288000},{"path":"/Users/bao/Downloads/VOCA/voca-client/babel.config.js","mtime":1732546288000},{"path":"/Users/bao/Downloads/VOCA/voca-client/node_modules/cache-loader/dist/cjs.js","mtime":1732627998000},{"path":"/Users/bao/Downloads/VOCA/voca-client/node_modules/babel-loader/lib/index.js","mtime":1732627998000},{"path":"/Users/bao/Downloads/VOCA/voca-client/node_modules/ts-loader/index.js","mtime":1732627997000},{"path":"/Users/bao/Downloads/VOCA/voca-client/node_modules/eslint-loader/index.js","mtime":1732627997000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucmVkdWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXNuZXh0Lml0ZXJhdG9yLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXNuZXh0Lml0ZXJhdG9yLm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzbmV4dC5pdGVyYXRvci5yZWR1Y2UuanMiOwovL0B0cy1ub2NoZWNrCmltcG9ydCAqIGFzIGQzIGZyb20gImQzIjsKZXhwb3J0IGZ1bmN0aW9uIEF4aXNEaXN0b3J0aW9uKGQpIHsKICBjb25zdCBzY2FsZSA9IGQzLnNjYWxlTGluZWFyKCk7CiAgbGV0IGNhY2hlU3VtRGlzdG9ydGlvbiA9IG51bGw7CiAgbGV0IGNhY2hlRGlzdG9ydGlvbiA9IG51bGw7CiAgZnVuY3Rpb24gZmlzaGV5ZShfKSB7CiAgICBjb25zdCBjb2xzID0gZC5sZW5ndGg7CiAgICBsZXQgc3VtRGlzdG9ydGlvbjsKICAgIGlmIChjYWNoZURpc3RvcnRpb24gPT09IGQpIHsKICAgICAgc3VtRGlzdG9ydGlvbiA9IGNhY2hlU3VtRGlzdG9ydGlvbjsKICAgIH0gZWxzZSB7CiAgICAgIGxldCBbcG9pbnRlciwgc3VtRF0gPSBkLnJlZHVjZSgoW3AsIHNdLCB2KSA9PiBbcCArIHYsIHMuY29uY2F0KFtwICsgdl0pXSwgWzAsIFswXV0pOwogICAgICBjb25zdCByYXRpbyA9IGNvbHMgLyBwb2ludGVyOwogICAgICBzdW1EID0gc3VtRC5tYXAoZCA9PiBkICogcmF0aW8pOwogICAgICBjYWNoZVN1bURpc3RvcnRpb24gPSBzdW1EOwogICAgICBjYWNoZURpc3RvcnRpb24gPSBkOwogICAgICBzdW1EaXN0b3J0aW9uID0gc3VtRDsKICAgIH0KICAgIGxldCB4ID0gc2NhbGUoXyk7CiAgICBsZXQgc3RhcnRJbmRleCA9IHN1bURpc3RvcnRpb24uZmluZEluZGV4KChkLCBpKSA9PiBkIDw9IHggJiYgKGkgPj0gY29scyAtIDEgfHwgc3VtRGlzdG9ydGlvbltpICsgMV0gPiB4KSk7CiAgICBpZiAoc3RhcnRJbmRleCA+PSBjb2xzIC0gMSkgcmV0dXJuIGNvbHM7CiAgICBpZiAoc3RhcnRJbmRleCA8IDApIHJldHVybiAwOwogICAgcmV0dXJuIHN0YXJ0SW5kZXggKyAoeCAtIHN1bURpc3RvcnRpb25bc3RhcnRJbmRleF0pIC8gKHN1bURpc3RvcnRpb25bc3RhcnRJbmRleCArIDFdIC0gc3VtRGlzdG9ydGlvbltzdGFydEluZGV4XSk7CiAgfQogIGZpc2hleWUuY2hhbmdlRGlzdG9ydGlvbiA9IGZ1bmN0aW9uIChfKSB7CiAgICBkID0gXzsKICAgIHJldHVybiBmaXNoZXllOwogIH07CiAgZmlzaGV5ZS5jb3B5ID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIEF4aXNEaXN0b3J0aW9uKEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZCkpKTsKICB9OwogIGZpc2hleWUuZG9tYWluID0gZnVuY3Rpb24gKF8pIHsKICAgIGlmICghXykgcmV0dXJuIHNjYWxlLmRvbWFpbigpOwogICAgc2NhbGUuZG9tYWluKF8pOwogICAgcmV0dXJuIGZpc2hleWU7CiAgfTsKICBmaXNoZXllLnJhbmdlID0gZnVuY3Rpb24gKF8pIHsKICAgIGlmICghXykgcmV0dXJuIHNjYWxlLnJhbmdlKCk7CiAgICBzY2FsZS5yYW5nZShfKTsKICAgIHJldHVybiBmaXNoZXllOwogIH07CiAgZmlzaGV5ZS5uaWNlID0gc2NhbGUubmljZTsKICBmaXNoZXllLnRpY2tzID0gc2NhbGUudGlja3M7CiAgZmlzaGV5ZS50aWNrRm9ybWF0ID0gc2NhbGUudGlja0Zvcm1hdDsKICByZXR1cm4gZmlzaGV5ZTsKfQpleHBvcnQgZnVuY3Rpb24gRmlzaGV5ZURpc3RvcnRpb24oc2NhbGUsIGQsIGEpIHsKICBmdW5jdGlvbiBmaXNoZXllKF8pIHsKICAgIGxldCB4ID0gc2NhbGUoXyksCiAgICAgIGxlZnQgPSB4IDwgYSwKICAgICAgcmFuZ2UgPSBkMy5leHRlbnQoc2NhbGUucmFuZ2UoKSksCiAgICAgIG1pbiA9IHJhbmdlWzBdLAogICAgICBtYXggPSByYW5nZVsxXSwKICAgICAgbSA9IGxlZnQgPyBhIC0gbWluIDogbWF4IC0gYTsKICAgIGlmIChtID09IDApIG0gPSBtYXggLSBtaW47CiAgICByZXR1cm4gKGxlZnQgPyAtMSA6IDEpICogbSAqIChkICsgMSkgLyAoZCArIG0gLyBNYXRoLmFicyh4IC0gYSkpICsgYTsKICB9CiAgZmlzaGV5ZS5kaXN0b3J0aW9uID0gZnVuY3Rpb24gKF8pIHsKICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkgcmV0dXJuIGQ7CiAgICBkID0gK187CiAgICByZXR1cm4gZmlzaGV5ZTsKICB9OwogIGZpc2hleWUuZm9jdXMgPSBmdW5jdGlvbiAoXykgewogICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSByZXR1cm4gYTsKICAgIGEgPSArXzsKICAgIHJldHVybiBmaXNoZXllOwogIH07CiAgZmlzaGV5ZS5jb3B5ID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIEZpc2hleWVEaXN0b3J0aW9uKHNjYWxlLmNvcHkoKSwgZCwgYSk7CiAgfTsKICBmaXNoZXllLmRvbWFpbiA9IGZ1bmN0aW9uIChfKSB7CiAgICBpZiAoIV8pIHJldHVybiBzY2FsZS5kb21haW4oKTsKICAgIHNjYWxlLmRvbWFpbihfKTsKICAgIHJldHVybiBmaXNoZXllOwogIH07CiAgZmlzaGV5ZS5yYW5nZSA9IGZ1bmN0aW9uIChfKSB7CiAgICBpZiAoIV8pIHJldHVybiBzY2FsZS5yYW5nZSgpOwogICAgc2NhbGUucmFuZ2UoXyk7CiAgICByZXR1cm4gZmlzaGV5ZTsKICB9OwogIGZpc2hleWUubmljZSA9IHNjYWxlLm5pY2U7CiAgZmlzaGV5ZS50aWNrcyA9IHNjYWxlLnRpY2tzOwogIGZpc2hleWUudGlja0Zvcm1hdCA9IHNjYWxlLnRpY2tGb3JtYXQ7CiAgcmV0dXJuIGZpc2hleWU7Cn0="},{"version":3,"names":["d3","AxisDistortion","d","scale","scaleLinear","cacheSumDistortion","cacheDistortion","fisheye","_","cols","length","sumDistortion","pointer","sumD","reduce","p","s","v","concat","ratio","map","x","startIndex","findIndex","i","changeDistortion","copy","JSON","parse","stringify","domain","range","nice","ticks","tickFormat","FisheyeDistortion","a","left","extent","min","max","m","Math","abs","distortion","arguments","focus"],"sources":["/Users/bao/Downloads/VOCA/voca-client/node_modules/eslint-loader/index.js??ref--14-0!/Users/bao/Downloads/VOCA/voca-client/src/helper/distortion.ts"],"sourcesContent":["//@ts-nocheck\nimport * as d3 from \"d3\";\n\nexport function AxisDistortion(d) {\n  const scale = d3.scaleLinear();\n  let cacheSumDistortion = null;\n  let cacheDistortion = null;\n\n  function fisheye(_) {\n    const cols = d.length;\n    let sumDistortion;\n    if (cacheDistortion === d) {\n      sumDistortion = cacheSumDistortion;\n    } else {\n      let [pointer, sumD] = d.reduce(\n        ([p, s], v) => [p + v, s.concat([p + v])],\n        [0, [0]]\n      );\n      const ratio = cols / pointer;\n      sumD = sumD.map((d) => d * ratio);\n      cacheSumDistortion = sumD;\n      cacheDistortion = d;\n      sumDistortion = sumD;\n    }\n    let x = scale(_);\n    let startIndex = sumDistortion.findIndex(\n      (d, i) => d <= x && (i >= cols - 1 || sumDistortion[i + 1] > x)\n    );\n    if (startIndex >= cols - 1) return cols;\n    if (startIndex < 0) return 0;\n    return (\n      startIndex +\n      (x - sumDistortion[startIndex]) /\n        (sumDistortion[startIndex + 1] - sumDistortion[startIndex])\n    );\n  }\n\n  fisheye.changeDistortion = function (_) {\n    d = _;\n    return fisheye;\n  };\n\n  fisheye.copy = function () {\n    return AxisDistortion(JSON.parse(JSON.stringify(d)));\n  };\n\n  fisheye.domain = function (_) {\n    if (!_) return scale.domain();\n    scale.domain(_);\n    return fisheye;\n  };\n\n  fisheye.range = function (_) {\n    if (!_) return scale.range();\n    scale.range(_);\n    return fisheye;\n  };\n\n  fisheye.nice = scale.nice;\n  fisheye.ticks = scale.ticks;\n  fisheye.tickFormat = scale.tickFormat;\n\n  return fisheye;\n}\n\nexport function FisheyeDistortion(scale, d, a) {\n  function fisheye(_) {\n    let x = scale(_),\n      left = x < a,\n      range = d3.extent(scale.range()),\n      min = range[0],\n      max = range[1],\n      m = left ? a - min : max - a;\n    if (m == 0) m = max - min;\n    return ((left ? -1 : 1) * m * (d + 1)) / (d + m / Math.abs(x - a)) + a;\n  }\n\n  fisheye.distortion = function (_) {\n    if (!arguments.length) return d;\n    d = +_;\n    return fisheye;\n  };\n\n  fisheye.focus = function (_) {\n    if (!arguments.length) return a;\n    a = +_;\n    return fisheye;\n  };\n\n  fisheye.copy = function () {\n    return FisheyeDistortion(scale.copy(), d, a);\n  };\n\n  fisheye.domain = function (_) {\n    if (!_) return scale.domain();\n    scale.domain(_);\n    return fisheye;\n  };\n\n  fisheye.range = function (_) {\n    if (!_) return scale.range();\n    scale.range(_);\n    return fisheye;\n  };\n\n  fisheye.nice = scale.nice;\n  fisheye.ticks = scale.ticks;\n  fisheye.tickFormat = scale.tickFormat;\n  return fisheye;\n}\n"],"mappings":"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","ignoreList":[]}]}